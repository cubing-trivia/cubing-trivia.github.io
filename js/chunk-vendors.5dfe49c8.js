(self["webpackChunkcubing_trivia"]=self["webpackChunkcubing_trivia"]||[]).push([[998],{9662:function(e,t,n){var r=n(614),i=n(6330),s=TypeError;e.exports=function(e){if(r(e))return e;throw s(i(e)+" is not a function")}},6077:function(e,t,n){var r=n(614),i=String,s=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw s("Can't set "+i(e)+" as a prototype")}},1223:function(e,t,n){var r=n(5112),i=n(30),s=n(3070).f,o=r("unscopables"),a=Array.prototype;void 0==a[o]&&s(a,o,{configurable:!0,value:i(null)}),e.exports=function(e){a[o][e]=!0}},9670:function(e,t,n){var r=n(111),i=String,s=TypeError;e.exports=function(e){if(r(e))return e;throw s(i(e)+" is not an object")}},4019:function(e){e.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},260:function(e,t,n){"use strict";var r,i,s,o=n(4019),a=n(9781),l=n(7854),c=n(614),u=n(111),h=n(2597),d=n(648),p=n(6330),f=n(8880),m=n(8052),g=n(3070).f,v=n(7976),w=n(9518),y=n(7674),x=n(5112),b=n(9711),M=l.Int8Array,S=M&&M.prototype,k=l.Uint8ClampedArray,z=k&&k.prototype,I=M&&w(M),T=S&&w(S),L=Object.prototype,E=l.TypeError,A=x("toStringTag"),C=b("TYPED_ARRAY_TAG"),D=b("TYPED_ARRAY_CONSTRUCTOR"),R=o&&!!y&&"Opera"!==d(l.opera),N=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O={BigInt64Array:8,BigUint64Array:8},U=function(e){if(!u(e))return!1;var t=d(e);return"DataView"===t||h(P,t)||h(O,t)},j=function(e){if(!u(e))return!1;var t=d(e);return h(P,t)||h(O,t)},_=function(e){if(j(e))return e;throw E("Target is not a typed array")},F=function(e){if(c(e)&&(!y||v(I,e)))return e;throw E(p(e)+" is not a typed array constructor")},B=function(e,t,n,r){if(a){if(n)for(var i in P){var s=l[i];if(s&&h(s.prototype,e))try{delete s.prototype[e]}catch(o){try{s.prototype[e]=t}catch(c){}}}T[e]&&!n||m(T,e,n?t:R&&S[e]||t,r)}},W=function(e,t,n){var r,i;if(a){if(y){if(n)for(r in P)if(i=l[r],i&&h(i,e))try{delete i[e]}catch(s){}if(I[e]&&!n)return;try{return m(I,e,n?t:R&&I[e]||t)}catch(s){}}for(r in P)i=l[r],!i||i[e]&&!n||m(i,e,t)}};for(r in P)i=l[r],s=i&&i.prototype,s?f(s,D,i):R=!1;for(r in O)i=l[r],s=i&&i.prototype,s&&f(s,D,i);if((!R||!c(I)||I===Function.prototype)&&(I=function(){throw E("Incorrect invocation")},R))for(r in P)l[r]&&y(l[r],I);if((!R||!T||T===L)&&(T=I.prototype,R))for(r in P)l[r]&&y(l[r].prototype,T);if(R&&w(z)!==T&&y(z,T),a&&!h(T,A))for(r in N=!0,g(T,A,{get:function(){return u(this)?this[C]:void 0}}),P)l[r]&&f(l[r],C,r);e.exports={NATIVE_ARRAY_BUFFER_VIEWS:R,TYPED_ARRAY_CONSTRUCTOR:D,TYPED_ARRAY_TAG:N&&C,aTypedArray:_,aTypedArrayConstructor:F,exportTypedArrayMethod:B,exportTypedArrayStaticMethod:W,isView:U,isTypedArray:j,TypedArray:I,TypedArrayPrototype:T}},1318:function(e,t,n){var r=n(5656),i=n(1400),s=n(6244),o=function(e){return function(t,n,o){var a,l=r(t),c=s(l),u=i(o,c);if(e&&n!=n){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:o(!0),indexOf:o(!1)}},4326:function(e,t,n){var r=n(1702),i=r({}.toString),s=r("".slice);e.exports=function(e){return s(i(e),8,-1)}},648:function(e,t,n){var r=n(1694),i=n(614),s=n(4326),o=n(5112),a=o("toStringTag"),l=Object,c="Arguments"==s(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?s:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=l(e),a))?n:c?s(t):"Object"==(r=s(t))&&i(t.callee)?"Arguments":r}},7741:function(e,t,n){var r=n(1702),i=Error,s=r("".replace),o=function(e){return String(i(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);e.exports=function(e,t){if(l&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=s(e,a,"");return e}},9920:function(e,t,n){var r=n(2597),i=n(3887),s=n(1236),o=n(3070);e.exports=function(e,t,n){for(var a=i(t),l=o.f,c=s.f,u=0;u<a.length;u++){var h=a[u];r(e,h)||n&&r(n,h)||l(e,h,c(t,h))}}},8544:function(e,t,n){var r=n(7293);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},8880:function(e,t,n){var r=n(9781),i=n(3070),s=n(9114);e.exports=r?function(e,t,n){return i.f(e,t,s(1,n))}:function(e,t,n){return e[t]=n,e}},9114:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:function(e,t,n){var r=n(614),i=n(8880),s=n(6339),o=n(3072);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;return r(n)&&s(n,c,a),a.global?l?e[t]=n:o(t,n):(a.unsafe?e[t]&&(l=!0):delete e[t],l?e[t]=n:i(e,t,n)),e}},3072:function(e,t,n){var r=n(7854),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},9781:function(e,t,n){var r=n(7293);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},317:function(e,t,n){var r=n(7854),i=n(111),s=r.document,o=i(s)&&i(s.createElement);e.exports=function(e){return o?s.createElement(e):{}}},8113:function(e,t,n){var r=n(5005);e.exports=r("navigator","userAgent")||""},7392:function(e,t,n){var r,i,s=n(7854),o=n(8113),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&o&&(r=o.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},748:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2914:function(e,t,n){var r=n(7293),i=n(9114);e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},2109:function(e,t,n){var r=n(7854),i=n(1236).f,s=n(8880),o=n(8052),a=n(3072),l=n(9920),c=n(4705);e.exports=function(e,t){var n,u,h,d,p,f,m=e.target,g=e.global,v=e.stat;if(u=g?r:v?r[m]||a(m,{}):(r[m]||{}).prototype,u)for(h in t){if(p=t[h],e.dontCallGetSet?(f=i(u,h),d=f&&f.value):d=u[h],n=c(g?h:m+(v?".":"#")+h,e.forced),!n&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&s(p,"sham",!0),o(u,h,p,e)}}},7293:function(e){e.exports=function(e){try{return!!e()}catch(t){return!0}}},2104:function(e,t,n){var r=n(4374),i=Function.prototype,s=i.apply,o=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?o.bind(s):function(){return o.apply(s,arguments)})},4374:function(e,t,n){var r=n(7293);e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:function(e,t,n){var r=n(4374),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},6530:function(e,t,n){var r=n(9781),i=n(2597),s=Function.prototype,o=r&&Object.getOwnPropertyDescriptor,a=i(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!r||r&&o(s,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},1702:function(e,t,n){var r=n(4374),i=Function.prototype,s=i.bind,o=i.call,a=r&&s.bind(o,o);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return o.apply(e,arguments)}}},5005:function(e,t,n){var r=n(7854),i=n(614),s=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?s(r[e]):r[e]&&r[e][t]}},8173:function(e,t,n){var r=n(9662);e.exports=function(e,t){var n=e[t];return null==n?void 0:r(n)}},7854:function(e,t,n){var r=function(e){return e&&e.Math==Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},2597:function(e,t,n){var r=n(1702),i=n(7908),s=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return s(i(e),t)}},3501:function(e){e.exports={}},490:function(e,t,n){var r=n(5005);e.exports=r("document","documentElement")},4664:function(e,t,n){var r=n(9781),i=n(7293),s=n(317);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},8361:function(e,t,n){var r=n(1702),i=n(7293),s=n(4326),o=Object,a=r("".split);e.exports=i((function(){return!o("z").propertyIsEnumerable(0)}))?function(e){return"String"==s(e)?a(e,""):o(e)}:o},9587:function(e,t,n){var r=n(614),i=n(111),s=n(7674);e.exports=function(e,t,n){var o,a;return s&&r(o=t.constructor)&&o!==n&&i(a=o.prototype)&&a!==n.prototype&&s(e,a),e}},2788:function(e,t,n){var r=n(1702),i=n(614),s=n(5465),o=r(Function.toString);i(s.inspectSource)||(s.inspectSource=function(e){return o(e)}),e.exports=s.inspectSource},8340:function(e,t,n){var r=n(111),i=n(8880);e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},9909:function(e,t,n){var r,i,s,o=n(8536),a=n(7854),l=n(1702),c=n(111),u=n(8880),h=n(2597),d=n(5465),p=n(6200),f=n(3501),m="Object already initialized",g=a.TypeError,v=a.WeakMap,w=function(e){return s(e)?i(e):r(e,{})},y=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw g("Incompatible receiver, "+e+" required");return n}};if(o||d.state){var x=d.state||(d.state=new v),b=l(x.get),M=l(x.has),S=l(x.set);r=function(e,t){if(M(x,e))throw new g(m);return t.facade=e,S(x,e,t),t},i=function(e){return b(x,e)||{}},s=function(e){return M(x,e)}}else{var k=p("state");f[k]=!0,r=function(e,t){if(h(e,k))throw new g(m);return t.facade=e,u(e,k,t),t},i=function(e){return h(e,k)?e[k]:{}},s=function(e){return h(e,k)}}e.exports={set:r,get:i,has:s,enforce:w,getterFor:y}},614:function(e){e.exports=function(e){return"function"==typeof e}},4705:function(e,t,n){var r=n(7293),i=n(614),s=/#|\.prototype\./,o=function(e,t){var n=l[a(e)];return n==u||n!=c&&(i(t)?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";e.exports=o},111:function(e,t,n){var r=n(614);e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},1913:function(e){e.exports=!1},2190:function(e,t,n){var r=n(5005),i=n(614),s=n(7976),o=n(3307),a=Object;e.exports=o?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&s(t.prototype,a(e))}},6244:function(e,t,n){var r=n(7466);e.exports=function(e){return r(e.length)}},6339:function(e,t,n){var r=n(7293),i=n(614),s=n(2597),o=n(9781),a=n(6530).CONFIGURABLE,l=n(2788),c=n(9909),u=c.enforce,h=c.get,d=Object.defineProperty,p=o&&!r((function(){return 8!==d((function(){}),"length",{value:8}).length})),f=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||a&&e.name!==t)&&d(e,"name",{value:t,configurable:!0}),p&&n&&s(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?o&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=u(e);return s(r,"source")||(r.source=f.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return i(this)&&h(this).source||l(this)}),"toString")},4758:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var r=+e;return(r>0?n:t)(r)}},133:function(e,t,n){var r=n(7392),i=n(7293);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},8536:function(e,t,n){var r=n(7854),i=n(614),s=n(2788),o=r.WeakMap;e.exports=i(o)&&/native code/.test(s(o))},6277:function(e,t,n){var r=n(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},30:function(e,t,n){var r,i=n(9670),s=n(6048),o=n(748),a=n(3501),l=n(490),c=n(317),u=n(6200),h=">",d="<",p="prototype",f="script",m=u("IE_PROTO"),g=function(){},v=function(e){return d+f+h+e+d+"/"+f+h},w=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=c("iframe"),n="java"+f+":";return t.style.display="none",l.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},x=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}x="undefined"!=typeof document?document.domain&&r?w(r):y():w(r);var e=o.length;while(e--)delete x[p][o[e]];return x()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(g[p]=i(e),n=new g,g[p]=null,n[m]=e):n=x(),void 0===t?n:s.f(n,t)}},6048:function(e,t,n){var r=n(9781),i=n(3353),s=n(3070),o=n(9670),a=n(5656),l=n(1956);t.f=r&&!i?Object.defineProperties:function(e,t){o(e);var n,r=a(t),i=l(t),c=i.length,u=0;while(c>u)s.f(e,n=i[u++],r[n]);return e}},3070:function(e,t,n){var r=n(9781),i=n(4664),s=n(3353),o=n(9670),a=n(4948),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";t.f=r?s?function(e,t,n){if(o(e),t=a(t),o(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=u(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:d in n?n[d]:r[d],enumerable:h in n?n[h]:r[h],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(o(e),t=a(t),o(n),i)try{return c(e,t,n)}catch(r){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},1236:function(e,t,n){var r=n(9781),i=n(6916),s=n(5296),o=n(9114),a=n(5656),l=n(4948),c=n(2597),u=n(4664),h=Object.getOwnPropertyDescriptor;t.f=r?h:function(e,t){if(e=a(e),t=l(t),u)try{return h(e,t)}catch(n){}if(c(e,t))return o(!i(s.f,e,t),e[t])}},8006:function(e,t,n){var r=n(6324),i=n(748),s=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,s)}},5181:function(e,t){t.f=Object.getOwnPropertySymbols},9518:function(e,t,n){var r=n(2597),i=n(614),s=n(7908),o=n(6200),a=n(8544),l=o("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=s(e);if(r(t,l))return t[l];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},7976:function(e,t,n){var r=n(1702);e.exports=r({}.isPrototypeOf)},6324:function(e,t,n){var r=n(1702),i=n(2597),s=n(5656),o=n(1318).indexOf,a=n(3501),l=r([].push);e.exports=function(e,t){var n,r=s(e),c=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&l(u,n);while(t.length>c)i(r,n=t[c++])&&(~o(u,n)||l(u,n));return u}},1956:function(e,t,n){var r=n(6324),i=n(748);e.exports=Object.keys||function(e){return r(e,i)}},5296:function(e,t){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,i=r&&!n.call({1:2},1);t.f=i?function(e){var t=r(this,e);return!!t&&t.enumerable}:n},7674:function(e,t,n){var r=n(1702),i=n(9670),s=n(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(o){}return function(n,r){return i(n),s(r),t?e(n,r):n.__proto__=r,n}}():void 0)},2140:function(e,t,n){var r=n(6916),i=n(614),s=n(111),o=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!s(a=r(n,e)))return a;if(i(n=e.valueOf)&&!s(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!s(a=r(n,e)))return a;throw o("Can't convert object to primitive value")}},3887:function(e,t,n){var r=n(5005),i=n(1702),s=n(8006),o=n(5181),a=n(9670),l=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=s.f(a(e)),n=o.f;return n?l(t,n(e)):t}},2626:function(e,t,n){var r=n(3070).f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},4488:function(e){var t=TypeError;e.exports=function(e){if(void 0==e)throw t("Can't call method on "+e);return e}},6200:function(e,t,n){var r=n(2309),i=n(9711),s=r("keys");e.exports=function(e){return s[e]||(s[e]=i(e))}},5465:function(e,t,n){var r=n(7854),i=n(3072),s="__core-js_shared__",o=r[s]||i(s,{});e.exports=o},2309:function(e,t,n){var r=n(1913),i=n(5465);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.22.8",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.22.8/LICENSE",source:"https://github.com/zloirock/core-js"})},1400:function(e,t,n){var r=n(9303),i=Math.max,s=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):s(n,t)}},5656:function(e,t,n){var r=n(8361),i=n(4488);e.exports=function(e){return r(i(e))}},9303:function(e,t,n){var r=n(4758);e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},7466:function(e,t,n){var r=n(9303),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},7908:function(e,t,n){var r=n(4488),i=Object;e.exports=function(e){return i(r(e))}},4590:function(e,t,n){var r=n(3002),i=RangeError;e.exports=function(e,t){var n=r(e);if(n%t)throw i("Wrong offset");return n}},3002:function(e,t,n){var r=n(9303),i=RangeError;e.exports=function(e){var t=r(e);if(t<0)throw i("The argument can't be less than 0");return t}},7593:function(e,t,n){var r=n(6916),i=n(111),s=n(2190),o=n(8173),a=n(2140),l=n(5112),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!i(e)||s(e))return e;var n,l=o(e,u);if(l){if(void 0===t&&(t="default"),n=r(l,e,t),!i(n)||s(n))return n;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},4948:function(e,t,n){var r=n(7593),i=n(2190);e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},1694:function(e,t,n){var r=n(5112),i=r("toStringTag"),s={};s[i]="z",e.exports="[object z]"===String(s)},1340:function(e,t,n){var r=n(648),i=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},6330:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},9711:function(e,t,n){var r=n(1702),i=0,s=Math.random(),o=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+o(++i+s,36)}},3307:function(e,t,n){var r=n(133);e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:function(e,t,n){var r=n(9781),i=n(7293);e.exports=r&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},5112:function(e,t,n){var r=n(7854),i=n(2309),s=n(2597),o=n(9711),a=n(133),l=n(3307),c=i("wks"),u=r.Symbol,h=u&&u["for"],d=l?u:u&&u.withoutSetter||o;e.exports=function(e){if(!s(c,e)||!a&&"string"!=typeof c[e]){var t="Symbol."+e;a&&s(u,e)?c[e]=u[e]:c[e]=l&&h?h(t):d(t)}return c[e]}},9191:function(e,t,n){"use strict";var r=n(5005),i=n(2597),s=n(8880),o=n(7976),a=n(7674),l=n(9920),c=n(2626),u=n(9587),h=n(6277),d=n(8340),p=n(7741),f=n(2914),m=n(9781),g=n(1913);e.exports=function(e,t,n,v){var w="stackTraceLimit",y=v?2:1,x=e.split("."),b=x[x.length-1],M=r.apply(null,x);if(M){var S=M.prototype;if(!g&&i(S,"cause")&&delete S.cause,!n)return M;var k=r("Error"),z=t((function(e,t){var n=h(v?t:e,void 0),r=v?new M(e):new M;return void 0!==n&&s(r,"message",n),f&&s(r,"stack",p(r.stack,2)),this&&o(S,this)&&u(r,this,z),arguments.length>y&&d(r,arguments[y]),r}));if(z.prototype=S,"Error"!==b?a?a(z,k):l(z,k,{name:!0}):m&&w in M&&(c(z,M,w),c(z,M,"prepareStackTrace")),l(z,M),!g)try{S.name!==b&&s(S,"name",b),S.constructor=z}catch(I){}return z}}},6699:function(e,t,n){"use strict";var r=n(2109),i=n(1318).includes,s=n(7293),o=n(1223),a=s((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:a},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o("includes")},1703:function(e,t,n){var r=n(2109),i=n(7854),s=n(2104),o=n(9191),a="WebAssembly",l=i[a],c=7!==Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=o(e,t,c),r({global:!0,constructor:!0,arity:1,forced:c},n)},h=function(e,t){if(l&&l[e]){var n={};n[e]=o(a+"."+e,t,c),r({target:a,stat:!0,constructor:!0,arity:1,forced:c},n)}};u("Error",(function(e){return function(t){return s(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return s(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return s(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return s(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return s(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return s(e,this,arguments)}})),u("URIError",(function(e){return function(t){return s(e,this,arguments)}})),h("CompileError",(function(e){return function(t){return s(e,this,arguments)}})),h("LinkError",(function(e){return function(t){return s(e,this,arguments)}})),h("RuntimeError",(function(e){return function(t){return s(e,this,arguments)}}))},8675:function(e,t,n){"use strict";var r=n(260),i=n(6244),s=n(9303),o=r.aTypedArray,a=r.exportTypedArrayMethod;a("at",(function(e){var t=o(this),n=i(t),r=s(e),a=r>=0?r:n+r;return a<0||a>=n?void 0:t[a]}))},3462:function(e,t,n){"use strict";var r=n(7854),i=n(6916),s=n(260),o=n(6244),a=n(4590),l=n(7908),c=n(7293),u=r.RangeError,h=r.Int8Array,d=h&&h.prototype,p=d&&d.set,f=s.aTypedArray,m=s.exportTypedArrayMethod,g=!c((function(){var e=new Uint8ClampedArray(2);return i(p,e,{length:1,0:3},1),3!==e[1]})),v=g&&s.NATIVE_ARRAY_BUFFER_VIEWS&&c((function(){var e=new h(2);return e.set(1),e.set("2",1),0!==e[0]||2!==e[1]}));m("set",(function(e){f(this);var t=a(arguments.length>1?arguments[1]:void 0,1),n=l(e);if(g)return i(p,this,n,t);var r=this.length,s=o(n),c=0;if(s+t>r)throw u("Wrong length");while(c<s)this[t+c]=n[c++]}),!g||v)},4870:function(e,t,n){"use strict";n.d(t,{Bj:function(){return s},Fl:function(){return _e},IU:function(){return Le},Jd:function(){return S},PG:function(){return ke},Um:function(){return be},WL:function(){return Ue},X$:function(){return T},X3:function(){return Te},Xl:function(){return Ee},dq:function(){return Ne},j:function(){return z},lk:function(){return k},qj:function(){return xe},qq:function(){return y},yT:function(){return Ie}});var r=n(7139);let i;class s{constructor(e=!1){this.active=!0,this.effects=[],this.cleanups=[],!e&&i&&(this.parent=i,this.index=(i.scopes||(i.scopes=[])).push(this)-1)}run(e){if(this.active){const t=i;try{return i=this,e()}finally{i=t}}else 0}on(){i=this}off(){i=this.parent}stop(e){if(this.active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.active=!1}}}function o(e,t=i){t&&t.active&&t.effects.push(e)}const a=e=>{const t=new Set(e);return t.w=0,t.n=0,t},l=e=>(e.w&f)>0,c=e=>(e.n&f)>0,u=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=f},h=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];l(i)&&!c(i)?i.delete(e):t[n++]=i,i.w&=~f,i.n&=~f}t.length=n}},d=new WeakMap;let p=0,f=1;const m=30;let g;const v=Symbol(""),w=Symbol("");class y{constructor(e,t=null,n){this.fn=e,this.scheduler=t,this.active=!0,this.deps=[],this.parent=void 0,o(this,n)}run(){if(!this.active)return this.fn();let e=g,t=b;while(e){if(e===this)return;e=e.parent}try{return this.parent=g,g=this,b=!0,f=1<<++p,p<=m?u(this):x(this),this.fn()}finally{p<=m&&h(this),f=1<<--p,g=this.parent,b=t,this.parent=void 0,this.deferStop&&this.stop()}}stop(){g===this?this.deferStop=!0:this.active&&(x(this),this.onStop&&this.onStop(),this.active=!1)}}function x(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let b=!0;const M=[];function S(){M.push(b),b=!1}function k(){const e=M.pop();b=void 0===e||e}function z(e,t,n){if(b&&g){let t=d.get(e);t||d.set(e,t=new Map);let r=t.get(n);r||t.set(n,r=a());const i=void 0;I(r,i)}}function I(e,t){let n=!1;p<=m?c(e)||(e.n|=f,n=!l(e)):n=!e.has(g),n&&(e.add(g),g.deps.push(e))}function T(e,t,n,i,s,o){const l=d.get(e);if(!l)return;let c=[];if("clear"===t)c=[...l.values()];else if("length"===n&&(0,r.kJ)(e))l.forEach(((e,t)=>{("length"===t||t>=i)&&c.push(e)}));else switch(void 0!==n&&c.push(l.get(n)),t){case"add":(0,r.kJ)(e)?(0,r.S0)(n)&&c.push(l.get("length")):(c.push(l.get(v)),(0,r._N)(e)&&c.push(l.get(w)));break;case"delete":(0,r.kJ)(e)||(c.push(l.get(v)),(0,r._N)(e)&&c.push(l.get(w)));break;case"set":(0,r._N)(e)&&c.push(l.get(v));break}if(1===c.length)c[0]&&L(c[0]);else{const e=[];for(const t of c)t&&e.push(...t);L(a(e))}}function L(e,t){const n=(0,r.kJ)(e)?e:[...e];for(const r of n)r.computed&&E(r,t);for(const r of n)r.computed||E(r,t)}function E(e,t){(e!==g||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const A=(0,r.fY)("__proto__,__v_isRef,__isVue"),C=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(r.yk)),D=U(),R=U(!1,!0),N=U(!0),P=O();function O(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Le(this);for(let t=0,i=this.length;t<i;t++)z(n,"get",t+"");const r=n[t](...e);return-1===r||!1===r?n[t](...e.map(Le)):r}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){S();const n=Le(this)[t].apply(this,e);return k(),n}})),e}function U(e=!1,t=!1){return function(n,i,s){if("__v_isReactive"===i)return!e;if("__v_isReadonly"===i)return e;if("__v_isShallow"===i)return t;if("__v_raw"===i&&s===(e?t?ve:ge:t?me:fe).get(n))return n;const o=(0,r.kJ)(n);if(!e&&o&&(0,r.RI)(P,i))return Reflect.get(P,i,s);const a=Reflect.get(n,i,s);return((0,r.yk)(i)?C.has(i):A(i))?a:(e||z(n,"get",i),t?a:Ne(a)?o&&(0,r.S0)(i)?a:a.value:(0,r.Kn)(a)?e?Me(a):xe(a):a)}}const j=F(),_=F(!0);function F(e=!1){return function(t,n,i,s){let o=t[n];if(ze(o)&&Ne(o)&&!Ne(i))return!1;if(!e&&!ze(i)&&(Ie(i)||(i=Le(i),o=Le(o)),!(0,r.kJ)(t)&&Ne(o)&&!Ne(i)))return o.value=i,!0;const a=(0,r.kJ)(t)&&(0,r.S0)(n)?Number(n)<t.length:(0,r.RI)(t,n),l=Reflect.set(t,n,i,s);return t===Le(s)&&(a?(0,r.aU)(i,o)&&T(t,"set",n,i,o):T(t,"add",n,i)),l}}function B(e,t){const n=(0,r.RI)(e,t),i=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&T(e,"delete",t,void 0,i),s}function W(e,t){const n=Reflect.has(e,t);return(0,r.yk)(t)&&C.has(t)||z(e,"has",t),n}function q(e){return z(e,"iterate",(0,r.kJ)(e)?"length":v),Reflect.ownKeys(e)}const V={get:D,set:j,deleteProperty:B,has:W,ownKeys:q},K={get:N,set(e,t){return!0},deleteProperty(e,t){return!0}},G=(0,r.l7)({},V,{get:R,set:_}),Y=e=>e,H=e=>Reflect.getPrototypeOf(e);function $(e,t,n=!1,r=!1){e=e["__v_raw"];const i=Le(e),s=Le(t);n||(t!==s&&z(i,"get",t),z(i,"get",s));const{has:o}=H(i),a=r?Y:n?Ce:Ae;return o.call(i,t)?a(e.get(t)):o.call(i,s)?a(e.get(s)):void(e!==i&&e.get(t))}function Q(e,t=!1){const n=this["__v_raw"],r=Le(n),i=Le(e);return t||(e!==i&&z(r,"has",e),z(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function J(e,t=!1){return e=e["__v_raw"],!t&&z(Le(e),"iterate",v),Reflect.get(e,"size",e)}function X(e){e=Le(e);const t=Le(this),n=H(t),r=n.has.call(t,e);return r||(t.add(e),T(t,"add",e,e)),this}function Z(e,t){t=Le(t);const n=Le(this),{has:i,get:s}=H(n);let o=i.call(n,e);o||(e=Le(e),o=i.call(n,e));const a=s.call(n,e);return n.set(e,t),o?(0,r.aU)(t,a)&&T(n,"set",e,t,a):T(n,"add",e,t),this}function ee(e){const t=Le(this),{has:n,get:r}=H(t);let i=n.call(t,e);i||(e=Le(e),i=n.call(t,e));const s=r?r.call(t,e):void 0,o=t.delete(e);return i&&T(t,"delete",e,void 0,s),o}function te(){const e=Le(this),t=0!==e.size,n=void 0,r=e.clear();return t&&T(e,"clear",void 0,void 0,n),r}function ne(e,t){return function(n,r){const i=this,s=i["__v_raw"],o=Le(s),a=t?Y:e?Ce:Ae;return!e&&z(o,"iterate",v),s.forEach(((e,t)=>n.call(r,a(e),a(t),i)))}}function re(e,t,n){return function(...i){const s=this["__v_raw"],o=Le(s),a=(0,r._N)(o),l="entries"===e||e===Symbol.iterator&&a,c="keys"===e&&a,u=s[e](...i),h=n?Y:t?Ce:Ae;return!t&&z(o,"iterate",c?w:v),{next(){const{value:e,done:t}=u.next();return t?{value:e,done:t}:{value:l?[h(e[0]),h(e[1])]:h(e),done:t}},[Symbol.iterator](){return this}}}}function ie(e){return function(...t){return"delete"!==e&&this}}function se(){const e={get(e){return $(this,e)},get size(){return J(this)},has:Q,add:X,set:Z,delete:ee,clear:te,forEach:ne(!1,!1)},t={get(e){return $(this,e,!1,!0)},get size(){return J(this)},has:Q,add:X,set:Z,delete:ee,clear:te,forEach:ne(!1,!0)},n={get(e){return $(this,e,!0)},get size(){return J(this,!0)},has(e){return Q.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:ne(!0,!1)},r={get(e){return $(this,e,!0,!0)},get size(){return J(this,!0)},has(e){return Q.call(this,e,!0)},add:ie("add"),set:ie("set"),delete:ie("delete"),clear:ie("clear"),forEach:ne(!0,!0)},i=["keys","values","entries",Symbol.iterator];return i.forEach((i=>{e[i]=re(i,!1,!1),n[i]=re(i,!0,!1),t[i]=re(i,!1,!0),r[i]=re(i,!0,!0)})),[e,n,t,r]}const[oe,ae,le,ce]=se();function ue(e,t){const n=t?e?ce:le:e?ae:oe;return(t,i,s)=>"__v_isReactive"===i?!e:"__v_isReadonly"===i?e:"__v_raw"===i?t:Reflect.get((0,r.RI)(n,i)&&i in t?n:t,i,s)}const he={get:ue(!1,!1)},de={get:ue(!1,!0)},pe={get:ue(!0,!1)};const fe=new WeakMap,me=new WeakMap,ge=new WeakMap,ve=new WeakMap;function we(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ye(e){return e["__v_skip"]||!Object.isExtensible(e)?0:we((0,r.W7)(e))}function xe(e){return ze(e)?e:Se(e,!1,V,he,fe)}function be(e){return Se(e,!1,G,de,me)}function Me(e){return Se(e,!0,K,pe,ge)}function Se(e,t,n,i,s){if(!(0,r.Kn)(e))return e;if(e["__v_raw"]&&(!t||!e["__v_isReactive"]))return e;const o=s.get(e);if(o)return o;const a=ye(e);if(0===a)return e;const l=new Proxy(e,2===a?i:n);return s.set(e,l),l}function ke(e){return ze(e)?ke(e["__v_raw"]):!(!e||!e["__v_isReactive"])}function ze(e){return!(!e||!e["__v_isReadonly"])}function Ie(e){return!(!e||!e["__v_isShallow"])}function Te(e){return ke(e)||ze(e)}function Le(e){const t=e&&e["__v_raw"];return t?Le(t):e}function Ee(e){return(0,r.Nj)(e,"__v_skip",!0),e}const Ae=e=>(0,r.Kn)(e)?xe(e):e,Ce=e=>(0,r.Kn)(e)?Me(e):e;function De(e){b&&g&&(e=Le(e),I(e.dep||(e.dep=a())))}function Re(e,t){e=Le(e),e.dep&&L(e.dep)}function Ne(e){return!(!e||!0!==e.__v_isRef)}function Pe(e){return Ne(e)?e.value:e}const Oe={get:(e,t,n)=>Pe(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return Ne(i)&&!Ne(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Ue(e){return ke(e)?e:new Proxy(e,Oe)}class je{constructor(e,t,n,r){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this._dirty=!0,this.effect=new y(e,(()=>{this._dirty||(this._dirty=!0,Re(this))})),this.effect.computed=this,this.effect.active=this._cacheable=!r,this["__v_isReadonly"]=n}get value(){const e=Le(this);return De(e),!e._dirty&&e._cacheable||(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function _e(e,t,n=!1){let i,s;const o=(0,r.mf)(e);o?(i=e,s=r.dG):(i=e.get,s=e.set);const a=new je(i,s,o||!s,n);return a}},3396:function(e,t,n){"use strict";n.d(t,{$d:function(){return o},Cn:function(){return B},FN:function(){return gn},HY:function(){return Pt},Ko:function(){return qe},P$:function(){return le},Q6:function(){return fe},U2:function(){return ue},Uk:function(){return sn},Us:function(){return Et},Wm:function(){return en},Y8:function(){return se},_:function(){return Zt},dD:function(){return F},h:function(){return Rn},iD:function(){return Gt},ic:function(){return Ee},j4:function(){return Yt},kq:function(){return on},nK:function(){return pe},up:function(){return _e},wg:function(){return Bt},wy:function(){return Oe}});n(6699),n(1703);var r=n(4870),i=n(7139);function s(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){a(s,t,n)}return i}function o(e,t,n,r){if((0,i.mf)(e)){const o=s(e,t,n,r);return o&&(0,i.tI)(o)&&o.catch((e=>{a(e,t,n)})),o}const l=[];for(let i=0;i<e.length;i++)l.push(o(e[i],t,n,r));return l}function a(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,o=n;while(r){const t=r.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,i,o))return;r=r.parent}const a=t.appContext.config.errorHandler;if(a)return void s(a,null,10,[e,i,o])}l(e,n,i,r)}function l(e,t,n,r=!0){console.error(e)}let c=!1,u=!1;const h=[];let d=0;const p=[];let f=null,m=0;const g=[];let v=null,w=0;const y=Promise.resolve();let x=null,b=null;function M(e){const t=x||y;return e?t.then(this?e.bind(this):e):t}function S(e){let t=d+1,n=h.length;while(t<n){const r=t+n>>>1,i=D(h[r]);i<e?t=r+1:n=r}return t}function k(e){h.length&&h.includes(e,c&&e.allowRecurse?d+1:d)||e===b||(null==e.id?h.push(e):h.splice(S(e.id),0,e),z())}function z(){c||u||(u=!0,x=y.then(R))}function I(e){const t=h.indexOf(e);t>d&&h.splice(t,1)}function T(e,t,n,r){(0,i.kJ)(e)?n.push(...e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),z()}function L(e){T(e,f,p,m)}function E(e){T(e,v,g,w)}function A(e,t=null){if(p.length){for(b=t,f=[...new Set(p)],p.length=0,m=0;m<f.length;m++)f[m]();f=null,m=0,b=null,A(e,t)}}function C(e){if(A(),g.length){const e=[...new Set(g)];if(g.length=0,v)return void v.push(...e);for(v=e,v.sort(((e,t)=>D(e)-D(t))),w=0;w<v.length;w++)v[w]();v=null,w=0}}const D=e=>null==e.id?1/0:e.id;function R(e){u=!1,c=!0,A(e),h.sort(((e,t)=>D(e)-D(t)));i.dG;try{for(d=0;d<h.length;d++){const e=h[d];e&&!1!==e.active&&s(e,null,14)}}finally{d=0,h.length=0,C(e),c=!1,x=null,(h.length||p.length||g.length)&&R(e)}}new Set;new Map;function N(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||i.kT;let s=n;const a=t.startsWith("update:"),l=a&&t.slice(7);if(l&&l in r){const e=`${"modelValue"===l?"model":l}Modifiers`,{number:t,trim:o}=r[e]||i.kT;o&&(s=n.map((e=>e.trim()))),t&&(s=n.map(i.He))}let c;let u=r[c=(0,i.hR)(t)]||r[c=(0,i.hR)((0,i._A)(t))];!u&&a&&(u=r[c=(0,i.hR)((0,i.rs)(t))]),u&&o(u,e,6,s);const h=r[c+"Once"];if(h){if(e.emitted){if(e.emitted[c])return}else e.emitted={};e.emitted[c]=!0,o(h,e,6,s)}}function P(e,t,n=!1){const r=t.emitsCache,s=r.get(e);if(void 0!==s)return s;const o=e.emits;let a={},l=!1;if(!(0,i.mf)(e)){const r=e=>{const n=P(e,t,!0);n&&(l=!0,(0,i.l7)(a,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return o||l?((0,i.kJ)(o)?o.forEach((e=>a[e]=null)):(0,i.l7)(a,o),r.set(e,a),a):(r.set(e,null),null)}function O(e,t){return!(!e||!(0,i.F7)(t))&&(t=t.slice(2).replace(/Once$/,""),(0,i.RI)(e,t[0].toLowerCase()+t.slice(1))||(0,i.RI)(e,(0,i.rs)(t))||(0,i.RI)(e,t))}let U=null,j=null;function _(e){const t=U;return U=e,j=e&&e.type.__scopeId||null,t}function F(e){j=e}function B(){j=null}function W(e,t=U,n){if(!t)return e;if(e._n)return e;const r=(...n)=>{r._d&&Vt(-1);const i=_(t),s=e(...n);return _(i),r._d&&Vt(1),s};return r._n=!0,r._c=!0,r._d=!0,r}function q(e){const{type:t,vnode:n,proxy:r,withProxy:s,props:o,propsOptions:[l],slots:c,attrs:u,emit:h,render:d,renderCache:p,data:f,setupState:m,ctx:g,inheritAttrs:v}=e;let w,y;const x=_(e);try{if(4&n.shapeFlag){const e=s||r;w=an(d.call(e,e,p,o,m,f,g)),y=u}else{const e=t;0,w=an(e.length>1?e(o,{attrs:u,slots:c,emit:h}):e(o,null)),y=t.props?u:V(u)}}catch(M){_t.length=0,a(M,e,1),w=en(Ut)}let b=w;if(y&&!1!==v){const e=Object.keys(y),{shapeFlag:t}=b;e.length&&7&t&&(l&&e.some(i.tR)&&(y=K(y,l)),b=rn(b,y))}return n.dirs&&(b=rn(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),w=b,_(x),w}const V=e=>{let t;for(const n in e)("class"===n||"style"===n||(0,i.F7)(n))&&((t||(t={}))[n]=e[n]);return t},K=(e,t)=>{const n={};for(const r in e)(0,i.tR)(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function G(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,c=s.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!i&&!a||a&&a.$stable)||r!==o&&(r?!o||Y(r,o,c):!!o);if(1024&l)return!0;if(16&l)return r?Y(r,o,c):!!o;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(o[n]!==r[n]&&!O(c,n))return!0}}return!1}function Y(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!O(n,s))return!0}return!1}function H({vnode:e,parent:t},n){while(t&&t.subTree===e)(e=t.vnode).el=n,t=t.parent}const $=e=>e.__isSuspense;function Q(e,t){t&&t.pendingBranch?(0,i.kJ)(e)?t.effects.push(...e):t.effects.push(e):E(e)}function J(e,t){if(mn){let n=mn.provides;const r=mn.parent&&mn.parent.provides;r===n&&(n=mn.provides=Object.create(r)),n[e]=t}else 0}function X(e,t,n=!1){const r=mn||U;if(r){const s=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&(0,i.mf)(t)?t.call(r.proxy):t}else 0}const Z={};function ee(e,t,n){return te(e,t,n)}function te(e,t,{immediate:n,deep:a,flush:l,onTrack:c,onTrigger:u}=i.kT){const h=mn;let d,p,f=!1,m=!1;if((0,r.dq)(e)?(d=()=>e.value,f=(0,r.yT)(e)):(0,r.PG)(e)?(d=()=>e,a=!0):(0,i.kJ)(e)?(m=!0,f=e.some((e=>(0,r.PG)(e)||(0,r.yT)(e))),d=()=>e.map((e=>(0,r.dq)(e)?e.value:(0,r.PG)(e)?ie(e):(0,i.mf)(e)?s(e,h,2):void 0))):d=(0,i.mf)(e)?t?()=>s(e,h,2):()=>{if(!h||!h.isUnmounted)return p&&p(),o(e,h,3,[g])}:i.dG,t&&a){const e=d;d=()=>ie(e())}let g=e=>{p=x.onStop=()=>{s(e,h,4)}};if(Mn)return g=i.dG,t?n&&o(t,h,3,[d(),m?[]:void 0,g]):d(),i.dG;let v=m?[]:Z;const w=()=>{if(x.active)if(t){const e=x.run();(a||f||(m?e.some(((e,t)=>(0,i.aU)(e,v[t]))):(0,i.aU)(e,v)))&&(p&&p(),o(t,h,3,[e,v===Z?void 0:v,g]),v=e)}else x.run()};let y;w.allowRecurse=!!t,y="sync"===l?w:"post"===l?()=>Lt(w,h&&h.suspense):()=>L(w);const x=new r.qq(d,y);return t?n?w():v=x.run():"post"===l?Lt(x.run.bind(x),h&&h.suspense):x.run(),()=>{x.stop(),h&&h.scope&&(0,i.Od)(h.scope.effects,x)}}function ne(e,t,n){const r=this.proxy,s=(0,i.HD)(e)?e.includes(".")?re(r,e):()=>r[e]:e.bind(r,r);let o;(0,i.mf)(t)?o=t:(o=t.handler,n=t);const a=mn;vn(this);const l=te(s,o.bind(r),n);return a?vn(a):wn(),l}function re(e,t){const n=t.split(".");return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}function ie(e,t){if(!(0,i.Kn)(e)||e["__v_skip"])return e;if(t=t||new Set,t.has(e))return e;if(t.add(e),(0,r.dq)(e))ie(e.value,t);else if((0,i.kJ)(e))for(let n=0;n<e.length;n++)ie(e[n],t);else if((0,i.DM)(e)||(0,i._N)(e))e.forEach((e=>{ie(e,t)}));else if((0,i.PO)(e))for(const n in e)ie(e[n],t);return e}function se(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Te((()=>{e.isMounted=!0})),Ae((()=>{e.isUnmounting=!0})),e}const oe=[Function,Array],ae={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:oe,onEnter:oe,onAfterEnter:oe,onEnterCancelled:oe,onBeforeLeave:oe,onLeave:oe,onAfterLeave:oe,onLeaveCancelled:oe,onBeforeAppear:oe,onAppear:oe,onAfterAppear:oe,onAppearCancelled:oe},setup(e,{slots:t}){const n=gn(),i=se();let s;return()=>{const o=t.default&&fe(t.default(),!0);if(!o||!o.length)return;let a=o[0];if(o.length>1){let e=!1;for(const t of o)if(t.type!==Ut){0,a=t,e=!0;break}}const l=(0,r.IU)(e),{mode:c}=l;if(i.isLeaving)return he(a);const u=de(a);if(!u)return he(a);const h=ue(u,l,i,n);pe(u,h);const d=n.subTree,p=d&&de(d);let f=!1;const{getTransitionKey:m}=u.type;if(m){const e=m();void 0===s?s=e:e!==s&&(s=e,f=!0)}if(p&&p.type!==Ut&&(!$t(u,p)||f)){const e=ue(p,l,i,n);if(pe(p,e),"out-in"===c)return i.isLeaving=!0,e.afterLeave=()=>{i.isLeaving=!1,n.update()},he(a);"in-out"===c&&u.type!==Ut&&(e.delayLeave=(e,t,n)=>{const r=ce(i,p);r[String(p.key)]=p,e._leaveCb=()=>{t(),e._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}},le=ae;function ce(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function ue(e,t,n,r){const{appear:s,mode:a,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:h,onEnterCancelled:d,onBeforeLeave:p,onLeave:f,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:v,onAppear:w,onAfterAppear:y,onAppearCancelled:x}=t,b=String(e.key),M=ce(n,e),S=(e,t)=>{e&&o(e,r,9,t)},k=(e,t)=>{const n=t[1];S(e,t),(0,i.kJ)(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},z={mode:a,persisted:l,beforeEnter(t){let r=c;if(!n.isMounted){if(!s)return;r=v||c}t._leaveCb&&t._leaveCb(!0);const i=M[b];i&&$t(e,i)&&i.el._leaveCb&&i.el._leaveCb(),S(r,[t])},enter(e){let t=u,r=h,i=d;if(!n.isMounted){if(!s)return;t=w||u,r=y||h,i=x||d}let o=!1;const a=e._enterCb=t=>{o||(o=!0,S(t?i:r,[e]),z.delayedLeave&&z.delayedLeave(),e._enterCb=void 0)};t?k(t,[e,a]):a()},leave(t,r){const i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();S(p,[t]);let s=!1;const o=t._leaveCb=n=>{s||(s=!0,r(),S(n?g:m,[t]),t._leaveCb=void 0,M[i]===e&&delete M[i])};M[i]=e,f?k(f,[t,o]):o()},clone(e){return ue(e,t,n,r)}};return z}function he(e){if(ge(e))return e=rn(e),e.children=null,e}function de(e){return ge(e)?e.children?e.children[0]:void 0:e}function pe(e,t){6&e.shapeFlag&&e.component?pe(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function fe(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=null==n?o.key:String(n)+String(null!=o.key?o.key:s);o.type===Pt?(128&o.patchFlag&&i++,r=r.concat(fe(o.children,t,a))):(t||o.type!==Ut)&&r.push(null!=a?rn(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}const me=e=>!!e.type.__asyncLoader;const ge=e=>e.type.__isKeepAlive;RegExp,RegExp;function ve(e,t){return(0,i.kJ)(e)?e.some((e=>ve(e,t))):(0,i.HD)(e)?e.split(",").includes(t):!!e.test&&e.test(t)}function we(e,t){xe(e,"a",t)}function ye(e,t){xe(e,"da",t)}function xe(e,t,n=mn){const r=e.__wdc||(e.__wdc=()=>{let t=n;while(t){if(t.isDeactivated)return;t=t.parent}return e()});if(ke(t,r,n),n){let e=n.parent;while(e&&e.parent)ge(e.parent.vnode)&&be(r,t,n,e),e=e.parent}}function be(e,t,n,r){const s=ke(t,e,r,!0);Ce((()=>{(0,i.Od)(r[t],s)}),n)}function Me(e){let t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function Se(e){return 128&e.shapeFlag?e.ssContent:e}function ke(e,t,n=mn,i=!1){if(n){const s=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;(0,r.Jd)(),vn(n);const s=o(t,n,e,i);return wn(),(0,r.lk)(),s});return i?s.unshift(a):s.push(a),a}}const ze=e=>(t,n=mn)=>(!Mn||"sp"===e)&&ke(e,t,n),Ie=ze("bm"),Te=ze("m"),Le=ze("bu"),Ee=ze("u"),Ae=ze("bum"),Ce=ze("um"),De=ze("sp"),Re=ze("rtg"),Ne=ze("rtc");function Pe(e,t=mn){ke("ec",e,t)}function Oe(e,t){const n=U;if(null===n)return e;const r=En(n)||n.proxy,s=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[e,n,a,l=i.kT]=t[o];(0,i.mf)(e)&&(e={mounted:e,updated:e}),e.deep&&ie(n),s.push({dir:e,instance:r,value:n,oldValue:void 0,arg:a,modifiers:l})}return e}function Ue(e,t,n,i){const s=e.dirs,a=t&&t.dirs;for(let l=0;l<s.length;l++){const c=s[l];a&&(c.oldValue=a[l].value);let u=c.dir[i];u&&((0,r.Jd)(),o(u,n,8,[e.el,c,e,t]),(0,r.lk)())}}const je="components";function _e(e,t){return Be(je,e,!0,t)||e}const Fe=Symbol();function Be(e,t,n=!0,r=!1){const s=U||mn;if(s){const n=s.type;if(e===je){const e=An(n,!1);if(e&&(e===t||e===(0,i._A)(t)||e===(0,i.kC)((0,i._A)(t))))return n}const o=We(s[e]||n[e],t)||We(s.appContext[e],t);return!o&&r?n:o}}function We(e,t){return e&&(e[t]||e[(0,i._A)(t)]||e[(0,i.kC)((0,i._A)(t))])}function qe(e,t,n,r){let s;const o=n&&n[r];if((0,i.kJ)(e)||(0,i.HD)(e)){s=new Array(e.length);for(let n=0,r=e.length;n<r;n++)s[n]=t(e[n],n,void 0,o&&o[n])}else if("number"===typeof e){0,s=new Array(e);for(let n=0;n<e;n++)s[n]=t(n+1,n,void 0,o&&o[n])}else if((0,i.Kn)(e))if(e[Symbol.iterator])s=Array.from(e,((e,n)=>t(e,n,void 0,o&&o[n])));else{const n=Object.keys(e);s=new Array(n.length);for(let r=0,i=n.length;r<i;r++){const i=n[r];s[r]=t(e[i],i,r,o&&o[r])}}else s=[];return n&&(n[r]=s),s}const Ve=e=>e?yn(e)?En(e)||e.proxy:Ve(e.parent):null,Ke=(0,i.l7)(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Ve(e.parent),$root:e=>Ve(e.root),$emit:e=>e.emit,$options:e=>Xe(e),$forceUpdate:e=>e.f||(e.f=()=>k(e.update)),$nextTick:e=>e.n||(e.n=M.bind(e.proxy)),$watch:e=>ne.bind(e)}),Ge={get({_:e},t){const{ctx:n,setupState:s,data:o,props:a,accessCache:l,type:c,appContext:u}=e;let h;if("$"!==t[0]){const r=l[t];if(void 0!==r)switch(r){case 1:return s[t];case 2:return o[t];case 4:return n[t];case 3:return a[t]}else{if(s!==i.kT&&(0,i.RI)(s,t))return l[t]=1,s[t];if(o!==i.kT&&(0,i.RI)(o,t))return l[t]=2,o[t];if((h=e.propsOptions[0])&&(0,i.RI)(h,t))return l[t]=3,a[t];if(n!==i.kT&&(0,i.RI)(n,t))return l[t]=4,n[t];Ye&&(l[t]=0)}}const d=Ke[t];let p,f;return d?("$attrs"===t&&(0,r.j)(e,"get",t),d(e)):(p=c.__cssModules)&&(p=p[t])?p:n!==i.kT&&(0,i.RI)(n,t)?(l[t]=4,n[t]):(f=u.config.globalProperties,(0,i.RI)(f,t)?f[t]:void 0)},set({_:e},t,n){const{data:r,setupState:s,ctx:o}=e;return s!==i.kT&&(0,i.RI)(s,t)?(s[t]=n,!0):r!==i.kT&&(0,i.RI)(r,t)?(r[t]=n,!0):!(0,i.RI)(e.props,t)&&(("$"!==t[0]||!(t.slice(1)in e))&&(o[t]=n,!0))},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:s,propsOptions:o}},a){let l;return!!n[a]||e!==i.kT&&(0,i.RI)(e,a)||t!==i.kT&&(0,i.RI)(t,a)||(l=o[0])&&(0,i.RI)(l,a)||(0,i.RI)(r,a)||(0,i.RI)(Ke,a)||(0,i.RI)(s.config.globalProperties,a)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:(0,i.RI)(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};let Ye=!0;function He(e){const t=Xe(e),n=e.proxy,s=e.ctx;Ye=!1,t.beforeCreate&&Qe(t.beforeCreate,e,"bc");const{data:o,computed:a,methods:l,watch:c,provide:u,inject:h,created:d,beforeMount:p,mounted:f,beforeUpdate:m,updated:g,activated:v,deactivated:w,beforeDestroy:y,beforeUnmount:x,destroyed:b,unmounted:M,render:S,renderTracked:k,renderTriggered:z,errorCaptured:I,serverPrefetch:T,expose:L,inheritAttrs:E,components:A,directives:C,filters:D}=t,R=null;if(h&&$e(h,s,R,e.appContext.config.unwrapInjectedRef),l)for(const r in l){const e=l[r];(0,i.mf)(e)&&(s[r]=e.bind(n))}if(o){0;const t=o.call(n,n);0,(0,i.Kn)(t)&&(e.data=(0,r.qj)(t))}if(Ye=!0,a)for(const r in a){const e=a[r],t=(0,i.mf)(e)?e.bind(n,n):(0,i.mf)(e.get)?e.get.bind(n,n):i.dG;0;const o=!(0,i.mf)(e)&&(0,i.mf)(e.set)?e.set.bind(n):i.dG,l=Dn({get:t,set:o});Object.defineProperty(s,r,{enumerable:!0,configurable:!0,get:()=>l.value,set:e=>l.value=e})}if(c)for(const r in c)Je(c[r],s,n,r);if(u){const e=(0,i.mf)(u)?u.call(n):u;Reflect.ownKeys(e).forEach((t=>{J(t,e[t])}))}function N(e,t){(0,i.kJ)(t)?t.forEach((t=>e(t.bind(n)))):t&&e(t.bind(n))}if(d&&Qe(d,e,"c"),N(Ie,p),N(Te,f),N(Le,m),N(Ee,g),N(we,v),N(ye,w),N(Pe,I),N(Ne,k),N(Re,z),N(Ae,x),N(Ce,M),N(De,T),(0,i.kJ)(L))if(L.length){const t=e.exposed||(e.exposed={});L.forEach((e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t})}))}else e.exposed||(e.exposed={});S&&e.render===i.dG&&(e.render=S),null!=E&&(e.inheritAttrs=E),A&&(e.components=A),C&&(e.directives=C)}function $e(e,t,n=i.dG,s=!1){(0,i.kJ)(e)&&(e=rt(e));for(const o in e){const n=e[o];let a;a=(0,i.Kn)(n)?"default"in n?X(n.from||o,n.default,!0):X(n.from||o):X(n),(0,r.dq)(a)&&s?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e}):t[o]=a}}function Qe(e,t,n){o((0,i.kJ)(e)?e.map((e=>e.bind(t.proxy))):e.bind(t.proxy),t,n)}function Je(e,t,n,r){const s=r.includes(".")?re(n,r):()=>n[r];if((0,i.HD)(e)){const n=t[e];(0,i.mf)(n)&&ee(s,n)}else if((0,i.mf)(e))ee(s,e.bind(n));else if((0,i.Kn)(e))if((0,i.kJ)(e))e.forEach((e=>Je(e,t,n,r)));else{const r=(0,i.mf)(e.handler)?e.handler.bind(n):t[e.handler];(0,i.mf)(r)&&ee(s,r,e)}else 0}function Xe(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:i.length||n||r?(l={},i.length&&i.forEach((e=>Ze(l,e,o,!0))),Ze(l,t,o)):l=t,s.set(t,l),l}function Ze(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&Ze(e,s,n,!0),i&&i.forEach((t=>Ze(e,t,n,!0)));for(const o in t)if(r&&"expose"===o);else{const r=et[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}const et={data:tt,props:st,emits:st,methods:st,computed:st,beforeCreate:it,created:it,beforeMount:it,mounted:it,beforeUpdate:it,updated:it,beforeDestroy:it,beforeUnmount:it,destroyed:it,unmounted:it,activated:it,deactivated:it,errorCaptured:it,serverPrefetch:it,components:st,directives:st,watch:ot,provide:tt,inject:nt};function tt(e,t){return t?e?function(){return(0,i.l7)((0,i.mf)(e)?e.call(this,this):e,(0,i.mf)(t)?t.call(this,this):t)}:t:e}function nt(e,t){return st(rt(e),rt(t))}function rt(e){if((0,i.kJ)(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function it(e,t){return e?[...new Set([].concat(e,t))]:t}function st(e,t){return e?(0,i.l7)((0,i.l7)(Object.create(null),e),t):t}function ot(e,t){if(!e)return t;if(!t)return e;const n=(0,i.l7)(Object.create(null),e);for(const r in t)n[r]=it(e[r],t[r]);return n}function at(e,t,n,s=!1){const o={},a={};(0,i.Nj)(a,Qt,1),e.propsDefaults=Object.create(null),ct(e,t,o,a);for(const r in e.propsOptions[0])r in o||(o[r]=void 0);n?e.props=s?o:(0,r.Um)(o):e.type.props?e.props=o:e.props=a,e.attrs=a}function lt(e,t,n,s){const{props:o,attrs:a,vnode:{patchFlag:l}}=e,c=(0,r.IU)(o),[u]=e.propsOptions;let h=!1;if(!(s||l>0)||16&l){let r;ct(e,t,o,a)&&(h=!0);for(const s in c)t&&((0,i.RI)(t,s)||(r=(0,i.rs)(s))!==s&&(0,i.RI)(t,r))||(u?!n||void 0===n[s]&&void 0===n[r]||(o[s]=ut(u,c,s,void 0,e,!0)):delete o[s]);if(a!==c)for(const e in a)t&&(0,i.RI)(t,e)||(delete a[e],h=!0)}else if(8&l){const n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let s=n[r];if(O(e.emitsOptions,s))continue;const l=t[s];if(u)if((0,i.RI)(a,s))l!==a[s]&&(a[s]=l,h=!0);else{const t=(0,i._A)(s);o[t]=ut(u,c,t,l,e,!1)}else l!==a[s]&&(a[s]=l,h=!0)}}h&&(0,r.X$)(e,"set","$attrs")}function ct(e,t,n,s){const[o,a]=e.propsOptions;let l,c=!1;if(t)for(let r in t){if((0,i.Gg)(r))continue;const u=t[r];let h;o&&(0,i.RI)(o,h=(0,i._A)(r))?a&&a.includes(h)?(l||(l={}))[h]=u:n[h]=u:O(e.emitsOptions,r)||r in s&&u===s[r]||(s[r]=u,c=!0)}if(a){const t=(0,r.IU)(n),s=l||i.kT;for(let r=0;r<a.length;r++){const l=a[r];n[l]=ut(o,t,l,s[l],e,!(0,i.RI)(s,l))}}return c}function ut(e,t,n,r,s,o){const a=e[n];if(null!=a){const e=(0,i.RI)(a,"default");if(e&&void 0===r){const e=a.default;if(a.type!==Function&&(0,i.mf)(e)){const{propsDefaults:i}=s;n in i?r=i[n]:(vn(s),r=i[n]=e.call(null,t),wn())}else r=e}a[0]&&(o&&!e?r=!1:!a[1]||""!==r&&r!==(0,i.rs)(n)||(r=!0))}return r}function ht(e,t,n=!1){const r=t.propsCache,s=r.get(e);if(s)return s;const o=e.props,a={},l=[];let c=!1;if(!(0,i.mf)(e)){const r=e=>{c=!0;const[n,r]=ht(e,t,!0);(0,i.l7)(a,n),r&&l.push(...r)};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}if(!o&&!c)return r.set(e,i.Z6),i.Z6;if((0,i.kJ)(o))for(let h=0;h<o.length;h++){0;const e=(0,i._A)(o[h]);dt(e)&&(a[e]=i.kT)}else if(o){0;for(const e in o){const t=(0,i._A)(e);if(dt(t)){const n=o[e],r=a[t]=(0,i.kJ)(n)||(0,i.mf)(n)?{type:n}:n;if(r){const e=mt(Boolean,r.type),n=mt(String,r.type);r[0]=e>-1,r[1]=n<0||e<n,(e>-1||(0,i.RI)(r,"default"))&&l.push(t)}}}}const u=[a,l];return r.set(e,u),u}function dt(e){return"$"!==e[0]}function pt(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:null===e?"null":""}function ft(e,t){return pt(e)===pt(t)}function mt(e,t){return(0,i.kJ)(t)?t.findIndex((t=>ft(t,e))):(0,i.mf)(t)&&ft(t,e)?0:-1}const gt=e=>"_"===e[0]||"$stable"===e,vt=e=>(0,i.kJ)(e)?e.map(an):[an(e)],wt=(e,t,n)=>{if(t._n)return t;const r=W(((...e)=>vt(t(...e))),n);return r._c=!1,r},yt=(e,t,n)=>{const r=e._ctx;for(const s in e){if(gt(s))continue;const n=e[s];if((0,i.mf)(n))t[s]=wt(s,n,r);else if(null!=n){0;const e=vt(n);t[s]=()=>e}}},xt=(e,t)=>{const n=vt(t);e.slots.default=()=>n},bt=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=(0,r.IU)(t),(0,i.Nj)(t,"_",n)):yt(t,e.slots={})}else e.slots={},t&&xt(e,t);(0,i.Nj)(e.slots,Qt,1)},Mt=(e,t,n)=>{const{vnode:r,slots:s}=e;let o=!0,a=i.kT;if(32&r.shapeFlag){const e=t._;e?n&&1===e?o=!1:((0,i.l7)(s,t),n||1!==e||delete s._):(o=!t.$stable,yt(t,s)),a=t}else t&&(xt(e,t),a={default:1});if(o)for(const i in s)gt(i)||i in a||delete s[i]};function St(){return{app:null,config:{isNativeTag:i.NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kt=0;function zt(e,t){return function(n,r=null){(0,i.mf)(n)||(n=Object.assign({},n)),null==r||(0,i.Kn)(r)||(r=null);const s=St(),o=new Set;let a=!1;const l=s.app={_uid:kt++,_component:n,_props:r,_container:null,_context:s,_instance:null,version:Nn,get config(){return s.config},set config(e){0},use(e,...t){return o.has(e)||(e&&(0,i.mf)(e.install)?(o.add(e),e.install(l,...t)):(0,i.mf)(e)&&(o.add(e),e(l,...t))),l},mixin(e){return s.mixins.includes(e)||s.mixins.push(e),l},component(e,t){return t?(s.components[e]=t,l):s.components[e]},directive(e,t){return t?(s.directives[e]=t,l):s.directives[e]},mount(i,o,c){if(!a){0;const u=en(n,r);return u.appContext=s,o&&t?t(u,i):e(u,i,c),a=!0,l._container=i,i.__vue_app__=l,En(u.component)||u.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return s.provides[e]=t,l}};return l}}function It(e,t,n,o,a=!1){if((0,i.kJ)(e))return void e.forEach(((e,r)=>It(e,t&&((0,i.kJ)(t)?t[r]:t),n,o,a)));if(me(o)&&!a)return;const l=4&o.shapeFlag?En(o.component)||o.component.proxy:o.el,c=a?null:l,{i:u,r:h}=e;const d=t&&t.r,p=u.refs===i.kT?u.refs={}:u.refs,f=u.setupState;if(null!=d&&d!==h&&((0,i.HD)(d)?(p[d]=null,(0,i.RI)(f,d)&&(f[d]=null)):(0,r.dq)(d)&&(d.value=null)),(0,i.mf)(h))s(h,u,12,[c,p]);else{const t=(0,i.HD)(h),s=(0,r.dq)(h);if(t||s){const r=()=>{if(e.f){const n=t?p[h]:h.value;a?(0,i.kJ)(n)&&(0,i.Od)(n,l):(0,i.kJ)(n)?n.includes(l)||n.push(l):t?(p[h]=[l],(0,i.RI)(f,h)&&(f[h]=p[h])):(h.value=[l],e.k&&(p[e.k]=h.value))}else t?(p[h]=c,(0,i.RI)(f,h)&&(f[h]=c)):s&&(h.value=c,e.k&&(p[e.k]=c))};c?(r.id=-1,Lt(r,n)):r()}else 0}}function Tt(){}const Lt=Q;function Et(e){return At(e)}function At(e,t){Tt();const n=(0,i.E9)();n.__VUE__=!0;const{insert:s,remove:o,patchProp:a,createElement:l,createText:c,createComment:u,setText:h,setElementText:d,parentNode:p,nextSibling:f,setScopeId:m=i.dG,cloneNode:g,insertStaticContent:v}=e,w=(e,t,n,r=null,i=null,s=null,o=!1,a=null,l=!!t.dynamicChildren)=>{if(e===t)return;e&&!$t(e,t)&&(r=Z(e),Y(e,i,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:h}=t;switch(c){case Ot:y(e,t,n,r);break;case Ut:x(e,t,n,r);break;case jt:null==e&&b(t,n,r,o);break;case Pt:P(e,t,n,r,i,s,o,a,l);break;default:1&h?z(e,t,n,r,i,s,o,a,l):6&h?O(e,t,n,r,i,s,o,a,l):(64&h||128&h)&&c.process(e,t,n,r,i,s,o,a,l,te)}null!=u&&i&&It(u,e&&e.ref,s,t||e,!t)},y=(e,t,n,r)=>{if(null==e)s(t.el=c(t.children),n,r);else{const n=t.el=e.el;t.children!==e.children&&h(n,t.children)}},x=(e,t,n,r)=>{null==e?s(t.el=u(t.children||""),n,r):t.el=e.el},b=(e,t,n,r)=>{[e.el,e.anchor]=v(e.children,t,n,r,e.el,e.anchor)},M=({el:e,anchor:t},n,r)=>{let i;while(e&&e!==t)i=f(e),s(e,n,r),e=i;s(t,n,r)},S=({el:e,anchor:t})=>{let n;while(e&&e!==t)n=f(e),o(e),e=n;o(t)},z=(e,t,n,r,i,s,o,a,l)=>{o=o||"svg"===t.type,null==e?T(t,n,r,i,s,o,a,l):D(e,t,i,s,o,a,l)},T=(e,t,n,r,o,c,u,h)=>{let p,f;const{type:m,props:v,shapeFlag:w,transition:y,patchFlag:x,dirs:b}=e;if(e.el&&void 0!==g&&-1===x)p=e.el=g(e.el);else{if(p=e.el=l(e.type,c,v&&v.is,v),8&w?d(p,e.children):16&w&&E(e.children,p,null,r,o,c&&"foreignObject"!==m,u,h),b&&Ue(e,null,r,"created"),v){for(const t in v)"value"===t||(0,i.Gg)(t)||a(p,t,null,v[t],c,e.children,r,o,X);"value"in v&&a(p,"value",null,v.value),(f=v.onVnodeBeforeMount)&&hn(f,r,e)}L(p,e,e.scopeId,u,r)}b&&Ue(e,null,r,"beforeMount");const M=(!o||o&&!o.pendingBranch)&&y&&!y.persisted;M&&y.beforeEnter(p),s(p,t,n),((f=v&&v.onVnodeMounted)||M||b)&&Lt((()=>{f&&hn(f,r,e),M&&y.enter(p),b&&Ue(e,null,r,"mounted")}),o)},L=(e,t,n,r,i)=>{if(n&&m(e,n),r)for(let s=0;s<r.length;s++)m(e,r[s]);if(i){let n=i.subTree;if(t===n){const t=i.vnode;L(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},E=(e,t,n,r,i,s,o,a,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=a?ln(e[c]):an(e[c]);w(null,l,t,n,r,i,s,o,a)}},D=(e,t,n,r,s,o,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:h,dirs:p}=t;u|=16&e.patchFlag;const f=e.props||i.kT,m=t.props||i.kT;let g;n&&Ct(n,!1),(g=m.onVnodeBeforeUpdate)&&hn(g,n,t,e),p&&Ue(t,e,n,"beforeUpdate"),n&&Ct(n,!0);const v=s&&"foreignObject"!==t.type;if(h?R(e.dynamicChildren,h,c,n,r,v,o):l||B(e,t,c,null,n,r,v,o,!1),u>0){if(16&u)N(c,t,f,m,n,r,s);else if(2&u&&f.class!==m.class&&a(c,"class",null,m.class,s),4&u&&a(c,"style",f.style,m.style,s),8&u){const i=t.dynamicProps;for(let t=0;t<i.length;t++){const o=i[t],l=f[o],u=m[o];u===l&&"value"!==o||a(c,o,l,u,s,e.children,n,r,X)}}1&u&&e.children!==t.children&&d(c,t.children)}else l||null!=h||N(c,t,f,m,n,r,s);((g=m.onVnodeUpdated)||p)&&Lt((()=>{g&&hn(g,n,t,e),p&&Ue(t,e,n,"updated")}),r)},R=(e,t,n,r,i,s,o)=>{for(let a=0;a<t.length;a++){const l=e[a],c=t[a],u=l.el&&(l.type===Pt||!$t(l,c)||70&l.shapeFlag)?p(l.el):n;w(l,c,u,null,r,i,s,o,!0)}},N=(e,t,n,r,s,o,l)=>{if(n!==r){for(const c in r){if((0,i.Gg)(c))continue;const u=r[c],h=n[c];u!==h&&"value"!==c&&a(e,c,h,u,l,t.children,s,o,X)}if(n!==i.kT)for(const c in n)(0,i.Gg)(c)||c in r||a(e,c,n[c],null,l,t.children,s,o,X);"value"in r&&a(e,"value",n.value,r.value)}},P=(e,t,n,r,i,o,a,l,u)=>{const h=t.el=e?e.el:c(""),d=t.anchor=e?e.anchor:c("");let{patchFlag:p,dynamicChildren:f,slotScopeIds:m}=t;m&&(l=l?l.concat(m):m),null==e?(s(h,n,r),s(d,n,r),E(t.children,n,d,i,o,a,l,u)):p>0&&64&p&&f&&e.dynamicChildren?(R(e.dynamicChildren,f,n,i,o,a,l),(null!=t.key||i&&t===i.subTree)&&Dt(e,t,!0)):B(e,t,n,d,i,o,a,l,u)},O=(e,t,n,r,i,s,o,a,l)=>{t.slotScopeIds=a,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,l):U(t,n,r,i,s,o,l):j(e,t,l)},U=(e,t,n,r,i,s,o)=>{const a=e.component=fn(e,r,i);if(ge(e)&&(a.ctx.renderer=te),Sn(a),a.asyncDep){if(i&&i.registerDep(a,_),!e.el){const e=a.subTree=en(Ut);x(null,e,t,n)}}else _(a,e,t,n,i,s,o)},j=(e,t,n)=>{const r=t.component=e.component;if(G(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void F(r,t,n);r.next=t,I(r.update),r.update()}else t.el=e.el,r.vnode=t},_=(e,t,n,s,o,a,l)=>{const c=()=>{if(e.isMounted){let t,{next:n,bu:r,u:s,parent:c,vnode:u}=e,h=n;0,Ct(e,!1),n?(n.el=u.el,F(e,n,l)):n=u,r&&(0,i.ir)(r),(t=n.props&&n.props.onVnodeBeforeUpdate)&&hn(t,c,n,u),Ct(e,!0);const d=q(e);0;const f=e.subTree;e.subTree=d,w(f,d,p(f.el),Z(f),e,o,a),n.el=d.el,null===h&&H(e,d.el),s&&Lt(s,o),(t=n.props&&n.props.onVnodeUpdated)&&Lt((()=>hn(t,c,n,u)),o)}else{let r;const{el:l,props:c}=t,{bm:u,m:h,parent:d}=e,p=me(t);if(Ct(e,!1),u&&(0,i.ir)(u),!p&&(r=c&&c.onVnodeBeforeMount)&&hn(r,d,t),Ct(e,!0),l&&re){const n=()=>{e.subTree=q(e),re(l,e.subTree,e,o,null)};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{0;const r=e.subTree=q(e);0,w(null,r,n,s,e,o,a),t.el=r.el}if(h&&Lt(h,o),!p&&(r=c&&c.onVnodeMounted)){const e=t;Lt((()=>hn(r,d,e)),o)}(256&t.shapeFlag||d&&me(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Lt(e.a,o),e.isMounted=!0,t=n=s=null}},u=e.effect=new r.qq(c,(()=>k(h)),e.scope),h=e.update=()=>u.run();h.id=e.uid,Ct(e,!0),h()},F=(e,t,n)=>{t.component=e;const i=e.vnode.props;e.vnode=t,e.next=null,lt(e,t.props,i,n),Mt(e,t.children,n),(0,r.Jd)(),A(void 0,e.update),(0,r.lk)()},B=(e,t,n,r,i,s,o,a,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,h=t.children,{patchFlag:p,shapeFlag:f}=t;if(p>0){if(128&p)return void V(c,h,n,r,i,s,o,a,l);if(256&p)return void W(c,h,n,r,i,s,o,a,l)}8&f?(16&u&&X(c,i,s),h!==c&&d(n,h)):16&u?16&f?V(c,h,n,r,i,s,o,a,l):X(c,i,s,!0):(8&u&&d(n,""),16&f&&E(h,n,r,i,s,o,a,l))},W=(e,t,n,r,s,o,a,l,c)=>{e=e||i.Z6,t=t||i.Z6;const u=e.length,h=t.length,d=Math.min(u,h);let p;for(p=0;p<d;p++){const r=t[p]=c?ln(t[p]):an(t[p]);w(e[p],r,n,null,s,o,a,l,c)}u>h?X(e,s,o,!0,!1,d):E(t,n,r,s,o,a,l,c,d)},V=(e,t,n,r,s,o,a,l,c)=>{let u=0;const h=t.length;let d=e.length-1,p=h-1;while(u<=d&&u<=p){const r=e[u],i=t[u]=c?ln(t[u]):an(t[u]);if(!$t(r,i))break;w(r,i,n,null,s,o,a,l,c),u++}while(u<=d&&u<=p){const r=e[d],i=t[p]=c?ln(t[p]):an(t[p]);if(!$t(r,i))break;w(r,i,n,null,s,o,a,l,c),d--,p--}if(u>d){if(u<=p){const e=p+1,i=e<h?t[e].el:r;while(u<=p)w(null,t[u]=c?ln(t[u]):an(t[u]),n,i,s,o,a,l,c),u++}}else if(u>p)while(u<=d)Y(e[u],s,o,!0),u++;else{const f=u,m=u,g=new Map;for(u=m;u<=p;u++){const e=t[u]=c?ln(t[u]):an(t[u]);null!=e.key&&g.set(e.key,u)}let v,y=0;const x=p-m+1;let b=!1,M=0;const S=new Array(x);for(u=0;u<x;u++)S[u]=0;for(u=f;u<=d;u++){const r=e[u];if(y>=x){Y(r,s,o,!0);continue}let i;if(null!=r.key)i=g.get(r.key);else for(v=m;v<=p;v++)if(0===S[v-m]&&$t(r,t[v])){i=v;break}void 0===i?Y(r,s,o,!0):(S[i-m]=u+1,i>=M?M=i:b=!0,w(r,t[i],n,null,s,o,a,l,c),y++)}const k=b?Rt(S):i.Z6;for(v=k.length-1,u=x-1;u>=0;u--){const e=m+u,i=t[e],d=e+1<h?t[e+1].el:r;0===S[u]?w(null,i,n,d,s,o,a,l,c):b&&(v<0||u!==k[v]?K(i,n,d,2):v--)}}},K=(e,t,n,r,i=null)=>{const{el:o,type:a,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void K(e.component.subTree,t,n,r);if(128&u)return void e.suspense.move(t,n,r);if(64&u)return void a.move(e,t,n,te);if(a===Pt){s(o,t,n);for(let e=0;e<c.length;e++)K(c[e],t,n,r);return void s(e.anchor,t,n)}if(a===jt)return void M(e,t,n);const h=2!==r&&1&u&&l;if(h)if(0===r)l.beforeEnter(o),s(o,t,n),Lt((()=>l.enter(o)),i);else{const{leave:e,delayLeave:r,afterLeave:i}=l,a=()=>s(o,t,n),c=()=>{e(o,(()=>{a(),i&&i()}))};r?r(o,a,c):c()}else s(o,t,n)},Y=(e,t,n,r=!1,i=!1)=>{const{type:s,props:o,ref:a,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:h,dirs:d}=e;if(null!=a&&It(a,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const p=1&u&&d,f=!me(e);let m;if(f&&(m=o&&o.onVnodeBeforeUnmount)&&hn(m,t,e),6&u)J(e.component,n,r);else{if(128&u)return void e.suspense.unmount(n,r);p&&Ue(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,i,te,r):c&&(s!==Pt||h>0&&64&h)?X(c,t,n,!1,!0):(s===Pt&&384&h||!i&&16&u)&&X(l,t,n),r&&$(e)}(f&&(m=o&&o.onVnodeUnmounted)||p)&&Lt((()=>{m&&hn(m,t,e),p&&Ue(e,null,t,"unmounted")}),n)},$=e=>{const{type:t,el:n,anchor:r,transition:i}=e;if(t===Pt)return void Q(n,r);if(t===jt)return void S(e);const s=()=>{o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){const{leave:t,delayLeave:r}=i,o=()=>t(n,s);r?r(e.el,s,o):o()}else s()},Q=(e,t)=>{let n;while(e!==t)n=f(e),o(e),e=n;o(t)},J=(e,t,n)=>{const{bum:r,scope:s,update:o,subTree:a,um:l}=e;r&&(0,i.ir)(r),s.stop(),o&&(o.active=!1,Y(a,e,t,n)),l&&Lt(l,t),Lt((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},X=(e,t,n,r=!1,i=!1,s=0)=>{for(let o=s;o<e.length;o++)Y(e[o],t,n,r,i)},Z=e=>6&e.shapeFlag?Z(e.component.subTree):128&e.shapeFlag?e.suspense.next():f(e.anchor||e.el),ee=(e,t,n)=>{null==e?t._vnode&&Y(t._vnode,null,null,!0):w(t._vnode||null,e,t,null,null,null,n),C(),t._vnode=e},te={p:w,um:Y,m:K,r:$,mt:U,mc:E,pc:B,pbc:R,n:Z,o:e};let ne,re;return t&&([ne,re]=t(te)),{render:ee,hydrate:ne,createApp:zt(ee,ne)}}function Ct({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Dt(e,t,n=!1){const r=e.children,s=t.children;if((0,i.kJ)(r)&&(0,i.kJ)(s))for(let i=0;i<r.length;i++){const e=r[i];let t=s[i];1&t.shapeFlag&&!t.dynamicChildren&&((t.patchFlag<=0||32===t.patchFlag)&&(t=s[i]=ln(s[i]),t.el=e.el),n||Dt(e,t))}}function Rt(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const l=e[r];if(0!==l){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}s=0,o=n.length-1;while(s<o)a=s+o>>1,e[n[a]]<l?s=a+1:o=a;l<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}s=n.length,o=n[s-1];while(s-- >0)n[s]=o,o=t[o];return n}const Nt=e=>e.__isTeleport;const Pt=Symbol(void 0),Ot=Symbol(void 0),Ut=Symbol(void 0),jt=Symbol(void 0),_t=[];let Ft=null;function Bt(e=!1){_t.push(Ft=e?null:[])}function Wt(){_t.pop(),Ft=_t[_t.length-1]||null}let qt=1;function Vt(e){qt+=e}function Kt(e){return e.dynamicChildren=qt>0?Ft||i.Z6:null,Wt(),qt>0&&Ft&&Ft.push(e),e}function Gt(e,t,n,r,i,s){return Kt(Zt(e,t,n,r,i,s,!0))}function Yt(e,t,n,r,i){return Kt(en(e,t,n,r,i,!0))}function Ht(e){return!!e&&!0===e.__v_isVNode}function $t(e,t){return e.type===t.type&&e.key===t.key}const Qt="__vInternal",Jt=({key:e})=>null!=e?e:null,Xt=({ref:e,ref_key:t,ref_for:n})=>null!=e?(0,i.HD)(e)||(0,r.dq)(e)||(0,i.mf)(e)?{i:U,r:e,k:t,f:!!n}:e:null;function Zt(e,t=null,n=null,r=0,s=null,o=(e===Pt?0:1),a=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Jt(t),ref:t&&Xt(t),scopeId:j,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null};return l?(cn(c,n),128&o&&e.normalize(c)):n&&(c.shapeFlag|=(0,i.HD)(n)?8:16),qt>0&&!a&&Ft&&(c.patchFlag>0||6&o)&&32!==c.patchFlag&&Ft.push(c),c}const en=tn;function tn(e,t=null,n=null,s=0,o=null,a=!1){if(e&&e!==Fe||(e=Ut),Ht(e)){const r=rn(e,t,!0);return n&&cn(r,n),qt>0&&!a&&Ft&&(6&r.shapeFlag?Ft[Ft.indexOf(e)]=r:Ft.push(r)),r.patchFlag|=-2,r}if(Cn(e)&&(e=e.__vccOpts),t){t=nn(t);let{class:e,style:n}=t;e&&!(0,i.HD)(e)&&(t.class=(0,i.C_)(e)),(0,i.Kn)(n)&&((0,r.X3)(n)&&!(0,i.kJ)(n)&&(n=(0,i.l7)({},n)),t.style=(0,i.j5)(n))}const l=(0,i.HD)(e)?1:$(e)?128:Nt(e)?64:(0,i.Kn)(e)?4:(0,i.mf)(e)?2:0;return Zt(e,t,n,s,o,l,a,!0)}function nn(e){return e?(0,r.X3)(e)||Qt in e?(0,i.l7)({},e):e:null}function rn(e,t,n=!1){const{props:r,ref:s,patchFlag:o,children:a}=e,l=t?un(r||{},t):r,c={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Jt(l),ref:t&&t.ref?n&&s?(0,i.kJ)(s)?s.concat(Xt(t)):[s,Xt(t)]:Xt(t):s,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Pt?-1===o?16:16|o:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rn(e.ssContent),ssFallback:e.ssFallback&&rn(e.ssFallback),el:e.el,anchor:e.anchor};return c}function sn(e=" ",t=0){return en(Ot,null,e,t)}function on(e="",t=!1){return t?(Bt(),Yt(Ut,null,e)):en(Ut,null,e)}function an(e){return null==e||"boolean"===typeof e?en(Ut):(0,i.kJ)(e)?en(Pt,null,e.slice()):"object"===typeof e?ln(e):en(Ot,null,String(e))}function ln(e){return null===e.el||e.memo?e:rn(e)}function cn(e,t){let n=0;const{shapeFlag:r}=e;if(null==t)t=null;else if((0,i.kJ)(t))n=16;else if("object"===typeof t){if(65&r){const n=t.default;return void(n&&(n._c&&(n._d=!1),cn(e,n()),n._c&&(n._d=!0)))}{n=32;const r=t._;r||Qt in t?3===r&&U&&(1===U.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=U}}else(0,i.mf)(t)?(t={default:t,_ctx:U},n=32):(t=String(t),64&r?(n=16,t=[sn(t)]):n=8);e.children=t,e.shapeFlag|=n}function un(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const e in r)if("class"===e)t.class!==r.class&&(t.class=(0,i.C_)([t.class,r.class]));else if("style"===e)t.style=(0,i.j5)([t.style,r.style]);else if((0,i.F7)(e)){const n=t[e],s=r[e];!s||n===s||(0,i.kJ)(n)&&n.includes(s)||(t[e]=n?[].concat(n,s):s)}else""!==e&&(t[e]=r[e])}return t}function hn(e,t,n,r=null){o(e,t,7,[n,r])}const dn=St();let pn=0;function fn(e,t,n){const s=e.type,o=(t?t.appContext:e.appContext)||dn,a={uid:pn++,vnode:e,type:s,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new r.Bj(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ht(s,o),emitsOptions:P(s,o),emit:null,emitted:null,propsDefaults:i.kT,inheritAttrs:s.inheritAttrs,ctx:i.kT,data:i.kT,props:i.kT,attrs:i.kT,slots:i.kT,refs:i.kT,setupState:i.kT,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=N.bind(null,a),e.ce&&e.ce(a),a}let mn=null;const gn=()=>mn||U,vn=e=>{mn=e,e.scope.on()},wn=()=>{mn&&mn.scope.off(),mn=null};function yn(e){return 4&e.vnode.shapeFlag}let xn,bn,Mn=!1;function Sn(e,t=!1){Mn=t;const{props:n,children:r}=e.vnode,i=yn(e);at(e,n,i,t),bt(e,r);const s=i?kn(e,t):void 0;return Mn=!1,s}function kn(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=(0,r.Xl)(new Proxy(e.ctx,Ge));const{setup:o}=n;if(o){const n=e.setupContext=o.length>1?Ln(e):null;vn(e),(0,r.Jd)();const l=s(o,e,0,[e.props,n]);if((0,r.lk)(),wn(),(0,i.tI)(l)){if(l.then(wn,wn),t)return l.then((n=>{zn(e,n,t)})).catch((t=>{a(t,e,0)}));e.asyncDep=l}else zn(e,l,t)}else In(e,t)}function zn(e,t,n){(0,i.mf)(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:(0,i.Kn)(t)&&(e.setupState=(0,r.WL)(t)),In(e,n)}function In(e,t,n){const s=e.type;if(!e.render){if(!t&&xn&&!s.render){const t=s.template;if(t){0;const{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:o,compilerOptions:a}=s,l=(0,i.l7)((0,i.l7)({isCustomElement:n,delimiters:o},r),a);s.render=xn(t,l)}}e.render=s.render||i.dG,bn&&bn(e)}vn(e),(0,r.Jd)(),He(e),(0,r.lk)(),wn()}function Tn(e){return new Proxy(e.attrs,{get(t,n){return(0,r.j)(e,"get","$attrs"),t[n]}})}function Ln(e){const t=t=>{e.exposed=t||{}};let n;return{get attrs(){return n||(n=Tn(e))},slots:e.slots,emit:e.emit,expose:t}}function En(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy((0,r.WL)((0,r.Xl)(e.exposed)),{get(t,n){return n in t?t[n]:n in Ke?Ke[n](e):void 0}}))}function An(e,t=!0){return(0,i.mf)(e)?e.displayName||e.name:e.name||t&&e.__name}function Cn(e){return(0,i.mf)(e)&&"__vccOpts"in e}const Dn=(e,t)=>(0,r.Fl)(e,t,Mn);function Rn(e,t,n){const r=arguments.length;return 2===r?(0,i.Kn)(t)&&!(0,i.kJ)(t)?Ht(t)?en(e,null,[t]):en(e,t):en(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Ht(n)&&(n=[n]),en(e,t,n))}Symbol("");const Nn="3.2.37"},9242:function(e,t,n){"use strict";n.d(t,{e8:function(){return ee},ri:function(){return ae}});n(6699);var r=n(7139),i=n(3396);n(4870);const s="http://www.w3.org/2000/svg",o="undefined"!==typeof document?document:null,a=o&&o.createElement("template"),l={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?o.createElementNS(s,e):o.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:e=>o.createTextNode(e),createComment:e=>o.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>o.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},cloneNode(e){const t=e.cloneNode(!0);return"_value"in e&&(t._value=e._value),t},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling)){while(1)if(t.insertBefore(i.cloneNode(!0),n),i===s||!(i=i.nextSibling))break}else{a.innerHTML=r?`<svg>${e}</svg>`:e;const i=a.content;if(r){const e=i.firstChild;while(e.firstChild)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function c(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function u(e,t,n){const i=e.style,s=(0,r.HD)(n);if(n&&!s){for(const e in n)d(i,e,n[e]);if(t&&!(0,r.HD)(t))for(const e in t)null==n[e]&&d(i,e,"")}else{const r=i.display;s?t!==n&&(i.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(i.display=r)}}const h=/\s*!important$/;function d(e,t,n){if((0,r.kJ)(n))n.forEach((n=>d(e,t,n)));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const i=m(e,t);h.test(n)?e.setProperty((0,r.rs)(i),n.replace(h,""),"important"):e[i]=n}}const p=["Webkit","Moz","ms"],f={};function m(e,t){const n=f[t];if(n)return n;let i=(0,r._A)(t);if("filter"!==i&&i in e)return f[t]=i;i=(0,r.kC)(i);for(let r=0;r<p.length;r++){const n=p[r]+i;if(n in e)return f[t]=n}return t}const g="http://www.w3.org/1999/xlink";function v(e,t,n,i,s){if(i&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(g,t.slice(6,t.length)):e.setAttributeNS(g,t,n);else{const i=(0,r.Pq)(t);null==n||i&&!(0,r.yA)(n)?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function w(e,t,n,i,s,o,a){if("innerHTML"===t||"textContent"===t)return i&&a(i,s,o),void(e[t]=null==n?"":n);if("value"===t&&"PROGRESS"!==e.tagName&&!e.tagName.includes("-")){e._value=n;const r=null==n?"":n;return e.value===r&&"OPTION"!==e.tagName||(e.value=r),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const i=typeof e[t];"boolean"===i?n=(0,r.yA)(n):null==n&&"string"===i?(n="",l=!0):"number"===i&&(n=0,l=!0)}try{e[t]=n}catch(c){0}l&&e.removeAttribute(t)}const[y,x]=(()=>{let e=Date.now,t=!1;if("undefined"!==typeof window){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const n=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(n&&Number(n[1])<=53)}return[e,t]})();let b=0;const M=Promise.resolve(),S=()=>{b=0},k=()=>b||(M.then(S),b=y());function z(e,t,n,r){e.addEventListener(t,n,r)}function I(e,t,n,r){e.removeEventListener(t,n,r)}function T(e,t,n,r,i=null){const s=e._vei||(e._vei={}),o=s[t];if(r&&o)o.value=r;else{const[n,a]=E(t);if(r){const o=s[t]=A(r,i);z(e,n,o,a)}else o&&(I(e,n,o,a),s[t]=void 0)}}const L=/(?:Once|Passive|Capture)$/;function E(e){let t;if(L.test(e)){let n;t={};while(n=e.match(L))e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[(0,r.rs)(e.slice(2)),t]}function A(e,t){const n=e=>{const r=e.timeStamp||y();(x||r>=n.attached-1)&&(0,i.$d)(C(e,n.value),t,5,[e])};return n.value=e,n.attached=k(),n}function C(e,t){if((0,r.kJ)(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}const D=/^on[a-z]/,R=(e,t,n,i,s=!1,o,a,l,h)=>{"class"===t?c(e,i,s):"style"===t?u(e,n,i):(0,r.F7)(t)?(0,r.tR)(t)||T(e,t,n,i,a):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):N(e,t,i,s))?w(e,t,i,o,a,l,h):("true-value"===t?e._trueValue=i:"false-value"===t&&(e._falseValue=i),v(e,t,i,s))};function N(e,t,n,i){return i?"innerHTML"===t||"textContent"===t||!!(t in e&&D.test(t)&&(0,r.mf)(n)):"spellcheck"!==t&&"draggable"!==t&&"translate"!==t&&("form"!==t&&(("list"!==t||"INPUT"!==e.tagName)&&(("type"!==t||"TEXTAREA"!==e.tagName)&&((!D.test(t)||!(0,r.HD)(n))&&t in e))))}"undefined"!==typeof HTMLElement&&HTMLElement;const P="transition",O="animation",U=(e,{slots:t})=>(0,i.h)(i.P$,B(e),t);U.displayName="Transition";const j={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},_=(U.props=(0,r.l7)({},i.P$.props,j),(e,t=[])=>{(0,r.kJ)(e)?e.forEach((e=>e(...t))):e&&e(...t)}),F=e=>!!e&&((0,r.kJ)(e)?e.some((e=>e.length>1)):e.length>1);function B(e){const t={};for(const r in e)r in j||(t[r]=e[r]);if(!1===e.css)return t;const{name:n="v",type:i,duration:s,enterFromClass:o=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=o,appearActiveClass:u=a,appearToClass:h=l,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:p=`${n}-leave-active`,leaveToClass:f=`${n}-leave-to`}=e,m=W(s),g=m&&m[0],v=m&&m[1],{onBeforeEnter:w,onEnter:y,onEnterCancelled:x,onLeave:b,onLeaveCancelled:M,onBeforeAppear:S=w,onAppear:k=y,onAppearCancelled:z=x}=t,I=(e,t,n)=>{K(e,t?h:l),K(e,t?u:a),n&&n()},T=(e,t)=>{e._isLeaving=!1,K(e,d),K(e,f),K(e,p),t&&t()},L=e=>(t,n)=>{const r=e?k:y,s=()=>I(t,e,n);_(r,[t,s]),G((()=>{K(t,e?c:o),V(t,e?h:l),F(r)||H(t,i,g,s)}))};return(0,r.l7)(t,{onBeforeEnter(e){_(w,[e]),V(e,o),V(e,a)},onBeforeAppear(e){_(S,[e]),V(e,c),V(e,u)},onEnter:L(!1),onAppear:L(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>T(e,t);V(e,d),X(),V(e,p),G((()=>{e._isLeaving&&(K(e,d),V(e,f),F(b)||H(e,i,v,n))})),_(b,[e,n])},onEnterCancelled(e){I(e,!1),_(x,[e])},onAppearCancelled(e){I(e,!0),_(z,[e])},onLeaveCancelled(e){T(e),_(M,[e])}})}function W(e){if(null==e)return null;if((0,r.Kn)(e))return[q(e.enter),q(e.leave)];{const t=q(e);return[t,t]}}function q(e){const t=(0,r.He)(e);return t}function V(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e._vtc||(e._vtc=new Set)).add(t)}function K(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function G(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}let Y=0;function H(e,t,n,r){const i=e._endId=++Y,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=$(e,t);if(!o)return r();const c=o+"end";let u=0;const h=()=>{e.removeEventListener(c,d),s()},d=t=>{t.target===e&&++u>=l&&h()};setTimeout((()=>{u<l&&h()}),a+1),e.addEventListener(c,d)}function $(e,t){const n=window.getComputedStyle(e),r=e=>(n[e]||"").split(", "),i=r(P+"Delay"),s=r(P+"Duration"),o=Q(i,s),a=r(O+"Delay"),l=r(O+"Duration"),c=Q(a,l);let u=null,h=0,d=0;t===P?o>0&&(u=P,h=o,d=s.length):t===O?c>0&&(u=O,h=c,d=l.length):(h=Math.max(o,c),u=h>0?o>c?P:O:null,d=u?u===P?s.length:l.length:0);const p=u===P&&/\b(transform|all)(,|$)/.test(n[P+"Property"]);return{type:u,timeout:h,propCount:d,hasTransform:p}}function Q(e,t){while(e.length<t.length)e=e.concat(e);return Math.max(...t.map(((t,n)=>J(t)+J(e[n]))))}function J(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function X(){return document.body.offsetHeight}new WeakMap,new WeakMap;const Z=e=>{const t=e.props["onUpdate:modelValue"]||!1;return(0,r.kJ)(t)?e=>(0,r.ir)(t,e):t};const ee={deep:!0,created(e,t,n){e._assign=Z(n),z(e,"change",(()=>{const t=e._modelValue,n=ne(e),i=e.checked,s=e._assign;if((0,r.kJ)(t)){const e=(0,r.hq)(t,n),o=-1!==e;if(i&&!o)s(t.concat(n));else if(!i&&o){const n=[...t];n.splice(e,1),s(n)}}else if((0,r.DM)(t)){const e=new Set(t);i?e.add(n):e.delete(n),s(e)}else s(re(e,i))}))},mounted:te,beforeUpdate(e,t,n){e._assign=Z(n),te(e,t,n)}};function te(e,{value:t,oldValue:n},i){e._modelValue=t,(0,r.kJ)(t)?e.checked=(0,r.hq)(t,i.props.value)>-1:(0,r.DM)(t)?e.checked=t.has(i.props.value):t!==n&&(e.checked=(0,r.WV)(t,re(e,!0)))}function ne(e){return"_value"in e?e._value:e.value}function re(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const ie=(0,r.l7)({patchProp:R},l);let se;function oe(){return se||(se=(0,i.Us)(ie))}const ae=(...e)=>{const t=oe().createApp(...e);const{mount:n}=t;return t.mount=e=>{const i=le(e);if(!i)return;const s=t._component;(0,r.mf)(s)||s.render||s.template||(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function le(e){if((0,r.HD)(e)){const t=document.querySelector(e);return t}return e}},7139:function(e,t,n){"use strict";function r(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?e=>!!n[e.toLowerCase()]:e=>!!n[e]}n.d(t,{C_:function(){return p},DM:function(){return D},E9:function(){return re},F7:function(){return k},Gg:function(){return V},HD:function(){return P},He:function(){return te},Kn:function(){return U},NO:function(){return M},Nj:function(){return ee},Od:function(){return T},PO:function(){return W},Pq:function(){return a},RI:function(){return E},S0:function(){return q},W7:function(){return B},WV:function(){return m},Z6:function(){return x},_A:function(){return Y},_N:function(){return C},aU:function(){return X},dG:function(){return b},e1:function(){return s},fY:function(){return r},hR:function(){return J},hq:function(){return g},ir:function(){return Z},j5:function(){return c},kC:function(){return Q},kJ:function(){return A},kT:function(){return y},l7:function(){return I},mf:function(){return N},rs:function(){return $},tI:function(){return j},tR:function(){return z},yA:function(){return l},yk:function(){return O},zw:function(){return v}});const i="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt",s=r(i);const o="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",a=r(o);function l(e){return!!e||""===e}function c(e){if(A(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=P(r)?d(r):c(r);if(i)for(const e in i)t[e]=i[e]}return t}return P(e)||U(e)?e:void 0}const u=/;(?![^(]*\))/g,h=/:(.+)/;function d(e){const t={};return e.split(u).forEach((e=>{if(e){const n=e.split(h);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function p(e){let t="";if(P(e))t=e;else if(A(e))for(let n=0;n<e.length;n++){const r=p(e[n]);r&&(t+=r+" ")}else if(U(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function f(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=m(e[r],t[r]);return n}function m(e,t){if(e===t)return!0;let n=R(e),r=R(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=O(e),r=O(t),n||r)return e===t;if(n=A(e),r=A(t),n||r)return!(!n||!r)&&f(e,t);if(n=U(e),r=U(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const n in e){const r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!m(e[n],t[n]))return!1}}return String(e)===String(t)}function g(e,t){return e.findIndex((e=>m(e,t)))}const v=e=>P(e)?e:null==e?"":A(e)||U(e)&&(e.toString===_||!N(e.toString))?JSON.stringify(e,w,2):String(e),w=(e,t)=>t&&t.__v_isRef?w(e,t.value):C(t)?{[`Map(${t.size})`]:[...t.entries()].reduce(((e,[t,n])=>(e[`${t} =>`]=n,e)),{})}:D(t)?{[`Set(${t.size})`]:[...t.values()]}:!U(t)||A(t)||W(t)?t:String(t),y={},x=[],b=()=>{},M=()=>!1,S=/^on[^a-z]/,k=e=>S.test(e),z=e=>e.startsWith("onUpdate:"),I=Object.assign,T=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},L=Object.prototype.hasOwnProperty,E=(e,t)=>L.call(e,t),A=Array.isArray,C=e=>"[object Map]"===F(e),D=e=>"[object Set]"===F(e),R=e=>"[object Date]"===F(e),N=e=>"function"===typeof e,P=e=>"string"===typeof e,O=e=>"symbol"===typeof e,U=e=>null!==e&&"object"===typeof e,j=e=>U(e)&&N(e.then)&&N(e.catch),_=Object.prototype.toString,F=e=>_.call(e),B=e=>F(e).slice(8,-1),W=e=>"[object Object]"===F(e),q=e=>P(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,V=r(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),K=e=>{const t=Object.create(null);return n=>{const r=t[n];return r||(t[n]=e(n))}},G=/-(\w)/g,Y=K((e=>e.replace(G,((e,t)=>t?t.toUpperCase():"")))),H=/\B([A-Z])/g,$=K((e=>e.replace(H,"-$1").toLowerCase())),Q=K((e=>e.charAt(0).toUpperCase()+e.slice(1))),J=K((e=>e?`on${Q(e)}`:"")),X=(e,t)=>!Object.is(e,t),Z=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},ee=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},te=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let ne;const re=()=>ne||(ne="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{})},503:function(e,t,n){e.exports=n(1788),n(1621)},1788:function(e,t,n){e=n.nmd(e),n(1703),function(){var t,n,r,i,s,o,a,l,c,u,h,d,p,f,m,g,v,w,y,x,b,M,S,k,z,I,T,L,E,A,C,D,R;[y,w,f,s,v,t]=[0,1,2,3,4,5],[T,S,z,b,c,h,a,p]=[0,1,2,3,4,5,6,7],[I,M,k,x,d,l,u,o,g,m,n,r]=[0,1,2,3,4,5,6,7,8,9,10,11],[E,C,R]=function(){var e,t,n,r,i,s;return s=function(e){return e-1},i=function(e){return s(9)+e},n=function(e){return i(9)+e},t=function(e){return n(9)+e},r=function(e){return t(9)+e},e=function(e){return r(9)+e},[[4,13,22,31,40,49],[[s(9),i(1),n(3)],[s(7),n(1),r(3)],[s(1),r(1),e(3)],[s(3),e(1),i(3)],[t(3),n(9),i(7)],[t(1),r(9),n(7)],[t(7),e(9),r(7)],[t(9),i(9),e(7)]],[[s(6),i(2)],[s(8),n(2)],[s(4),r(2)],[s(2),e(2)],[t(6),i(8)],[t(2),n(8)],[t(4),r(8)],[t(8),e(8)],[n(6),i(4)],[n(4),r(6)],[e(6),r(4)],[e(4),i(6)]]]}(),L=["U","R","F","D","L","B"],A=[["U","R","F"],["U","F","L"],["U","L","B"],["U","B","R"],["D","F","R"],["D","L","F"],["D","B","L"],["D","R","B"]],D=[["U","R"],["U","F"],["U","L"],["U","B"],["D","R"],["D","F"],["D","L"],["D","B"],["F","R"],["F","L"],["B","L"],["B","R"]],i=function(){var e,i,E;class N{constructor(e){null!=e?this.init(e):this.identity(),this.newCenter=function(){var e,t;for(t=[],e=0;e<=5;++e)t.push(0);return t}(),this.newCp=function(){var e,t;for(t=[],e=0;e<=7;++e)t.push(0);return t}(),this.newEp=function(){var e,t;for(t=[],e=0;e<=11;++e)t.push(0);return t}(),this.newCo=function(){var e,t;for(t=[],e=0;e<=7;++e)t.push(0);return t}(),this.newEo=function(){var e,t;for(t=[],e=0;e<=11;++e)t.push(0);return t}()}init(e){return this.center=e.center.slice(0),this.co=e.co.slice(0),this.ep=e.ep.slice(0),this.cp=e.cp.slice(0),this.eo=e.eo.slice(0)}identity(){return this.center=[0,1,2,3,4,5],this.cp=[0,1,2,3,4,5,6,7],this.co=function(){var e,t;for(t=[],e=0;e<=7;++e)t.push(0);return t}(),this.ep=[0,1,2,3,4,5,6,7,8,9,10,11],this.eo=function(){var e,t;for(t=[],e=0;e<=11;++e)t.push(0);return t}()}toJSON(){return{center:this.center,cp:this.cp,co:this.co,ep:this.ep,eo:this.eo}}asString(){var e,t,n,r,i,s,o,a,l,c,u;for(u=[],n=r=0;r<=5;n=++r)u[9*n+4]=L[this.center[n]];for(n=i=0;i<=7;n=++i)for(e=this.cp[n],l=this.co[n],o=s=0;s<=2;o=++s)u[C[n][(o+l)%3]]=A[e][o];for(n=a=0;a<=11;n=++a)for(t=this.ep[n],l=this.eo[n],o=c=0;c<=1;o=++c)u[R[n][(o+l)%2]]=D[t][o];return u.join("")}static fromString(e){var t,n,r,i,s,o,a,l,c,u,h,d,p,f;for(r=new N,i=o=0;o<=5;i=++o)for(s=a=0;a<=5;s=++a)e[9*i+4]===L[s]&&(r.center[i]=s);for(i=l=0;l<=7;i=++l){for(u=c=0;c<=2;u=++c)if("U"===(f=e[C[i][u]])||"D"===f)break;for(t=e[C[i][(u+1)%3]],n=e[C[i][(u+2)%3]],s=h=0;h<=7;s=++h)t===A[s][1]&&n===A[s][2]&&(r.cp[i]=s,r.co[i]=u%3)}for(i=d=0;d<=11;i=++d)for(s=p=0;p<=11;s=++p){if(e[R[i][0]]===D[s][0]&&e[R[i][1]]===D[s][1]){r.ep[i]=s,r.eo[i]=0;break}if(e[R[i][0]]===D[s][1]&&e[R[i][1]]===D[s][0]){r.ep[i]=s,r.eo[i]=1;break}}return r}clone(){return new N(this.toJSON())}static random(){return(new N).randomize()}isSolved(){var e,t,n,r,i,s,o;for(n=this.clone(),n.move(n.upright()),t=i=0;i<=5;t=++i)if(n.center[t]!==t)return!1;for(e=s=0;s<=7;e=++s){if(n.cp[e]!==e)return!1;if(0!==n.co[e])return!1}for(r=o=0;o<=11;r=++o){if(n.ep[r]!==r)return!1;if(0!==n.eo[r])return!1}return!0}centerMultiply(e){var t,n,r;for(r=n=0;n<=5;r=++n)t=e.center[r],this.newCenter[r]=this.center[t];return[this.center,this.newCenter]=[this.newCenter,this.center],this}cornerMultiply(e){var t,n,r;for(r=n=0;n<=7;r=++n)t=e.cp[r],this.newCp[r]=this.cp[t],this.newCo[r]=(this.co[t]+e.co[r])%3;return[this.cp,this.newCp]=[this.newCp,this.cp],[this.co,this.newCo]=[this.newCo,this.co],this}edgeMultiply(e){var t,n,r;for(r=n=0;n<=11;r=++n)t=e.ep[r],this.newEp[r]=this.ep[t],this.newEo[r]=(this.eo[t]+e.eo[r])%2;return[this.ep,this.newEp]=[this.newEp,this.ep],[this.eo,this.newEo]=[this.newEo,this.eo],this}multiply(e){return this.centerMultiply(e),this.cornerMultiply(e),this.edgeMultiply(e),this}move(e){var t,n,r,i,s,o,a,l;for(a=E(e),n=0,i=a.length;n<i;n++)for(s=a[n],t=s/3|0,o=s%3,r=0,l=o;0<=l?r<=l:r>=l;0<=l?++r:--r)this.multiply(N.moves[t]);return this}upright(){var e,n,r,i,o,a;for(e=this.clone(),a=[],n=i=0;i<=5;n=++i)if(e.center[n]===f)break;switch(n){case s:a.push("x");break;case y:a.push("x'");break;case t:a.push("x2");break;case w:a.push("y");break;case v:a.push("y'")}for(a.length&&e.move(a[0]),r=o=0;o<=5;r=++o)if(e.center[r]===y)break;switch(r){case v:a.push("z");break;case w:a.push("z'");break;case s:a.push("z2")}return a.join(" ")}static inverse(t){var n,r,i,s,o,a,l;if(a=function(){var e,r,i,a;for(i=E(t),a=[],e=0,r=i.length;e<r;e++)s=i[e],n=s/3|0,o=s%3,a.push(3*n-(o-1)+1);return a}(),a.reverse(),"string"===typeof t){for(l="",r=0,i=a.length;r<i;r++)s=a[r],n=s/3|0,o=s%3,l+=e[n],1===o?l+="2":2===o&&(l+="'"),l+=" ";return l.substring(0,l.length-1)}return null!=t.length?a:a[0]}}return N.prototype.randomize=function(){var e,t,n,r,i,s,o,a,l;return s=function(e,t){return e+Math.floor(Math.random()*(t-e+1))},l=function(e){var t,n;t=e.length;while(0!==t)n=s(0,t-1),t-=1,e[t],[e[t],e[n]]=[e[n],e[t]]},r=function(e){var t,n,r,i,s,o,a;s=0,a=function(){var t,n,r;for(r=[],t=0,n=e.length-1;0<=n?t<=n:t>=n;0<=n?++t:--t)r.push(!1);return r}();while(1){for(t=-1,r=i=0,o=e.length-1;0<=o?i<=o:i>=o;r=0<=o?++i:--i)if(!a[r]){t=r;break}if(-1===t)break;n=0;while(!a[t])a[t]=!0,n++,t=e[t];s+=n+1}return s},e=function(e,t){var n;return n=r(t)+r(e),n%2===0},n=function(t,n){l(n),l(t);while(!e(t,n))l(n),l(t)},o=function(e,t){var n,r,i;for(0,n=r=0,i=e.length-1;0<=i?r<=i:r>=i;n=0<=i?++r:--r)e[n]=s(0,t-1)},i=function(e,t){return e.reduce((function(e,t){return e+t}))%t===0},t=function(e,t){o(e,3);while(!i(e,3))o(e,3);o(t,2);while(!i(t,2))o(t,2)},a=function(){return n(this.cp,this.ep),t(this.co,this.eo),this},a}(),N.moves=[{center:[0,1,2,3,4,5],cp:[b,T,S,z,c,h,a,p],co:[0,0,0,0,0,0,0,0],ep:[x,I,M,k,d,l,u,o,g,m,n,r],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[c,S,z,T,p,h,a,b],co:[2,0,0,1,1,0,0,2],ep:[g,M,k,x,r,l,u,o,d,m,n,I],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[S,h,z,b,T,c,a,p],co:[1,2,0,0,2,1,0,0],ep:[I,m,k,x,d,g,u,o,M,l,n,r],eo:[0,1,0,0,0,1,0,0,1,1,0,0]},{center:[0,1,2,3,4,5],cp:[T,S,z,b,h,a,p,c],co:[0,0,0,0,0,0,0,0],ep:[I,M,k,x,l,u,o,d,g,m,n,r],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[T,z,a,b,c,S,h,p],co:[0,1,2,0,0,2,1,0],ep:[I,M,n,x,d,l,m,o,g,k,u,r],eo:[0,0,0,0,0,0,0,0,0,0,0,0]},{center:[0,1,2,3,4,5],cp:[T,S,b,p,c,h,z,a],co:[0,0,1,2,0,0,2,1],ep:[I,M,k,r,d,l,u,n,g,m,x,o],eo:[0,0,0,1,0,0,0,1,0,0,1,1]},{center:[y,f,v,s,t,w],cp:[T,S,z,b,c,h,a,p],co:[0,0,0,0,0,0,0,0],ep:[I,M,k,x,d,l,u,o,m,n,r,g],eo:[0,0,0,0,0,0,0,0,1,1,1,1]},{center:[t,w,y,f,v,s],cp:[T,S,z,b,c,h,a,p],co:[0,0,0,0,0,0,0,0],ep:[I,x,k,o,d,M,u,l,g,m,n,r],eo:[0,1,0,1,0,1,0,1,0,0,0,0]},{center:[v,y,f,w,s,t],cp:[T,S,z,b,c,h,a,p],co:[0,0,0,0,0,0,0,0],ep:[k,M,u,x,I,l,d,o,g,m,n,r],eo:[1,0,1,0,1,0,1,0,0,0,0,0]}],i={U:0,R:1,F:2,D:3,L:4,B:5,E:6,M:7,S:8,x:9,y:10,z:11,u:12,r:13,f:14,d:15,l:16,b:17},e={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B",6:"E",7:"M",8:"S",9:"x",10:"y",11:"z",12:"u",13:"r",14:"f",15:"d",16:"l",17:"b"},E=function(e){var t,n,r,s,o,a,l;if("string"===typeof e){for(a=e.split(/\s+/),l=[],t=0,n=a.length;t<n;t++)if(s=a[t],0!==s.length){if(s.length>2)throw new Error(`Invalid move: ${s}`);if(r=i[s[0]],void 0===r)throw new Error(`Invalid move: ${s}`);if(1===s.length)o=0;else if("2"===s[1])o=1;else{if("'"!==s[1])throw new Error(`Invalid move: ${s}`);o=2}l.push(3*r+o)}return l}return null!=e.length?e:[e]},N.moves.push((new N).move("R M' L'").toJSON()),N.moves.push((new N).move("U E' D'").toJSON()),N.moves.push((new N).move("F S B'").toJSON()),N.moves.push((new N).move("U E'").toJSON()),N.moves.push((new N).move("R M'").toJSON()),N.moves.push((new N).move("F S").toJSON()),N.moves.push((new N).move("D E").toJSON()),N.moves.push((new N).move("L M").toJSON()),N.moves.push((new N).move("B S'").toJSON()),N}.call(this),null!==e?e.exports=i:this.Cube=i}.call(this)},1621:function(e,t,n){(function(){var e,t,r,i,s,o,a,l,c,u,h,d,p,f,m,g,v,w,y,x,b,M,S,k,z,I,T,L,E,A,C,D,R,N,P,O,U,j,_,F,B,W,q,V,K,G,Y,H,$,Q,J,X,Z,ee,te,ne,re,ie,se=[].indexOf;for(Y in s=this.Cube||n(1788),[C,A,m,o,y,e]=[0,1,2,3,4,5],[_,P,U,R,u,d,l,f]=[0,1,2,3,4,5,6,7],[j,N,O,D,p,c,h,a,v,g,t,r]=[0,1,2,3,4,5,6,7,8,9,10,11],i=function(e,t){var n,r,i;if(e<t)return 0;t>e/2&&(t=e-t),i=1,n=e,r=1;while(n!==e-t)i*=n,i/=r,n--,r++;return i},G=function(e){var t,n,r,i;for(t=1,n=r=2,i=e;2<=i?r<=i:r>=i;n=2<=i?++r:--r)t*=n;return t},H=function(e,t){return e>t?e:t},ne=function(e,t,n){var r,i,s,o,a;for(a=e[t],r=i=s=t,o=n-1;s<=o?i<=o:i>=o;r=s<=o?++i:--i)e[r]=e[r+1];return e[n]=a},re=function(e,t,n){var r,i,s,o,a;for(a=e[n],r=i=s=n,o=t+1;s<=o?i<=o:i>=o;r=s<=o?++i:--i)e[r]=e[r-1];return e[t]=a},Z=function(e,t,n,r=!1){var s,o,a,l,c,u;return l=n-t,a=G(l+1),"corners"===e?(o=7,u="cp"):(o=11,u="ep"),c=function(){var e,t,n;for(n=[],s=e=0,t=l;0<=t?e<=t:e>=t;s=0<=t?++e:--e)n.push(0);return n}(),function(e){var h,d,p,f,m,g,v,w,y,x,b,M,S,k,z,I,T,L,E,A,C,D,R,N,P,O,U;if(null!=e){for(s=g=0,b=l;0<=b?g<=b:g>=b;s=0<=b?++g:--g)c[s]=s+t;for(d=e%a,h=e/a|0,y=this[u],s=v=0,M=o;0<=M?v<=M:v>=M;s=0<=M?++v:--v)y[s]=-1;for(f=w=1,k=l;1<=k?w<=k:w>=k;f=1<=k?++w:--w){m=d%(f+1),d=d/(f+1)|0;while(m>0)re(c,0,f),m--}if(P=l,r)for(f=x=0,z=o;0<=z?x<=z:x>=z;f=0<=z?++x:--x)p=i(o-f,P+1),h-p>=0&&(y[f]=c[l-P],h-=p,P--);else for(f=D=I=o;I<=0?D<=0:D>=0;f=I<=0?++D:--D)p=i(f,P+1),h-p>=0&&(y[f]=c[P],h-=p,P--);return this}for(y=this[u],s=R=0,T=l;0<=T?R<=T:R>=T;s=0<=T?++R:--R)c[s]=-1;if(h=d=P=0,r)for(f=N=L=o;L<=0?N<=0:N>=0;f=L<=0?++N:--N)t<=(E=y[f])&&E<=n&&(h+=i(o-f,P+1),c[l-P]=y[f],P++);else for(f=O=0,A=o;0<=A?O<=A:O>=A;f=0<=A?++O:--O)t<=(C=y[f])&&C<=n&&(h+=i(f,P+1),c[P]=y[f],P++);for(f=U=S=l;S<=0?U<=0:U>=0;f=S<=0?++U:--U){m=0;while(c[f]!==t+f)ne(c,0,f),m++;d=(f+1)*d+m}return h*a+d}},w={twist:function(e){var t,n,r,i,s,o;if(null!=e){for(s=0,t=n=6;n>=0;t=--n)i=e%3,e=e/3|0,this.co[t]=i,s+=i;return this.co[7]=(3-s%3)%3,this}for(o=0,t=r=0;r<=6;t=++r)o=3*o+this.co[t];return o},flip:function(e){var t,n,r,i,s,o;if(null!=e){for(s=0,t=n=10;n>=0;t=--n)i=e%2,e=e/2|0,this.eo[t]=i,s+=i;return this.eo[11]=(2-s%2)%2,this}for(o=0,t=r=0;r<=10;t=++r)o=2*o+this.eo[t];return o},cornerParity:function(){var e,t,n,r,i,s,o,a,l;for(l=0,e=n=i=f,s=_+1;i<=s?n<=s:n>=s;e=i<=s?++n:--n)for(t=r=o=e-1,a=_;o<=a?r<=a:r>=a;t=o<=a?++r:--r)this.cp[t]>this.cp[e]&&l++;return l%2},edgeParity:function(){var e,t,n,i,s,o,a,l,c;for(c=0,e=n=s=r,o=j+1;s<=o?n<=o:n>=o;e=s<=o?++n:--n)for(t=i=a=e-1,l=j;a<=l?i<=l:i>=l;t=a<=l?++i:--i)this.ep[t]>this.ep[e]&&c++;return c%2},URFtoDLF:Z("corners",_,d),URtoUL:Z("edges",j,O),UBtoDF:Z("edges",D,c),URtoDF:Z("edges",j,c),FRtoBR:Z("edges",v,r,!0)},w)ie=w[Y],s.prototype[Y]=ie;W=function(e,t,n){var r,i,o,a,l,c,u,h,d,p,f;for(r="corners"===e?"cornerMultiply":"edgeMultiply",i=new s,f=[],o=c=0,p=n-1;0<=p?c<=p:c>=p;o=0<=p?++c:--c){for(i[t](o),a=[],l=h=0;h<=5;l=++h){for(u=s.moves[l],d=0;d<=2;++d)i[r](u),a.push(i[t]());i[r](u)}f.push(a)}return f},$=function(){var e,t;return e=new s,t=new s,function(n,r){var i,s;for(e.URtoUL(n),t.UBtoDF(r),i=s=0;s<=7;i=++s)if(-1!==e.ep[i]){if(-1!==t.ep[i])return-1;t.ep[i]=e.ep[i]}return t.URtoDF()}}(),z=2187,x=2048,M=2,b=11880,S=495,k=24,T=20160,L=20160,E=1320,I=1320,s.moveTables={parity:[[1,0,1,1,0,1,1,0,1,1,0,1,1,0,1,1,0,1],[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]],twist:null,flip:null,FRtoBR:null,URFtoDLF:null,URtoDF:null,URtoUL:null,UBtoDF:null,mergeURtoDF:null},Q={twist:["corners",z],flip:["edges",x],FRtoBR:["edges",b],URFtoDLF:["corners",T],URtoDF:["edges",L],URtoUL:["edges",E],UBtoDF:["edges",I],mergeURtoDF:[]},s.computeMoveTables=function(...e){var t,n,r,i,s,o;for(0===e.length&&(e=function(){var e;for(r in e=[],Q)e.push(r);return e}()),n=0,t=e.length;n<t;n++)o=e[n],null===this.moveTables[o]&&("mergeURtoDF"===o?this.moveTables.mergeURtoDF=function(){var e,t,n,r;for(r=[],t=n=0;n<=335;t=++n)r.push(function(){var n,r;for(r=[],e=n=0;n<=335;e=++n)r.push($(t,e));return r}());return r}():([i,s]=Q[o],this.moveTables[o]=W(i,o,s)));return this},F=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],J=function(){var e,t,n,r,i,s,o,a;for(a=[],t=n=0;n<=5;t=++n){for(r=[],e=i=0;i<=5;e=++i)if(e!==t&&e!==t-3)for(o=s=0;s<=2;o=++s)r.push(3*e+o);a.push(r)}return a}(),B=[0,1,2,4,7,9,10,11,13,16],X=function(){var e,t,n,r,i,s,o,a,l,c;for(c=[],t=r=0;r<=5;t=++r){for(i=[],e=s=0;s<=5;e=++s)if(e!==t&&e!==t-3)for(l=0===e||3===e?[0,1,2]:[1],o=0,n=l.length;o<n;o++)a=l[o],i.push(3*e+a);c.push(i)}return c}(),ee=function(e,t,n){var r,i,s;return r=t%8,s=t>>3,i=r<<2,null!=n?(e[s]&=~(15<<i),e[s]|=n<<i,n):(e[s]&15<<i)>>>i},q=function(e,t,n,r){var i,s,o,a,l,c,u,h,d,p,f,m;m=function(){var e,n,r;for(r=[],e=0,n=Math.ceil(t/8)-1;0<=n?e<=n:e>=n;0<=n?++e:--e)r.push(4294967295);return r}(),h=1===e?F:B,s=0,ee(m,0,s),o=1;while(o!==t){for(a=c=0,f=t-1;0<=f?c<=f:c>=f;a=0<=f?++c:--c)if(ee(m,a)===s)for(i=n(a),p=0,l=h.length;p<l;p++)u=h[p],d=r(i,u),15===ee(m,d)&&(ee(m,d,s+1),o++);s++}return m},s.pruningTables={sliceTwist:null,sliceFlip:null,sliceURFtoDLFParity:null,sliceURtoDFParity:null},te={sliceTwist:[1,S*z,function(e){return[e%S,e/S|0]},function(e,t){var n,r,i,o;return[i,o]=e,n=s.moveTables.FRtoBR[24*i][t]/24|0,r=s.moveTables.twist[o][t],r*S+n}],sliceFlip:[1,S*x,function(e){return[e%S,e/S|0]},function(e,t){var n,r,i,o;return[o,n]=e,i=s.moveTables.FRtoBR[24*o][t]/24|0,r=s.moveTables.flip[n][t],r*S+i}],sliceURFtoDLFParity:[2,k*T*M,function(e){return[e%2,(e/2|0)%k,(e/2|0)/k|0]},function(e,t){var n,r,i,o,a,l;return[a,l,n]=e,r=s.moveTables.parity[a][t],i=s.moveTables.FRtoBR[l][t],o=s.moveTables.URFtoDLF[n][t],2*(o*k+i)+r}],sliceURtoDFParity:[2,k*L*M,function(e){return[e%2,(e/2|0)%k,(e/2|0)/k|0]},function(e,t){var n,r,i,o,a,l;return[a,l,n]=e,r=s.moveTables.parity[a][t],i=s.moveTables.FRtoBR[l][t],o=s.moveTables.URtoDF[n][t],2*(o*k+i)+r}]},s.computePruningTables=function(...e){var t,n,r,i,s;for(0===e.length&&(e=function(){var e;for(r in e=[],te)e.push(r);return e}()),n=0,t=e.length;n<t;n++)s=e[n],null===this.pruningTables[s]&&(i=te[s],this.pruningTables[s]=q(...i));return this},s.initSolver=function(){return s.computeMoveTables(),s.computePruningTables()},s.prototype.solveUpright=function(e=22){var t,n,r,i,o,a,l,c,u;return r=function(){var e,t,n,r,i,s,o;for(t=["U","R","F","D","L","B"],s=["","2","'"],o=[],e=n=0;n<=5;e=++n)for(i=r=0;r<=2;i=++r)o.push(t[e]+s[i]);return o}(),t=class{constructor(e){this.parent=null,this.lastMove=null,this.depth=0,e&&this.init(e)}init(e){return this.flip=e.flip(),this.twist=e.twist(),this.slice=e.FRtoBR()/k|0,this.parity=e.cornerParity(),this.URFtoDLF=e.URFtoDLF(),this.FRtoBR=e.FRtoBR(),this.URtoUL=e.URtoUL(),this.UBtoDF=e.UBtoDF(),this}solution(){return this.parent?this.parent.solution()+r[this.lastMove]+" ":""}move(e,t,n){return s.moveTables[e][t][n]}pruning(e,t){return ee(s.pruningTables[e],t)}moves1(){return null!==this.lastMove?J[this.lastMove/3|0]:F}minDist1(){var e,t;return e=this.pruning("sliceFlip",S*this.flip+this.slice),t=this.pruning("sliceTwist",S*this.twist+this.slice),H(e,t)}next1(e){var t;return t=n.pop(),t.parent=this,t.lastMove=e,t.depth=this.depth+1,t.flip=this.move("flip",this.flip,e),t.twist=this.move("twist",this.twist,e),t.slice=this.move("FRtoBR",24*this.slice,e)/24|0,t}moves2(){return null!==this.lastMove?X[this.lastMove/3|0]:B}minDist2(){var e,t,n,r;return n=(k*this.URtoDF+this.FRtoBR)*M+this.parity,e=this.pruning("sliceURtoDFParity",n),r=(k*this.URFtoDLF+this.FRtoBR)*M+this.parity,t=this.pruning("sliceURFtoDLFParity",r),H(e,t)}init2(e=!0){if(null!==this.parent)return this.parent.init2(!1),this.URFtoDLF=this.move("URFtoDLF",this.parent.URFtoDLF,this.lastMove),this.FRtoBR=this.move("FRtoBR",this.parent.FRtoBR,this.lastMove),this.parity=this.move("parity",this.parent.parity,this.lastMove),this.URtoUL=this.move("URtoUL",this.parent.URtoUL,this.lastMove),this.UBtoDF=this.move("UBtoDF",this.parent.UBtoDF,this.lastMove),e?this.URtoDF=this.move("mergeURtoDF",this.URtoUL,this.UBtoDF):void 0}next2(e){var t;return t=n.pop(),t.parent=this,t.lastMove=e,t.depth=this.depth+1,t.URFtoDLF=this.move("URFtoDLF",this.URFtoDLF,e),t.FRtoBR=this.move("FRtoBR",this.FRtoBR,e),t.parity=this.move("parity",this.parity,e),t.URtoDF=this.move("URtoDF",this.URtoDF,e),t}},c=null,o=function(t){var n,r,s,o;for(n=0,o=[],n=r=1,s=e;1<=s?r<=s:r>=s;n=1<=s?++r:--r){if(i(t,n),null!==c)break;o.push(n++)}return o},i=function(e,t){var r,s,o,a,u,h,d;if(0===t){if(0===e.minDist1()&&(null===e.lastMove||(u=e.lastMove,se.call(B,u)<0)))return l(e)}else if(t>0&&e.minDist1()<=t){for(h=e.moves1(),d=[],s=0,r=h.length;s<r;s++){if(o=h[s],a=e.next1(o),i(a,t-1),n.push(a),null!==c)break;d.push(void 0)}return d}},l=function(t){var n,r,i,s;for(t.init2(),s=[],n=r=1,i=e-t.depth;1<=i?r<=i:r>=i;n=1<=i?++r:--r){if(a(t,n),null!==c)break;s.push(n++)}return s},a=function(e,t){var r,i,s,o,l,u;if(0===t){if(0===e.minDist2())return c=e.solution()}else if(t>0&&e.minDist2()<=t){for(l=e.moves2(),u=[],i=0,r=l.length;i<r;i++){if(s=l[i],o=e.next2(s),a(o,t-1),n.push(o),null!==c)break;u.push(void 0)}return u}},n=function(){var n,r,i;for(i=[],n=0,r=e+1;0<=r?n<=r:n>=r;0<=r?++n:--n)i.push(new t);return i}(),u=n.pop().init(this),o(u),n.push(u),c.length>0&&(c=c.substring(0,c.length-1)),c},K={U:0,R:1,F:2,D:3,L:4,B:5},V={0:"U",1:"R",2:"F",3:"D",4:"L",5:"B"},s.prototype.solve=function(e=22){var t,n,r,i,o,a,l,c,u;for(t=this.clone(),c=t.upright(),t.move(c),a=(new s).move(c).center,u=t.solveUpright(e),l=[],o=u.split(" "),r=0,n=o.length;r<n;r++)i=o[r],l.push(V[a[K[i[0]]]]),i.length>1&&(l[l.length-1]+=i[1]);return l.join(" ")},s.scramble=function(){return s.inverse(s.random().solve())}}).call(this)},89:function(e,t){"use strict";t.Z=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},7915:function(e,t,n){"use strict";n.d(t,{C0:function(){return L},Hp:function(){return P},Nj:function(){return E},Rs:function(){return A},U1:function(){return _},Yf:function(){return C},_b:function(){return a},g8:function(){return U},gc:function(){return O},k$:function(){return D},oY:function(){return N},q7:function(){return y},v6:function(){return F},vw:function(){return R}});n(1703);var r,i,s=n(9990),o=n(2230);new WeakMap,new WeakMap;var a=class{constructor(){(0,o.Ko)(this,r,0),(0,o.Ko)(this,i,0)}queue(e){return new Promise((async(t,n)=>{try{const n=++(0,o.yD)(this,r)._,s=await e;n>(0,o.ac)(this,i)&&((0,o.qx)(this,i,n),t(s))}catch(s){n(s)}}))}};r=new WeakMap,i=new WeakMap;var l,c,u,h,d,p,f,m,g,v=0,w=class{constructor(){(0,o.Ko)(this,u),(0,o.Ko)(this,p),(0,o.Ko)(this,l,new Set),this.lastSourceGeneration=0,(0,o.Ko)(this,c,new Set),(0,o.Ko)(this,d,!1),(0,o.Ko)(this,m,new Map)}canReuse(e,t){return e===t||this.canReuseValue(e,t)}canReuseValue(e,t){return!1}debugGetChildren(){return Array.from((0,o.ac)(this,l).values())}addChild(e){(0,o.ac)(this,l).add(e)}removeChild(e){(0,o.ac)(this,l).delete(e)}markStale(e){if(e.detail.generation!==v)throw new Error("A TwistyProp was marked stale too late!");if(this.lastSourceGeneration!==e.detail.generation){this.lastSourceGeneration=e.detail.generation;for(const t of(0,o.ac)(this,l))t.markStale(e);(0,o.U9)(this,u,h).call(this)}}addRawListener(e,t){(0,o.ac)(this,c).add(e),t?.initial&&e()}removeRawListener(e){(0,o.ac)(this,c).delete(e)}addFreshListener(e){const t=new a;let n=null;const r=async()=>{const r=await t.queue(this.get());null!==n&&this.canReuse(n,r)||(n=r,e(r))};(0,o.ac)(this,m).set(e,r),this.addRawListener(r,{initial:!0})}removeFreshListener(e){this.removeRawListener((0,o.ac)(this,m).get(e)),(0,o.ac)(this,m).delete(e)}};l=new WeakMap,c=new WeakMap,u=new WeakSet,h=function(){(0,o.ac)(this,d)||((0,o.qx)(this,d,!0),setTimeout((()=>(0,o.U9)(this,p,f).call(this)),0))},d=new WeakMap,p=new WeakSet,f=function(){if(!(0,o.ac)(this,d))throw new Error("Invalid dispatch state!");for(const e of(0,o.ac)(this,c))e();(0,o.qx)(this,d,!1)},m=new WeakMap;var y=class extends w{constructor(e){super(),(0,o.Ko)(this,g,void 0),(0,o.qx)(this,g,(0,s.D)((()=>this.getDefaultValue()))),e&&(0,o.qx)(this,g,this.deriveFromPromiseOrValue(e,(0,o.ac)(this,g)))}set(e){(0,o.qx)(this,g,this.deriveFromPromiseOrValue(e,(0,o.ac)(this,g)));const t={sourceProp:this,value:(0,o.ac)(this,g),generation:++v};this.markStale(new CustomEvent("stale",{detail:t}))}async get(){return(0,o.ac)(this,g)}async deriveFromPromiseOrValue(e,t){return this.derive(await e,t)}};g=new WeakMap;var x,b,M,S,k,z,I,T,L=class extends y{derive(e){return e}},E=Symbol("no value"),A=class extends w{constructor(e,t){super(),this.userVisibleErrorTracker=t,(0,o.Ko)(this,S),(0,o.Ko)(this,z),(0,o.Ko)(this,x,void 0),(0,o.Ko)(this,b,null),(0,o.Ko)(this,M,null),(0,o.qx)(this,x,e);for(const n of Object.values(e))n.addChild(this)}async get(){const e=this.lastSourceGeneration;if((0,o.ac)(this,M)?.generation===e)return(0,o.ac)(this,M).output;const t={generation:e,output:(0,o.U9)(this,z,I).call(this,(0,o.U9)(this,S,k).call(this),e,(0,o.ac)(this,b))};return(0,o.qx)(this,M,t),this.userVisibleErrorTracker?.reset(),t.output}};x=new WeakMap,b=new WeakMap,M=new WeakMap,S=new WeakSet,k=async function(){const e={};for(const[n,r]of Object.entries((0,o.ac)(this,x)))e[n]=r.get();const t={};for(const n in(0,o.ac)(this,x))t[n]=await e[n];return t},z=new WeakSet,I=async function(e,t,n=null){const r=await e,i=e=>((0,o.qx)(this,b,{inputs:r,output:Promise.resolve(e),generation:t}),e);if(!n)return i(await this.derive(r));const s=n.inputs;for(const a in(0,o.ac)(this,x)){const e=(0,o.ac)(this,x)[a];if(!e.canReuse(r[a],s[a]))return i(await this.derive(r))}return n.output};var C=class{constructor(){(0,o.Ko)(this,T,[])}addListener(e,t){let n=!1;const r=e=>{n||t(e)};e.addFreshListener(r),(0,o.ac)(this,T).push((()=>{e.removeFreshListener(r),n=!0}))}addMultiListener(e,t){let n=!1,r=e.length-1;const i=async i=>{if(r>0)return void r--;if(n)return;const s=e.map((e=>e.get())),o=await Promise.all(s);t(o)};for(const s of e)s.addFreshListener(i);(0,o.ac)(this,T).push((()=>{for(const t of e)t.removeFreshListener(i);n=!0}))}disconnect(){for(const e of(0,o.ac)(this,T))e()}};T=new WeakMap;var D={full:!0,"centers-only":!0,PLL:!0,CLS:!0,OLL:!0,COLL:!0,OCLL:!0,CLL:!0,ELL:!0,ELS:!0,LL:!0,F2L:!0,ZBLL:!0,ZBLS:!0,WVLS:!0,VLS:!0,LS:!0,EO:!0,EOline:!0,EOcross:!0,CMLL:!0,L6E:!0,L6EO:!0,Daisy:!0,Cross:!0,"2x2x2":!0,"2x2x3":!0,"Void Cube":!0,invisible:!0,picture:!0,"experimental-centers-U":!0,"experimental-centers-U-D":!0,"experimental-centers-U-L-D":!0,"experimental-centers-U-L-B-D":!0,"experimental-centers":!0,"experimental-fto-fc":!0,"experimental-fto-f2t":!0,"experimental-fto-sc":!0,"experimental-fto-l2c":!0,"experimental-fto-lbt":!0,"experimental-fto-l3t":!0,"experimental-global-custom-1":!0,"experimental-global-custom-2":!0},R=class extends L{getDefaultValue(){return"full"}},N={floating:!0,none:!0},P=class extends L{getDefaultValue(){return"auto"}},O=2*Math.PI,U=360/O,j=null;async function _(){return j??(j=n.e(430).then(n.bind(n,7430)))}var F=(0,s.D)((async()=>(await _()).T3I))},7574:function(e,t,n){"use strict";n.d(t,{A6:function(){return te},Bh:function(){return u},Jf:function(){return fe},Kz:function(){return oe},Mk:function(){return z},U$:function(){return l},V0:function(){return w},g9:function(){return Se},mv:function(){return Z},p5:function(){return pe},qi:function(){return ze}});n(6699),n(1703);var r=n(2230),i=!1,s=class{is(e){return this instanceof e}as(e){return this instanceof e?this:null}},o=class extends s{constructor(){super(),i&&Object.defineProperty(this,"_debugStr",{get:()=>this.toString()})}get log(){return console.log.bind(console,this,this.toString())}};function a(e,t=!0){if(!t)return e;switch(e){case 1:return-1;case-1:return 1}}function l(e,t){return-1===t?Array.from(e).reverse():e}function c(e){return Array.from(e).reverse()}function*u(e,t){-1===t?yield*h(e):yield*e}function*h(e){for(const t of Array.from(e).reverse())yield t}var d,p,f,m=2147483647,g="2^31 - 1",v=-2147483648,w=class{constructor(){(0,r.Ko)(this,d,[])}push(e){(0,r.ac)(this,d).push(e)}experimentalPushAlg(e){for(const t of e.units())this.push(t)}experimentalNumUnits(){return(0,r.ac)(this,d).length}toAlg(){return new Se((0,r.ac)(this,d))}reset(){(0,r.qx)(this,d,[])}};d=new WeakMap;var y,x,b=class extends o{constructor(e,t){super(),(0,r.Ko)(this,p,void 0),(0,r.Ko)(this,f,void 0),(0,r.qx)(this,p,be(e)),(0,r.qx)(this,f,be(t))}get A(){return(0,r.ac)(this,p)}get B(){return(0,r.ac)(this,f)}isIdentical(e){const t=e.as(b);return!(!t?.A.isIdentical(this.A)||!t?.B.isIdentical(this.B))}invert(){return new b((0,r.ac)(this,f),(0,r.ac)(this,p))}*experimentalExpand(e=1,t){t??(t=1/0),0===t?yield 1===e?this:this.invert():1===e?(yield*this.A.experimentalExpand(1,t-1),yield*this.B.experimentalExpand(1,t-1),yield*this.A.experimentalExpand(-1,t-1),yield*this.B.experimentalExpand(-1,t-1)):(yield*this.B.experimentalExpand(1,t-1),yield*this.A.experimentalExpand(1,t-1),yield*this.B.experimentalExpand(-1,t-1),yield*this.A.experimentalExpand(-1,t-1))}toString(){return`[${(0,r.ac)(this,p).toString()}, ${(0,r.ac)(this,f).toString()}]`}},M=b;p=new WeakMap,f=new WeakMap;var S,k=class extends o{constructor(e,t){super(),(0,r.Ko)(this,y,void 0),(0,r.Ko)(this,x,void 0),(0,r.qx)(this,y,be(e)),(0,r.qx)(this,x,be(t))}get A(){return(0,r.ac)(this,y)}get B(){return(0,r.ac)(this,x)}isIdentical(e){const t=e.as(k);return!(!t?.A.isIdentical(this.A)||!t?.B.isIdentical(this.B))}invert(){return new k((0,r.ac)(this,y),(0,r.ac)(this,x).invert())}*experimentalExpand(e,t){t??(t=1/0),0===t?yield 1===e?this:this.invert():(yield*this.A.experimentalExpand(1,t-1),yield*this.B.experimentalExpand(e,t-1),yield*this.A.experimentalExpand(-1,t-1))}toString(){return`[${this.A}: ${this.B}]`}},z=k;y=new WeakMap,x=new WeakMap;var I=class extends o{constructor(e){if(super(),(0,r.Ko)(this,S,void 0),e.includes("\n")||e.includes("\r"))throw new Error("LineComment cannot contain newline");(0,r.qx)(this,S,e)}get text(){return(0,r.ac)(this,S)}isIdentical(e){const t=e;return e.is(I)&&(0,r.ac)(this,S)===(0,r.ac)(t,S)}invert(){return this}*experimentalExpand(e=1,t=1/0){yield this}toString(){return`//${(0,r.ac)(this,S)}`}},T=I;S=new WeakMap;var L=class extends o{toString(){return"\n"}isIdentical(e){return e.is(L)}invert(){return this}*experimentalExpand(e=1,t=1/0){yield this}},E=class extends o{toString(){return"."}isIdentical(e){return e.is(E)}invert(){return this}*experimentalExpand(e=1,t=1/0){yield this}};function A(e,t){return e?parseInt(e):t}var C,D,R=/^(\d+)?('?)/,N=/^[_\dA-Za-z]/,P=/^((([1-9]\d*)-)?([1-9]\d*))?([_A-Za-z]+)?/,O=/^[^\n]*/,U=/^(-?\d+), ?/,j=/^(-?\d+)\)/;function _(e){return(new V).parseAlg(e)}function F(e){return(new V).parseMove(e)}function B(e){return(new V).parseQuantumMove(e)}function W(e,t,n){const r=e;return r.startCharIndex=t,r.endCharIndex=n,r}function q(e,t){return"startCharIndex"in e&&(t.startCharIndex=e.startCharIndex),"endCharIndex"in e&&(t.endCharIndex=e.endCharIndex),t}var V=class{constructor(){(0,r.Ko)(this,C,""),(0,r.Ko)(this,D,0)}parseAlg(e){(0,r.qx)(this,C,e),(0,r.qx)(this,D,0);const t=this.parseAlgWithStopping([]);return this.mustBeAtEndOfInput(),t}parseMove(e){(0,r.qx)(this,C,e),(0,r.qx)(this,D,0);const t=this.parseMoveImpl();return this.mustBeAtEndOfInput(),t}parseQuantumMove(e){(0,r.qx)(this,C,e),(0,r.qx)(this,D,0);const t=this.parseQuantumMoveImpl();return this.mustBeAtEndOfInput(),t}mustBeAtEndOfInput(){if((0,r.ac)(this,D)!==(0,r.ac)(this,C).length)throw new Error("parsing unexpectedly ended early")}parseAlgWithStopping(e){let t=(0,r.ac)(this,D),n=(0,r.ac)(this,D);const i=new w;let s=!1;const o=e=>{if(s)throw new Error(`Unexpected character at index ${e}. Are you missing a space?`)};e:while((0,r.ac)(this,D)<(0,r.ac)(this,C).length){const a=(0,r.ac)(this,D);if(e.includes((0,r.ac)(this,C)[(0,r.ac)(this,D)]))return W(i.toAlg(),t,n);if(this.tryConsumeNext(" "))s=!1,0===i.experimentalNumUnits()&&(t=(0,r.ac)(this,D));else if(N.test((0,r.ac)(this,C)[(0,r.ac)(this,D)])){o(a);const e=this.parseMoveImpl();i.push(e),s=!0,n=(0,r.ac)(this,D)}else{if(this.tryConsumeNext("(")){o(a);const e=this.tryRegex(U);if(e){const t=e[1],o=(0,r.ac)(this,D),l=this.parseRegex(j),c=W(new te(new Z("U_SQ_"),parseInt(t)),a+1,a+1+t.length),u=W(new te(new Z("D_SQ_"),parseInt(l[1])),o,(0,r.ac)(this,D)-1),h=W(new Se([c,u]),a+1,(0,r.ac)(this,D)-1);i.push(W(new oe(h),a,(0,r.ac)(this,D))),s=!0,n=(0,r.ac)(this,D);continue e}{const e=this.parseAlgWithStopping([")"]);this.mustConsumeNext(")");const t=this.parseAmount();i.push(W(new oe(e,t),a,(0,r.ac)(this,D))),s=!0,n=(0,r.ac)(this,D);continue e}}if(!this.tryConsumeNext("[")){if(this.tryConsumeNext("\n")){i.push(W(new L,a,(0,r.ac)(this,D))),s=!1,n=(0,r.ac)(this,D);continue e}if(this.tryConsumeNext("/")){if(this.tryConsumeNext("/")){o(a);const[e]=this.parseRegex(O);i.push(W(new T(e),a,(0,r.ac)(this,D))),s=!1,n=(0,r.ac)(this,D);continue e}i.push(W(new te("_SLASH_"),a,(0,r.ac)(this,D))),s=!0,n=(0,r.ac)(this,D);continue e}if(this.tryConsumeNext(".")){o(a),i.push(W(new E,a,(0,r.ac)(this,D))),s=!0,n=(0,r.ac)(this,D);continue e}throw new Error(`Unexpected character: ${this.popNext()}`)}{o(a);const e=this.parseAlgWithStopping([",",":"]),t=this.popNext(),l=this.parseAlgWithStopping(["]"]);switch(this.mustConsumeNext("]"),t){case":":i.push(W(new z(e,l),a,(0,r.ac)(this,D))),s=!0,n=(0,r.ac)(this,D);continue e;case",":i.push(W(new M(e,l),a,(0,r.ac)(this,D))),s=!0,n=(0,r.ac)(this,D);continue e;default:throw"unexpected parsing error"}}}}if((0,r.ac)(this,D)!==(0,r.ac)(this,C).length)throw new Error("did not finish parsing?");if(e.length>0)throw new Error("expected stopping");return W(i.toAlg(),t,n)}parseQuantumMoveImpl(){const[,,,e,t,n]=this.parseRegex(P);return new Z(n,A(t,void 0),A(e,void 0))}parseMoveImpl(){const e=(0,r.ac)(this,D);if(this.tryConsumeNext("/"))return W(new te("_SLASH_"),e,(0,r.ac)(this,D));let t=this.parseQuantumMoveImpl(),[n,i]=this.parseAmountAndTrackEmptyAbsAmount();const s=this.parseMoveSuffix();if(s){if(n<0)throw new Error("uh-oh");if(("++"===s||"--"===s)&&1!==n)throw new Error("Pochmann ++ or -- moves cannot have an amount other than 1.");if(("++"===s||"--"===s)&&!i)throw new Error("Pochmann ++ or -- moves cannot have an amount written as a number.");if(("+"===s||"-"===s)&&i)throw new Error("Clock dial moves must have an amount written as a natural number followed by + or -.");s.startsWith("+")&&(t=t.modified({family:`${t.family}_${"+"===s?"PLUS":"PLUSPLUS"}_`})),s.startsWith("-")&&(t=t.modified({family:`${t.family}_${"-"===s?"PLUS":"PLUSPLUS"}_`}),n*=-1)}const o=W(new te(t,n),e,(0,r.ac)(this,D));return o}parseMoveSuffix(){return this.tryConsumeNext("+")?this.tryConsumeNext("+")?"++":"+":this.tryConsumeNext("-")?this.tryConsumeNext("-")?"--":"-":null}parseAmountAndTrackEmptyAbsAmount(){const e=(0,r.ac)(this,D),[,t,n]=this.parseRegex(R);if(t?.startsWith("0")&&"0"!==t)throw new Error(`Error at char index ${e}: An amount can only start with 0 if it's exactly the digit 0.`);return[A(t,1)*("'"===n?-1:1),!t]}parseAmount(){const e=(0,r.ac)(this,D),[,t,n]=this.parseRegex(R);if(t?.startsWith("0")&&"0"!==t)throw new Error(`Error at char index ${e}: An amount number can only start with 0 if it's exactly the digit 0.`);return A(t,1)*("'"===n?-1:1)}parseRegex(e){const t=e.exec(this.remaining());if(null===t)throw new Error("internal parsing error");return(0,r.qx)(this,D,(0,r.ac)(this,D)+t[0].length),t}tryRegex(e){const t=e.exec(this.remaining());return null===t?null:((0,r.qx)(this,D,(0,r.ac)(this,D)+t[0].length),t)}remaining(){return(0,r.ac)(this,C).slice((0,r.ac)(this,D))}popNext(){const e=(0,r.ac)(this,C)[(0,r.ac)(this,D)];return(0,r.yD)(this,D)._++,e}tryConsumeNext(e){return(0,r.ac)(this,C)[(0,r.ac)(this,D)]===e&&((0,r.yD)(this,D)._++,!0)}mustConsumeNext(e){const t=this.popNext();if(t!==e)throw new Error(`expected \`${e}\` while parsing, encountered ${t}`);return t}};C=new WeakMap,D=new WeakMap;var K=new Set;function G(e){K.has(e)||(console.warn(e),K.add(e))}var Y,H,$,Q,J=class{constructor(e,t=1){if(this.quantum=e,this.amount=t,!Number.isInteger(this.amount)||this.amount<v||this.amount>m)throw new Error(`Unit amount absolute value must be a non-negative integer from ${g} to ${g}.`)}suffix(){let e="";const t=Math.abs(this.amount);return 1!==t&&(e+=t),this.amount<0&&(e+="'"),e}isIdentical(e){return this.quantum.isIdentical(e.quantum)&&this.amount===e.amount}*experimentalExpand(e,t){const n=Math.abs(this.amount),r=a(e,this.amount<0);for(let i=0;i<n;i++)yield*this.quantum.experimentalExpand(r,t)}},X=class extends s{constructor(e,t,n){if(super(),(0,r.Ko)(this,Y,void 0),(0,r.Ko)(this,H,void 0),(0,r.Ko)(this,$,void 0),(0,r.qx)(this,Y,e),(0,r.qx)(this,H,t??null),(0,r.qx)(this,$,n??null),Object.freeze(this),null!==(0,r.ac)(this,H)&&(!Number.isInteger((0,r.ac)(this,H))||(0,r.ac)(this,H)<1||(0,r.ac)(this,H)>m))throw new Error(`QuantumMove inner layer must be a positive integer below ${g}.`);if(null!==(0,r.ac)(this,$)&&(!Number.isInteger((0,r.ac)(this,$))||(0,r.ac)(this,$)<1||(0,r.ac)(this,$)>m))throw new Error(`QuantumMove outer layer must be a positive integer below ${g}.`);if(null!==(0,r.ac)(this,$)&&null!==(0,r.ac)(this,H)&&(0,r.ac)(this,H)<=(0,r.ac)(this,$))throw new Error("QuantumMove outer layer must be smaller than inner layer.");if(null!==(0,r.ac)(this,$)&&null===(0,r.ac)(this,H))throw new Error("QuantumMove with an outer layer must have an inner layer")}static fromString(e){return B(e)}modified(e){return new X(e.family??(0,r.ac)(this,Y),e.innerLayer??(0,r.ac)(this,H),e.outerLayer??(0,r.ac)(this,$))}isIdentical(e){const t=e;return e.is(X)&&(0,r.ac)(this,Y)===(0,r.ac)(t,Y)&&(0,r.ac)(this,H)===(0,r.ac)(t,H)&&(0,r.ac)(this,$)===(0,r.ac)(t,$)}get family(){return(0,r.ac)(this,Y)}get outerLayer(){return(0,r.ac)(this,$)}get innerLayer(){return(0,r.ac)(this,H)}experimentalExpand(){throw new Error("experimentalExpand() cannot be called on a `QuantumMove` directly.")}toString(){let e=(0,r.ac)(this,Y);return null!==(0,r.ac)(this,H)&&(e=String((0,r.ac)(this,H))+e,null!==(0,r.ac)(this,$)&&(e=String((0,r.ac)(this,$))+"-"+e)),e}},Z=X;Y=new WeakMap,H=new WeakMap,$=new WeakMap;var ee=class extends o{constructor(...e){if(super(),(0,r.Ko)(this,Q,void 0),"string"===typeof e[0])return e[1]?void(0,r.qx)(this,Q,new J(Z.fromString(e[0]),e[1])):ee.fromString(e[0]);(0,r.qx)(this,Q,new J(e[0],e[1]))}isIdentical(e){const t=e.as(ee);return!!t&&(0,r.ac)(this,Q).isIdentical((0,r.ac)(t,Q))}invert(){return q(this,new ee((0,r.ac)(this,Q).quantum,-this.amount))}*experimentalExpand(e=1){1===e?yield this:yield this.modified({amount:-this.amount})}get quantum(){return(0,r.ac)(this,Q).quantum}modified(e){return new ee((0,r.ac)(this,Q).quantum.modified(e),e.amount??this.amount)}static fromString(e){return F(e)}get amount(){return(0,r.ac)(this,Q).amount}get type(){return G("deprecated: type"),"blockMove"}get family(){return(0,r.ac)(this,Q).quantum.family??void 0}get outerLayer(){return(0,r.ac)(this,Q).quantum.outerLayer??void 0}get innerLayer(){return(0,r.ac)(this,Q).quantum.innerLayer??void 0}toString(){if("_SLASH_"===this.family)return"/";if(this.family.endsWith("_PLUS_"))return(0,r.ac)(this,Q).quantum.toString().slice(0,-6)+Math.abs(this.amount)+(this.amount<0?"-":"+");if(this.family.endsWith("_PLUSPLUS_")){const e=Math.abs(this.amount);return(0,r.ac)(this,Q).quantum.toString().slice(0,-10)+(1===e?"":e)+(this.amount<0?"--":"++")}return(0,r.ac)(this,Q).quantum.toString()+(0,r.ac)(this,Q).suffix()}},te=ee;Q=new WeakMap;var ne,re=class{constructor(){this.quantumU_SQ_=null,this.quantumD_SQ_=null}format(e){const t=this.tuple(e);return t?`(${t.map((e=>e.amount)).join(", ")})`:null}tuple(e){this.quantumU_SQ_||(this.quantumU_SQ_=new Z("U_SQ_")),this.quantumD_SQ_||(this.quantumD_SQ_=new Z("D_SQ_"));const t=e.alg;if(2===t.experimentalNumUnits()){const[n,r]=t.units();if(n.as(te)?.quantum.isIdentical(this.quantumU_SQ_)&&r.as(te)?.quantum.isIdentical(this.quantumD_SQ_)){if(1!==e.amount)throw new Error("Square-1 tuples cannot have an amount other than 1.");return[n,r]}}return null}},ie=new re,se=class extends o{constructor(e,t){super(),(0,r.Ko)(this,ne,void 0);const n=be(e);(0,r.qx)(this,ne,new J(n,t))}isIdentical(e){const t=e;return e.is(se)&&(0,r.ac)(this,ne).isIdentical((0,r.ac)(t,ne))}get alg(){return(0,r.ac)(this,ne).quantum}get amount(){return(0,r.ac)(this,ne).amount}get experimentalRepetitionSuffix(){return(0,r.ac)(this,ne).suffix()}invert(){return new se((0,r.ac)(this,ne).quantum,-(0,r.ac)(this,ne).amount)}*experimentalExpand(e=1,t){t??(t=1/0),0===t?yield 1===e?this:this.invert():yield*(0,r.ac)(this,ne).experimentalExpand(e,t-1)}static fromString(){throw new Error("unimplemented")}toString(){return ie.format(this)??`(${(0,r.ac)(this,ne).quantum.toString()})${(0,r.ac)(this,ne).suffix()}`}experimentalAsSquare1Tuple(){return ie.tuple(this)}},oe=se;function ae(e,t){return e instanceof t}function le(e){return ae(e,oe)||ae(e,T)||ae(e,M)||ae(e,z)||ae(e,te)||ae(e,L)||ae(e,E)}function ce(e,t,n){if(t.is(oe))return e.traverseGrouping(t,n);if(t.is(te))return e.traverseMove(t,n);if(t.is(M))return e.traverseCommutator(t,n);if(t.is(z))return e.traverseConjugate(t,n);if(t.is(E))return e.traversePause(t,n);if(t.is(L))return e.traverseNewline(t,n);if(t.is(T))return e.traverseLineComment(t,n);throw new Error("unknown unit")}function ue(e){if(e.is(oe)||e.is(te)||e.is(M)||e.is(z)||e.is(E)||e.is(L)||e.is(T))return e;throw"internal error: expected unit"}ne=new WeakMap;var he,de,pe=class{traverseUnit(e,t){return ce(this,e,t)}traverseIntoUnit(e,t){return ue(this.traverseUnit(e,t))}},fe=class extends pe{traverseUnit(e){return ce(this,e,void 0)}traverseIntoUnit(e){return ue(this.traverseUnit(e))}},me=class extends pe{*traverseAlg(e,t){if(0===t.depth)return void(yield*e.units());const n=[];let i=null;const s=t?.collapseMoves??!0;function o(e,s){var o;const a=(0,r.U9)(o=me,he,de).call(o,e,s,t);if(0===a)return!1;const l=new te(e.quantum,a);return n.push(l),i=l,!0}function a(e){s&&i?.is(te)&&e.is(te)&&i.quantum.isIdentical(e.quantum)?(n.pop(),o(i,e.amount)||(i=n.slice(-1)[0])):e.is(te)?o(e,0):(n.push(e),i=e)}const l={depth:t.depth?t.depth-1:null};for(const r of e.units())for(const e of this.traverseUnit(r,l))a(e);for(const r of n)yield r}*traverseGrouping(e,t){if(0===t.depth)return void(yield e);const n={depth:t.depth?t.depth-1:null};yield new oe(this.traverseAlg(e.alg,n))}*traverseMove(e,t){yield e}*traverseCommutator(e,t){if(0===t.depth)return void(yield e);const n={depth:t.depth?t.depth-1:null};yield new M(this.traverseAlg(e.A,n),this.traverseAlg(e.B,n))}*traverseConjugate(e,t){if(0===t.depth)return void(yield e);const n={depth:t.depth?t.depth-1:null};yield new z(this.traverseAlg(e.A,n),this.traverseAlg(e.B,n))}*traversePause(e,t){yield e}*traverseNewline(e,t){yield e}*traverseLineComment(e,t){yield e}},ge=me;he=new WeakSet,de=function(e,t,n){let r=e.amount+t;if(n?.quantumMoveOrder){const t=n.quantumMoveOrder(e.quantum),i=Math.floor(t/2)+1-t;r=(r%t+t-i)%t+i}return r},(0,r.Ko)(ge,he);var ve,we=new ge,ye=we.traverseAlg.bind(we);function xe(e){if(!e)return[];if(ae(e,Se))return e.units();if("string"===typeof e)return _(e).units();const t=e;if("function"===typeof t[Symbol.iterator])return t;throw"Invalid unit"}function be(e){return ae(e,Se)?e:new Se(e)}var Me=class extends o{constructor(e){super(),(0,r.Ko)(this,ve,void 0),(0,r.qx)(this,ve,Array.from(xe(e)));for(const t of(0,r.ac)(this,ve))if(!le(t))throw new Error("An alg can only contain units.")}isIdentical(e){const t=e;if(!e.is(Me))return!1;const n=Array.from((0,r.ac)(this,ve)),i=Array.from((0,r.ac)(t,ve));if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(!n[r].isIdentical(i[r]))return!1;return!0}invert(){return new Me(c(Array.from((0,r.ac)(this,ve)).map((e=>e.invert()))))}*experimentalExpand(e=1,t){t??(t=1/0);for(const n of l((0,r.ac)(this,ve),e))yield*n.experimentalExpand(e,t)}expand(e){return new Me(this.experimentalExpand(1,e?.depth??1/0))}*experimentalLeafMoves(){for(const e of this.experimentalExpand())e.is(te)&&(yield e)}concat(e){return new Me(Array.from((0,r.ac)(this,ve)).concat(Array.from(xe(e))))}experimentalIsEmpty(){for(const e of(0,r.ac)(this,ve))return!1;return!0}static fromString(e){return _(e)}*units(){for(const e of(0,r.ac)(this,ve))yield e}experimentalNumUnits(){return Array.from((0,r.ac)(this,ve)).length}get type(){return G("deprecated: type"),"sequence"}toString(){let e="",t=null;for(const n of(0,r.ac)(this,ve))t&&(e+=ke(t,n)),e+=n.toString(),t=n;return e}simplify(e){return new Me(ye(this,e??{}))}},Se=Me;function ke(e,t){return e.is(L)||t.is(L)?"":e.is(T)&&!t.is(L)?"\n":" "}ve=new WeakMap;new Se([new te("R",1),new te("U",1),new te("R",-1),new te("U",1),new te("R",1),new te("U",-2),new te("R",-1)]),new Se([new te("R",1),new te("U",2),new te("R",-1),new te("U",-1),new te("R",1),new te("U",-1),new te("R",-1)]),new Se([new M(new Se([new te("R",1),new te("U",1),new te("R",-2)]),new Se([new z(new Se([new te("R",1)]),new Se([new te("U",1)]))]))]),new Se([new te("R",1),new te("U",-1),new te("L",-1),new te("U",1),new te("R",-1),new te("U",-1),new te("L",1),new te("U",1)]),new Se([new te("x",-1),new M(new Se([new z(new Se([new te("R",1)]),new Se([new te("U",-1)]))]),new Se([new te("D",1)])),new M(new Se([new z(new Se([new te("R",1)]),new Se([new te("U",1)]))]),new Se([new te("D",1)])),new te("x",1)]),new Se([new z(new Se([new te("F",1)]),new Se([new M(new Se([new te("U",1)]),new Se([new te("R",1)]))]))]),new Se([new z(new Se([new te("R",2)]),new Se([new M(new Se([new te("F",2)]),new Se([new te("R",-1),new te("B",-1),new te("R",1)]))]))]),new Se([new te("F",1),new te("U",1),new te("R",1),new te("U",-1),new te("R",-1),new te("F",-1)]),new Se([new te("R",1),new te("U",1),new te("R",-1),new te("U",-1),new te("R",-1),new te("F",1),new te("R",2),new te("U",-1),new te("R",-1),new te("U",-1),new te("R",1),new te("U",1),new te("R",-1),new te("F",-1)]),new Se([new z(new Se([new te("F",1)]),new Se([new oe(new Se([new M(new Se([new te("R",1)]),new Se([new te("U",1)]))]),3)]))]),new Se([new E,new E,new E]),new te("R"),new te("R'"),new te("B"),new te("B'"),new te("D"),new te("D'"),new te("L"),new te("L'"),new te("U"),new te("U'"),new te("F"),new te("F'"),new te("x'"),new te("l"),new te("l'"),new te("r"),new te("r'"),new te("d"),new te("d'"),new te("x"),new te("x"),new te("x'"),new te("y"),new te("y"),new te("y'"),new te("z"),new te("z'"),new te("M'"),new te("M'");function ze(e,t,n){const r=Array.from(e.units()),i=r[r.length-1];if(n?.coalesce&&i&&i.quantum&&i.quantum.isIdentical(t.quantum)){const e=r.slice(0,r.length-1);let s=i.amount+t.amount;const o=n?.mod;return o&&(s=(s%o+o)%o,2*s>o&&(s-=o)),0!==s&&e.push(i.modified({amount:s})),new Se(e)}return new Se([...r,t])}},895:function(e,t,n){"use strict";n.d(t,{$F:function(){return se},K3:function(){return V},uy:function(){return O},vZ:function(){return u},xe:function(){return l}});var r=n(9427),i=n(2230);async function s(e){const t=await n.e(312).then(n.bind(n,6312));return t.getPuzzleGeometryByDesc(e,{allMoves:!0,orientCenters:!0,addRotations:!0})}async function o(e){const t=await s(e),i=t.getKPuzzleDefinition(!0);i.name=`description: ${e}`;const o=await n.e(312).then(n.bind(n,6312)),a=new o.ExperimentalPGNotation(t,t.getOrbitsDef(!0));return new r.us(i,{experimentalPGNotation:a})}var a=1;function l(e,t){const n=a++;let r=null;const i={id:`custom-${n}`,fullName:t?.fullName??`Custom Puzzle (instance #${n})`,kpuzzle:async()=>r??(r=o(e)),svg:async()=>{const t=await s(e);return t.generatesvg()},pg:async()=>s(e)};return t?.inventedBy&&(i.inventedBy=t.inventedBy),t?.inventionYear&&(i.inventionYear=t.inventionYear),i}var c={333:{puzzleID:"3x3x3",eventName:"3x3x3 Cube"},222:{puzzleID:"2x2x2",eventName:"2x2x2 Cube"},444:{puzzleID:"4x4x4",eventName:"4x4x4 Cube"},555:{puzzleID:"5x5x5",eventName:"5x5x5 Cube"},666:{puzzleID:"6x6x6",eventName:"6x6x6 Cube"},777:{puzzleID:"7x7x7",eventName:"7x7x7 Cube"},"333bf":{puzzleID:"3x3x3",eventName:"3x3x3 Blindfolded"},"333fm":{puzzleID:"3x3x3",eventName:"3x3x3 Fewest Moves"},"333oh":{puzzleID:"3x3x3",eventName:"3x3x3 One-Handed"},clock:{puzzleID:"clock",eventName:"Clock"},minx:{puzzleID:"megaminx",eventName:"Megaminx"},pyram:{puzzleID:"pyraminx",eventName:"Pyraminx"},skewb:{puzzleID:"skewb",eventName:"Skewb"},sq1:{puzzleID:"square1",eventName:"Square-1"},"444bf":{puzzleID:"4x4x4",eventName:"4x4x4 Blindfolded"},"555bf":{puzzleID:"5x5x5",eventName:"5x5x5 Blindfolded"},"333mb":{puzzleID:"3x3x3",eventName:"3x3x3 Multi-Blind"}};function u(e,t,n,r,i){const s=e.orbits[t],o=s.pieces[n];if(null===o)return p;const a=o.facelets[r];return null===a?p:"string"===typeof a?a:i?a.hintAppearance??a.appearance:a.appearance}var h=(e=>(e["Regular"]="Regular",e["Dim"]="Dim",e["Ignored"]="Ignored",e["OrientationStickers"]="OrientationStickers",e["Invisible"]="Invisible",e["Ignoriented"]="Ignoriented",e["IgnoreNonPrimary"]="IgnoreNonPrimary",e["PermuteNonPrimary"]="PermuteNonPrimary",e["OrientationWithoutPermutation"]="OrientationWithoutPermutation",e))(h||{}),d=class{constructor(e,t){this.stickerings=new Map;for(const[n,r]of Object.entries(e.definition.orbits))this.stickerings.set(n,new Array(r.numPieces).fill(t))}},p="regular",f="ignored",m="oriented",g="invisible",v="dim",w={facelets:[p,p,p,p,p]},y={facelets:[f,f,f,f,f]},x={facelets:[m,m,m,m,m]},b={facelets:[g,g,g,g]},M={facelets:[p,f,f,f,f]},S={facelets:[v,p,p,p,p]},k={facelets:[v,v,v,v,v]},z={facelets:[v,f,f,f,f]},I={facelets:[m,f,f,f,f]};function T(e){switch(e){case"Regular":return w;case"Dim":return k;case"Ignored":return y;case"OrientationStickers":return x;case"Invisible":return b;case"IgnoreNonPrimary":return M;case"PermuteNonPrimary":return S;case"Ignoriented":return z;case"OrientationWithoutPermutation":return I}}var L,E,A,C=class extends d{constructor(e){super(e,"Regular")}set(e,t){for(const[n,r]of this.stickerings.entries())for(let i=0;i<r.length;i++)e.stickerings.get(n)[i]&&(r[i]=t);return this}toAppearance(){const e={orbits:{}};for(const[t,n]of this.stickerings.entries()){const r=[],i={pieces:r};e.orbits[t]=i;for(const e of n)r.push(T(e))}return e}},D=class{constructor(e){this.kpuzzle=e}and(e){const t=new d(this.kpuzzle,!1);for(const[n,r]of Object.entries(this.kpuzzle.definition.orbits))e:for(let i=0;i<r.numPieces;i++){t.stickerings.get(n)[i]=!0;for(const r of e)if(!r.stickerings.get(n)[i]){t.stickerings.get(n)[i]=!1;continue e}}return t}or(e){const t=new d(this.kpuzzle,!1);for(const[n,r]of Object.entries(this.kpuzzle.definition.orbits))e:for(let i=0;i<r.numPieces;i++){t.stickerings.get(n)[i]=!1;for(const r of e)if(r.stickerings.get(n)[i]){t.stickerings.get(n)[i]=!0;continue e}}return t}not(e){const t=new d(this.kpuzzle,!1);for(const[n,r]of Object.entries(this.kpuzzle.definition.orbits))for(let i=0;i<r.numPieces;i++)t.stickerings.get(n)[i]=!e.stickerings.get(n)[i];return t}all(){return this.and(this.moves([]))}move(e){const t=this.kpuzzle.moveToTransformation(e),n=new d(this.kpuzzle,!1);for(const[r,i]of Object.entries(this.kpuzzle.definition.orbits))for(let e=0;e<i.numPieces;e++)t.transformationData[r].permutation[e]===e&&0===t.transformationData[r].orientation[e]||(n.stickerings.get(r)[e]=!0);return n}moves(e){return e.map((e=>this.move(e)))}},R=()=>{};function N(e){(async()=>{R=e;const t=Array.from(document.body.querySelectorAll("twisty-player"));console.log(`Setting the custom stickering for ${t.length} players!`);const n=[];for(const e of t)n.push((async()=>{const t=await e.experimentalModel.twistySceneModel.stickering.get();e.experimentalStickering="experimental-global-custom-1"===t?"experimental-global-custom-2":"experimental-global-custom-1"})());await Promise.all(n),console.log("Success!")})()}function P(e,t){R(e,t)}async function O(e,t){const n=await e.kpuzzle(),r=new C(n),i=new D(n),s=()=>i.move("U"),o=()=>i.or(i.moves(["U","D"])),a=()=>i.not(o()),l=()=>i.or(i.moves(["L","R"])),c=()=>i.not(l()),u=()=>i.or(i.moves(["F","B"])),h=()=>i.not(u()),d=()=>i.not(s()),p=()=>i.and([s(),c(),h()]),f=()=>i.and([i.and(i.moves(["F","R"])),i.not(o())]),m=()=>i.and(i.moves(["D","R","F"])),g=()=>i.or([m(),f()]),v=()=>i.or([i.and([c(),a()]),i.and([c(),h()]),i.and([a(),h()])]),w=()=>i.or([i.and([c(),o(),u()]),i.and([a(),l(),u()]),i.and([h(),o(),l()])]),y=()=>i.not(i.or([v(),w()])),x=()=>i.or([c(),i.and([s(),w()])]);function b(){r.set(d(),"Dim")}function M(){r.set(s(),"PermuteNonPrimary"),r.set(p(),"Dim")}function S(){r.set(s(),"IgnoreNonPrimary"),r.set(p(),"Regular")}function k(){r.set(s(),"Ignoriented"),r.set(p(),"Dim")}switch(t){case"full":break;case"PLL":b(),M();break;case"CLS":b(),r.set(i.and(i.moves(["D","R","F"])),"Regular"),r.set(s(),"Ignoriented"),r.set(i.and([s(),c(),h()]),"Dim"),r.set(i.and([s(),y()]),"IgnoreNonPrimary");break;case"OLL":b(),S();break;case"COLL":b(),M(),r.set(i.and([s(),y()]),"Regular");break;case"OCLL":b(),k(),r.set(i.and([s(),y()]),"IgnoreNonPrimary");break;case"CLL":b(),r.set(i.not(i.and([y(),s()])),"Dim");break;case"ELL":b(),r.set(s(),"Dim"),r.set(i.and([s(),w()]),"Regular");break;case"ELS":b(),S(),r.set(i.and([s(),y()]),"Ignored"),r.set(f(),"Regular"),r.set(m(),"Ignored");break;case"LL":b();break;case"F2L":r.set(s(),"Ignored");break;case"ZBLL":b(),r.set(s(),"PermuteNonPrimary"),r.set(p(),"Dim"),r.set(i.and([s(),y()]),"Regular");break;case"ZBLS":b(),r.set(g(),"Regular"),S(),r.set(i.and([s(),y()]),"Ignored");break;case"WVLS":case"VLS":b(),r.set(g(),"Regular"),S();break;case"LS":b(),r.set(g(),"Regular"),r.set(s(),"Ignored"),r.set(p(),"Dim");break;case"EO":r.set(y(),"Ignored"),r.set(w(),"OrientationWithoutPermutation");break;case"EOline":r.set(y(),"Ignored"),r.set(w(),"OrientationWithoutPermutation"),r.set(i.and(i.moves(["D","M"])),"Regular");break;case"EOcross":r.set(w(),"OrientationWithoutPermutation"),r.set(i.move("D"),"Regular"),r.set(y(),"Ignored");break;case"CMLL":r.set(d(),"Dim"),r.set(x(),"Ignored"),r.set(i.and([s(),y()]),"Regular");break;case"L6E":r.set(i.not(x()),"Dim");break;case"L6EO":r.set(i.not(x()),"Dim"),r.set(x(),"OrientationWithoutPermutation"),r.set(i.and([v(),o()]),"OrientationStickers");break;case"Daisy":r.set(i.all(),"Ignored"),r.set(v(),"Dim"),r.set(i.and([i.move("D"),v()]),"Regular"),r.set(i.and([i.move("U"),w()]),"IgnoreNonPrimary");break;case"Cross":r.set(i.all(),"Ignored"),r.set(v(),"Dim"),r.set(i.and([i.move("D"),v()]),"Regular"),r.set(i.and([i.move("D"),w()]),"Regular");break;case"2x2x2":r.set(i.or(i.moves(["U","F","R"])),"Ignored"),r.set(i.and([i.or(i.moves(["U","F","R"])),v()]),"Dim");break;case"2x2x3":r.set(i.all(),"Dim"),r.set(i.or(i.moves(["U","F","R"])),"Ignored"),r.set(i.and([i.or(i.moves(["U","F","R"])),v()]),"Dim"),r.set(i.and([i.move("F"),i.not(i.or(i.moves(["U","R"])))]),"Regular");break;case"Void Cube":r.set(v(),"Invisible");break;case"picture":case"invisible":r.set(i.all(),"Invisible");break;case"centers-only":r.set(i.not(v()),"Ignored");break;case"experimental-global-custom-1":case"experimental-global-custom-2":P(r,i);break;default:console.warn(`Unsupported stickering for ${e.id}: ${t}. Setting all pieces to dim.`),r.set(i.and(i.moves([])),"Dim")}return r.toAppearance()}async function U(){return["full","PLL","CLS","OLL","COLL","OCLL","ELL","ELS","LL","F2L","ZBLL","ZBLS","WVLS","VLS","LS","EO","EOline","EOcross","CMLL","L6E","L6EO","Daisy","Cross","2x2x2","2x2x3","Void Cube","picture","invisible","centers-only"]}function j(e){let t=null;return()=>t??(t=e())}async function _(e){const t=await n.e(312).then(n.bind(n,6312));return t.getPuzzleGeometryByName(e,{allMoves:!0,orientCenters:!0,addRotations:!0})}async function F(e,t){const i=await e,s=i.getKPuzzleDefinition(!0);s.name=t;const o=await n.e(312).then(n.bind(n,6312)),a=new o.ExperimentalPGNotation(i,i.getOrbitsDef(!0));return new r.us(s,{experimentalPGNotation:a})}globalThis.location&&"true"===new URL(location.href).searchParams.get("global-custom-stickerer")&&(window.setGlobalCustomStickerer=N,window.PieceStickering=h,console.log("Global custom stickerer enabled! (using: global-custom-stickerer=true)"),console.log("Look here for inspiration:","https://github.com/cubing/cubing.js/blob/81b5cab3e27d8defb39dd1e0a10bc9e8ba894d26/src/cubing/puzzles/stickerings/cube-stickerings.ts#L67"));var B=class{constructor(e){(0,i.Ko)(this,L,void 0),(0,i.Ko)(this,E,void 0),(0,i.Ko)(this,A,void 0),this.pgId=e.pgID,this.id=e.id,this.fullName=e.fullName,this.inventedBy=e.inventedBy,this.inventionYear=e.inventionYear}pg(){return(0,i.ac)(this,L)??(0,i.qx)(this,L,_(this.pgId??this.id))}kpuzzle(){return(0,i.ac)(this,E)??(0,i.qx)(this,E,F(this.pg(),this.id))}svg(){return(0,i.ac)(this,A)??(0,i.qx)(this,A,(async()=>(await this.pg()).generatesvg())())}};L=new WeakMap,E=new WeakMap,A=new WeakMap;var W=class extends B{constructor(){super(...arguments),this.stickerings=U}appearance(e){return O(this,e)}},q={id:"2x2x2",fullName:"2×2×2 Cube",kpuzzle:j((async()=>new r.us((await n.e(306).then(n.bind(n,3306))).cube2x2x2JSON))),svg:async()=>(await n.e(306).then(n.bind(n,3306))).cube2x2x2SVG,pg:j((async()=>_("2x2x2"))),appearance:e=>O(q,e),stickerings:U},V={id:"3x3x3",fullName:"3×3×3 Cube",inventedBy:["Ernő Rubik"],inventionYear:1974,kpuzzle:j((async()=>r.n4)),svg:j((async()=>(await n.e(55).then(n.bind(n,1055))).cube3x3x3SVG)),llSVG:j((async()=>(await n.e(55).then(n.bind(n,1055))).cube3x3x3LLSVG)),pg:j((async()=>_("3x3x3"))),appearance:e=>O(V,e),stickerings:U},K={id:"clock",fullName:"Clock",inventedBy:["Christopher C. Wiggs","Christopher J. Taylor"],inventionYear:1988,kpuzzle:j((async()=>new r.us((await n.e(306).then(n.bind(n,3306))).clockJSON))),svg:j((async()=>(await n.e(306).then(n.bind(n,3306))).clockSVG))};async function G(e,t){const n=await e.kpuzzle(),r=new C(n),i=new D(n),s=()=>i.and([i.move("U"),i.not(i.or(i.moves(["F","BL","BR"])))]),o=()=>i.and([i.move("U"),i.not(i.move("F"))]),a=()=>i.or([o(),i.and([i.move("F"),i.not(i.or(i.moves(["U","BL","BR"])))])]),l=()=>i.not(i.or([i.and([i.move("U"),i.move("F")]),i.and([i.move("F"),i.move("BL")]),i.and([i.move("F"),i.move("BR")]),i.and([i.move("BL"),i.move("BR")])])),c=()=>i.not(i.or([i.and([i.move("F"),i.move("BL")]),i.and([i.move("F"),i.move("BR")]),i.and([i.move("BL"),i.move("BR")])]));switch(t){case"full":break;case"experimental-fto-fc":r.set(i.not(s()),"Ignored");break;case"experimental-fto-f2t":r.set(i.not(o()),"Ignored"),r.set(s(),"Dim");break;case"experimental-fto-sc":r.set(i.not(a()),"Ignored"),r.set(o(),"Dim");break;case"experimental-fto-l2c":r.set(i.not(l()),"Ignored"),r.set(a(),"Dim");break;case"experimental-fto-lbt":r.set(i.not(c()),"Ignored"),r.set(l(),"Dim");break;case"experimental-fto-l3t":r.set(c(),"Dim");break;default:console.warn(`Unsupported stickering for ${e.id}: ${t}. Setting all pieces to dim.`),r.set(i.and(i.moves([])),"Dim")}return r.toAppearance()}async function Y(){return["full","experimental-fto-fc","experimental-fto-f2t","experimental-fto-sc","experimental-fto-l2c","experimental-fto-lbt","experimental-fto-l3t"]}var H=class extends B{constructor(){super({pgID:"FTO",id:"fto",fullName:"Face-Turning Octahedron",inventedBy:["Karl Rohrbach","David Pitcher"],inventionYear:1983}),this.stickerings=Y,this.svg=j((async()=>(await n.e(905).then(n.bind(n,905))).ftoSVG))}appearance(e){return G(this,e)}},$=new H;async function Q(e,t){switch(t){case"full":case"F2L":case"LL":return O(e,t);default:console.warn(`Unsupported stickering for ${e.id}: ${t}. Setting all pieces to dim.`)}return O(e,"full")}async function J(){return["full","F2L","LL"]}var X=class extends B{constructor(){super({id:"megaminx",fullName:"Megaminx",inventionYear:1981}),this.stickerings=J}appearance(e){return Q(this,e)}},Z=new X,ee=class extends B{constructor(){super({id:"pyraminx",fullName:"Pyraminx",inventedBy:["Uwe Meffert"]}),this.svg=j((async()=>(await n.e(306).then(n.bind(n,3306))).pyraminxSVG))}},te=new ee,ne={id:"square1",fullName:"Square-1",inventedBy:["Karel Hršel","Vojtech Kopský"],inventionYear:1990,kpuzzle:j((async()=>new r.us((await n.e(306).then(n.bind(n,3306))).sq1HyperOrbitJSON))),svg:j((async()=>(await n.e(306).then(n.bind(n,3306))).sq1HyperOrbitSVG))},re={id:"kilominx",fullName:"Kilominx",kpuzzle:j((async()=>{const e=await _("megaminx + chopasaurus"),t=JSON.parse(JSON.stringify(e.getKPuzzleDefinition(!0)));delete t.orbits.CENTERS,delete t.orbits.CENTERS2,delete t.startStateData.CENTERS,delete t.startStateData.CENTERS2;for(const n of Object.values(t.moves))delete n.CENTERS,delete n.CENTERS2;t.name="kilominx",delete t.experimentalPuzzleDescription;const i=await n.e(312).then(n.bind(n,6312)),s=new i.ExperimentalPGNotation(e,e.getOrbitsDef(!0)),o=new r.us(t,{experimentalPGNotation:{lookupMove:e=>"x2"===e.toString()||"x2'"===e.toString()?a.transformationData:s.lookupMove(e)}}),a=o.algToTransformation("Rv2 Fv Uv'");return t.moves["x2"]=a,o})),svg:j((async()=>(await n.e(905).then(n.bind(n,905))).kilominxSVG))},ie={id:"redi_cube",fullName:"Redi Cube",inventedBy:["Oskar van Deventer"],inventionYear:2009,kpuzzle:j((async()=>new r.us((await n.e(905).then(n.bind(n,905))).rediCubeJSON))),svg:async()=>(await n.e(905).then(n.bind(n,905))).rediCubeSVG},se={"3x3x3":V,"2x2x2":q,"4x4x4":new W({id:"4x4x4",fullName:"4×4×4 Cube"}),"5x5x5":new W({id:"5x5x5",fullName:"5×5×5 Cube"}),"6x6x6":new W({id:"6x6x6",fullName:"6×6×6 Cube"}),"7x7x7":new W({id:"7x7x7",fullName:"7×7×7 Cube"}),"40x40x40":new W({id:"40x40x40",fullName:"40×40×40 Cube"}),clock:K,megaminx:Z,pyraminx:te,skewb:new B({id:"skewb",fullName:"Skewb",inventedBy:["Tony Durham"]}),square1:ne,fto:$,gigaminx:new B({id:"gigaminx",fullName:"Gigaminx",inventedBy:["Tyler Fox"],inventionYear:2006}),master_tetraminx:new B({pgID:"master tetraminx",id:"master_tetraminx",fullName:"Master Tetraminx",inventedBy:["Katsuhiko Okamoto"],inventionYear:2002}),kilominx:re,redi_cube:ie}},9427:function(e,t,n){"use strict";n.d(t,{n4:function(){return C},us:function(){return E}});n(1703),n(8675),n(3462);var r=n(7574),i=n(2230);function s(e,t,n){const r={};for(const i in e.orbits){const s=e.orbits[i],o=t[i],a=n[i];if(v(s.numOrientations,a))r[i]=o;else if(v(s.numOrientations,o))r[i]=a;else{const e=new Array(s.numPieces);if(1===s.numOrientations){for(let t=0;t<s.numPieces;t++)e[t]=o.permutation[a.permutation[t]];r[i]={permutation:e,orientation:o.orientation}}else{const t=new Array(s.numPieces);for(let n=0;n<s.numPieces;n++)t[n]=(o.orientation[a.permutation[n]]+a.orientation[n])%s.numOrientations,e[n]=o.permutation[a.permutation[n]];r[i]={permutation:e,orientation:t}}}}return r}function o(e,t,n){const r={};for(const i in e.orbits){const s=e.orbits[i],o=t[i],a=n[i];if(v(s.numOrientations,a))r[i]=o;else{const e=new Array(s.numPieces);if(1===s.numOrientations){for(let t=0;t<s.numPieces;t++)e[t]=o.pieces[a.permutation[t]];r[i]={pieces:e,orientation:o.orientation}}else{const t=new Array(s.numPieces);for(let n=0;n<s.numPieces;n++)t[n]=(o.orientation[a.permutation[n]]+a.orientation[n])%s.numOrientations,e[n]=o.pieces[a.permutation[n]];r[i]={pieces:e,orientation:t}}}}return r}var a=!1,l=new Map;function c(e){const t=l.get(e);if(t)return t;const n=new Array(e),r=new Array(e);for(let s=0;s<e;s++)n[s]=s,r[s]=0;const i={permutation:n,orientation:r};return a&&(Object.freeze(n),Object.freeze(r),Object.freeze(i)),l.set(e,i),i}function u(e){const t={};for(const[n,r]of Object.entries(e.orbits))t[n]=c(r.numPieces);return a&&Object.freeze(t),t}function h(e,t){const n=t.quantum.toString();let r=e.definition.moves[n];if(!r){const t=e.definition.experimentalDerivedMoves?.[n];t&&(r=e.algToTransformation(t).transformationData)}if(r)return b(e,r,t.amount);const i=e.definition.moves[t.toString()];if(i)return i;const s=e.definition.moves[t.invert().toString()];if(s)return b(e,s,-1);throw new Error(`Invalid move for KPuzzle (${e.name()}): ${t}`)}function d(e,t){return t.ignorePuzzleOrientation&&(e=O(e)),t.ignoreCenterOrientation&&(e=new f(e.kpuzzle,{EDGES:e.stateData.EDGES,CORNERS:e.stateData.CORNERS,CENTERS:{pieces:e.stateData.CENTERS.pieces,orientation:new Array(6).fill(0)}})),!!e.experimentalToTransformation()?.isIdentityTransformation()}var p,f=class{constructor(e,t){this.kpuzzle=e,this.stateData=t}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),stateData:this.stateData}}static fromTransformation(e){const t=o(e.kpuzzle.definition,e.kpuzzle.definition.startStateData,e.transformationData);return new f(e.kpuzzle,t)}apply(e){return this.applyTransformation(this.kpuzzle.toTransformation(e))}applyTransformation(e){if(e.isIdentityTransformation())return new f(this.kpuzzle,this.stateData);const t=o(this.kpuzzle.definition,this.stateData,e.transformationData);return new f(this.kpuzzle,t)}applyMove(e){return this.applyTransformation(this.kpuzzle.moveToTransformation(e))}applyAlg(e){return this.applyTransformation(this.kpuzzle.algToTransformation(e))}experimentalToTransformation(){if(!this.kpuzzle.canConvertStateToUniqueTransformation())return null;const e={};for(const[t,n]of Object.entries(this.stateData)){const r={permutation:n.pieces,orientation:n.orientation};e[t]=r}return new g(this.kpuzzle,e)}experimentalIs3x3x3Solved(e){if("3x3x3"!==this.kpuzzle.name())throw new Error("`KState.experimentalIs3x3x3Solved()` only supports 3x3x3 states.");return d(this,e)}},m=class{constructor(e,t){this.kpuzzle=e,this.transformationData=t,(0,i.Ko)(this,p,void 0)}toJSON(){return{experimentalPuzzleName:this.kpuzzle.name(),transformationData:this.transformationData}}invert(){return new m(this.kpuzzle,x(this.kpuzzle,this.transformationData))}isIdentityTransformation(){return(0,i.ac)(this,p)??(0,i.qx)(this,p,this.isIdentical(this.kpuzzle.identityTransformation()))}static experimentalConstructIdentity(e){const t=new m(e,u(e.definition));return(0,i.qx)(t,p,!0),t}isIdentical(e){return y(this.kpuzzle,this.transformationData,e.transformationData)}apply(e){return this.applyTransformation(this.kpuzzle.toTransformation(e))}applyTransformation(e){if(this.kpuzzle!==e.kpuzzle)throw new Error(`Tried to apply a transformation for a KPuzzle (${e.kpuzzle.name()}) to a different KPuzzle (${this.kpuzzle.name()}).`);return(0,i.ac)(this,p)?new m(this.kpuzzle,e.transformationData):(0,i.ac)(e,p)?new m(this.kpuzzle,this.transformationData):new m(this.kpuzzle,s(this.kpuzzle.definition,this.transformationData,e.transformationData))}applyMove(e){return this.applyTransformation(this.kpuzzle.moveToTransformation(e))}applyAlg(e){return this.applyTransformation(this.kpuzzle.algToTransformation(e))}toKState(){return f.fromTransformation(this)}repetitionOrder(){return L(this.kpuzzle.definition,this)}selfMultiply(e){return new m(this.kpuzzle,b(this.kpuzzle,this.transformationData,e))}},g=m;function v(e,t){const{permutation:n}=t,r=n.length;for(let i=0;i<r;i++)if(n[i]!==i)return!1;if(e>1){const{orientation:e}=t;for(let t=0;t<r;t++)if(0!==e[t])return!1}return!0}function w(e,t,n,r={}){for(let i=0;i<e.numPieces;i++){if(!r?.ignoreOrientation&&t.orientation[i]!==n.orientation[i])return!1;if(!r?.ignorePermutation&&t.permutation[i]!==n.permutation[i])return!1}return!0}function y(e,t,n){for(const[r,i]of Object.entries(e.definition.orbits))if(!w(i,t[r],n[r]))return!1;return!0}function x(e,t){const n={};for(const r in e.definition.orbits){const i=e.definition.orbits[r],s=t[r];if(v(i.numOrientations,s))n[r]=s;else if(1===i.numOrientations){const e=new Array(i.numPieces);for(let t=0;t<i.numPieces;t++)e[s.permutation[t]]=t;n[r]={permutation:e,orientation:s.orientation}}else{const e=new Array(i.numPieces),t=new Array(i.numPieces);for(let n=0;n<i.numPieces;n++){const r=s.permutation[n];e[r]=n,t[r]=(i.numOrientations-s.orientation[n]+i.numOrientations)%i.numOrientations}n[r]={permutation:e,orientation:t}}}return n}function b(e,t,n){if(1===n)return t;if(n<0)return b(e,x(e,t),-n);if(0===n){const{transformationData:t}=e.identityTransformation();return t}let r=t;2!==n&&(r=b(e,t,Math.floor(n/2)));const i=s(e.definition,r,r);return n%2===0?i:s(e.definition,t,i)}p=new WeakMap;var M,S,k=class extends r.p5{traverseAlg(e,t){let n=null;for(const r of e.units())n=n?n.applyTransformation(this.traverseUnit(r,t)):this.traverseUnit(r,t);return n??t.identityTransformation()}traverseGrouping(e,t){const n=this.traverseAlg(e.alg,t);return new g(t,b(t,n.transformationData,e.amount))}traverseMove(e,t){return t.moveToTransformation(e)}traverseCommutator(e,t){const n=this.traverseAlg(e.A,t),r=this.traverseAlg(e.B,t);return n.applyTransformation(r).applyTransformation(n.invert()).applyTransformation(r.invert())}traverseConjugate(e,t){const n=this.traverseAlg(e.A,t),r=this.traverseAlg(e.B,t);return n.applyTransformation(r).applyTransformation(n.invert())}traversePause(e,t){return t.identityTransformation()}traverseNewline(e,t){return t.identityTransformation()}traverseLineComment(e,t){return t.identityTransformation()}},z=new k,I=z.traverseAlg.bind(z);function T(e,t){return t?T(t,e%t):e}function L(e,t){let n=1;for(const r in e.orbits){const i=e.orbits[r],s=t.transformationData[r],o=new Array(i.numPieces);for(let e=0;e<i.numPieces;e++)if(!o[e]){let t=e,r=0,a=0;for(;;)if(o[t]=!0,r+=s.orientation[t],a+=1,t=s.permutation[t],t===e)break;0!==r&&(a=a*i.numOrientations/T(i.numOrientations,r)),n=n*a/T(n,a)}}return n}var E=class{constructor(e,t){this.definition=e,(0,i.Ko)(this,M,new Map),(0,i.Ko)(this,S,void 0),this.experimentalPGNotation=t?.experimentalPGNotation}name(){return this.definition.name}identityTransformation(){return g.experimentalConstructIdentity(this)}moveToTransformation(e){"string"===typeof e&&(e=new r.A6(e));const t=e.toString(),n=(0,i.ac)(this,M).get(t);if(n)return new g(this,n);if(this.experimentalPGNotation){const n=this.experimentalPGNotation.lookupMove(e);if(!n)throw new Error(`could not map to internal move: ${e}`);return(0,i.ac)(this,M).set(t,n),new g(this,n)}const s=h(this,e);return(0,i.ac)(this,M).set(t,s),new g(this,s)}algToTransformation(e){return"string"===typeof e&&(e=new r.g9(e)),I(e,this)}toTransformation(e){return"string"===typeof e||e?.is?.(r.g9)?this.algToTransformation(e):e?.is?.(r.A6)?this.moveToTransformation(e):e}startState(){return new f(this,this.definition.startStateData)}canConvertStateToUniqueTransformation(){return(0,i.ac)(this,S)??(0,i.qx)(this,S,(()=>{for(const[e,t]of Object.entries(this.definition.orbits)){const n=new Array(t.numPieces).fill(!1);for(const t of this.definition.startStateData[e].pieces)n[t]=!0;for(const e of n)if(!e)return!1}return!0})())}get state(){throw new Error("KPuzzle is now a different (stateless) class.")}reset(){throw new Error("KPuzzle is now a different (stateless) class.")}applyMove(e){throw new Error("KPuzzle is now a different class. Try `.moveToTransformation()` to get the transformation for a move.")}applyAlg(e){throw new Error("KPuzzle is now a different class. Try `.algToTransformation()` to get the transformation for an alg.")}};M=new WeakMap,S=new WeakMap;var A={name:"3x3x3",orbits:{EDGES:{numPieces:12,numOrientations:2},CORNERS:{numPieces:8,numOrientations:3},CENTERS:{numPieces:6,numOrientations:4}},startStateData:{EDGES:{pieces:[0,1,2,3,4,5,6,7,8,9,10,11],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{pieces:[0,1,2,3,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{pieces:[0,1,2,3,4,5],orientation:[0,0,0,0,0,0]}},moves:{U:{EDGES:{permutation:[1,2,3,0,4,5,6,7,8,9,10,11],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientation:[1,0,0,0,0,0]}},y:{EDGES:{permutation:[1,2,3,0,5,6,7,4,10,8,11,9],orientation:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,7,4,5,6],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientation:[1,0,0,0,0,3]}},x:{EDGES:{permutation:[4,8,0,9,6,10,2,11,5,7,1,3],orientation:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,3,5,7,6,2,1],orientation:[2,1,2,1,1,2,1,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientation:[0,3,0,1,2,2]}},L:{EDGES:{permutation:[0,1,2,11,4,5,6,9,8,3,10,7],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientation:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientation:[0,1,0,0,0,0]}},F:{EDGES:{permutation:[9,1,2,3,8,5,6,7,0,4,10,11],orientation:[1,0,0,0,1,0,0,0,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientation:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientation:[0,0,1,0,0,0]}},R:{EDGES:{permutation:[0,8,2,3,4,10,6,7,5,9,1,11],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientation:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[0,1,2,3,4,5],orientation:[0,0,0,1,0,0]}},B:{EDGES:{permutation:[0,1,10,3,4,5,11,7,8,9,6,2],orientation:[0,0,1,0,0,0,1,0,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientation:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[0,1,2,3,4,5],orientation:[0,0,0,0,1,0]}},D:{EDGES:{permutation:[0,1,2,3,7,4,5,6,8,9,10,11],orientation:[0,0,0,0,0,0,0,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,1,2,3,4,5],orientation:[0,0,0,0,0,1]}},z:{EDGES:{permutation:[9,3,11,7,8,1,10,5,0,4,2,6],orientation:[1,1,1,1,1,1,1,1,1,1,1,1]},CORNERS:{permutation:[3,2,6,5,0,4,7,1],orientation:[1,2,1,2,2,1,2,1]},CENTERS:{permutation:[1,5,2,0,4,3],orientation:[1,1,1,1,3,1]}},M:{EDGES:{permutation:[2,1,6,3,0,5,4,7,8,9,10,11],orientation:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientation:[2,0,0,0,2,0]}},E:{EDGES:{permutation:[0,1,2,3,4,5,6,7,9,11,8,10],orientation:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientation:[0,0,0,0,0,0]}},S:{EDGES:{permutation:[0,3,2,7,4,1,6,5,8,9,10,11],orientation:[0,1,0,1,0,1,0,1,0,0,0,0]},CORNERS:{permutation:[0,1,2,3,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientation:[1,1,0,1,0,1]}},u:{EDGES:{permutation:[1,2,3,0,4,5,6,7,10,8,11,9],orientation:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[1,2,3,0,4,5,6,7],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,2,3,4,1,5],orientation:[1,0,0,0,0,0]}},l:{EDGES:{permutation:[2,1,6,11,0,5,4,9,8,3,10,7],orientation:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[0,1,6,2,4,3,5,7],orientation:[0,0,2,1,0,2,1,0]},CENTERS:{permutation:[4,1,0,3,5,2],orientation:[2,1,0,0,2,0]}},f:{EDGES:{permutation:[9,3,2,7,8,1,6,5,0,4,10,11],orientation:[1,1,0,1,1,1,0,1,1,1,0,0]},CORNERS:{permutation:[3,1,2,5,0,4,6,7],orientation:[1,0,0,2,2,1,0,0]},CENTERS:{permutation:[1,5,2,0,4,3],orientation:[1,1,1,1,0,1]}},r:{EDGES:{permutation:[4,8,0,3,6,10,2,7,5,9,1,11],orientation:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[4,0,2,3,7,5,6,1],orientation:[2,1,0,0,1,0,0,2]},CENTERS:{permutation:[2,1,5,3,0,4],orientation:[0,0,0,1,2,2]}},b:{EDGES:{permutation:[0,5,10,1,4,7,11,3,8,9,6,2],orientation:[0,1,1,1,0,1,1,1,0,0,1,1]},CORNERS:{permutation:[0,7,1,3,4,5,2,6],orientation:[0,2,1,0,0,0,2,1]},CENTERS:{permutation:[3,0,2,5,4,1],orientation:[3,3,0,3,1,3]}},d:{EDGES:{permutation:[0,1,2,3,7,4,5,6,9,11,8,10],orientation:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[0,1,2,3,5,6,7,4],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientation:[0,0,0,0,0,1]}}}};A.moves["Uw"]=A.moves["u"],A.moves["Lw"]=A.moves["l"],A.moves["Fw"]=A.moves["f"],A.moves["Rw"]=A.moves["r"],A.moves["Bw"]=A.moves["b"],A.moves["Dw"]=A.moves["d"],A.moves["Rv"]=A.moves["x"],A.moves["Uv"]=A.moves["y"],A.moves["Fv"]=A.moves["z"],A.moves["Lv"]={EDGES:{permutation:[2,10,6,11,0,8,4,9,1,3,5,7],orientation:[1,0,1,0,1,0,1,0,0,0,0,0]},CORNERS:{permutation:[1,7,6,2,0,3,5,4],orientation:[2,1,2,1,1,2,1,2]},CENTERS:{permutation:[4,1,0,3,5,2],orientation:[2,1,0,3,2,0]}},A.moves["Dv"]={EDGES:{permutation:[3,0,1,2,7,4,5,6,9,11,8,10],orientation:[0,0,0,0,0,0,0,0,1,1,1,1]},CORNERS:{permutation:[3,0,1,2,5,6,7,4],orientation:[0,0,0,0,0,0,0,0]},CENTERS:{permutation:[0,4,1,2,3,5],orientation:[3,0,0,0,0,1]}},A.moves["Bv"]={EDGES:{permutation:[8,5,10,1,9,7,11,3,4,0,6,2],orientation:[1,1,1,1,1,1,1,1,1,1,1,1]},CORNERS:{permutation:[4,7,1,0,5,3,2,6],orientation:[1,2,1,2,2,1,2,1]},CENTERS:{permutation:[3,0,2,5,4,1],orientation:[3,3,3,3,1,3]}};var C=new E(A);function D(e){const t=e.stateData["CENTERS"].pieces[0],n=e.stateData["CENTERS"].pieces[5],r=e.stateData["CENTERS"].pieces[1];let i=r;return t<r&&i--,n<r&&i--,[t,i]}var R=new Array(6).fill(0).map((()=>new Array(6))),N=!1;function P(){if(!N){const e=["","z","x","z'","x'","x2"].map((e=>r.g9.fromString(e))),t=new r.g9("y");for(const n of e){let e=C.algToTransformation(n);for(let n=0;n<4;n++){e=e.applyAlg(t);const[n,r]=D(e.toKState());R[n][r]=e.invert()}}}return R}function O(e){const[t,n]=D(e),r=P()[t][n];return e.applyTransformation(r)}},2230:function(e,t,n){"use strict";n.d(t,{Ko:function(){return s},U9:function(){return l},ac:function(){return i},qx:function(){return o},yD:function(){return a}});n(1703);var r=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},i=(e,t,n)=>(r(e,t,"read from private field"),n?n.call(e):t.get(e)),s=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},o=(e,t,n,i)=>(r(e,t,"write to private field"),i?i.call(e,n):t.set(e,n),n),a=(e,t,n,r)=>({set _(r){o(e,t,r,n)},get _(){return i(e,t,r)}}),l=(e,t,n)=>(r(e,t,"access private method"),n)},9990:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=class extends Promise{constructor(e){super((e=>{e()})),this._executor=e}static from(e){return new r((t=>{t(e())}))}static resolve(e){return new r((t=>{t(e)}))}static reject(e){return new r(((t,n)=>{n(e)}))}then(e,t){return this._promise=this._promise||new Promise(this._executor),this._promise.then(e,t)}catch(e){return this._promise=this._promise||new Promise(this._executor),this._promise.catch(e)}};function i(e){return new r((t=>{t(e())}))}},4916:function(e,t,n){"use strict";n.r(t),n.d(t,{EXPERIMENTAL_PROP_NO_VALUE:function(){return r.Nj},ExperimentalKPuzzleSVGWrapper:function(){return H},SimpleAlgIndexer:function(){return fn},TreeAlgIndexer:function(){return Nn},TwistyAlgEditor:function(){return Pi},TwistyAlgViewer:function(){return oi},TwistyPlayer:function(){return Vr},TwizzleLink:function(){return _i},backViewLayouts:function(){return tr},experimentalDebugShowRenderStats:function(){return qe},experimentalForceNewRendererSharing:function(){return Ge}});n(1703),n(6699);var r=n(7915),i=n(7574),s=class extends i.Jf{constructor(e){super(),this.metric=e}traverseAlg(e){let t=0;for(const n of e.units())t+=this.traverseUnit(n);return t}traverseGrouping(e){const t=e.alg;return this.traverseAlg(t)*Math.abs(e.amount)}traverseMove(e){return this.metric(e)}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return 0}traverseNewline(e){return 0}traverseLineComment(e){return 0}};function o(e){return"A"<=e&&e<="Z"}function a(e){const t=e.family;return o(t[0])&&"v"===t[t.length-1]||"x"===t||"y"===t||"z"===t||"T"===t?0:1}function l(e){const t=e.family;return o(t[0])&&"v"===t[t.length-1]||"x"===t||"y"===t||"z"===t||"T"===t?0:Math.abs(e.amount)}var c=new s(a),u=c.traverseAlg.bind(c),h=new s(l),d=(h.traverseAlg.bind(h),class extends i.Jf{traverseAlg(e){let t=0;for(const n of e.units())t+=this.traverseUnit(n);return t}traverseGrouping(e){return this.traverseAlg(e.alg)*Math.abs(e.amount)}traverseMove(e){return 1}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return 1}traverseNewline(e){return 0}traverseLineComment(e){return 0}}),p=new d,f=p.traverseAlg.bind(p),m=(n(9990),n(895)),g=(n(9427),n(2230));function v(e){return e}var w=class{constructor(e){this.callback=e,this.animFrameID=null,this.animFrame=this.animFrameWrapper.bind(this)}requestAnimFrame(){this.animFrameID||(this.animFrameID=requestAnimationFrame(this.animFrame))}cancelAnimFrame(){this.animFrameID&&(cancelAnimationFrame(this.animFrameID),this.animFrameID=0)}animFrameWrapper(e){this.animFrameID=0,this.callback(e)}};function y(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function x(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function b(e,t,n=0){return(e%t+t+n)%t-n}function M(e,t,n){return b(e-t,n-t)+t}var S,k,z,I=class{constructor(e){this.model=e,this.catchingUp=!1,this.pendingFrame=!1,this.scheduler=new w(this.animFrame.bind(this)),this.catchUpMs=500,this.lastTimestamp=0}start(){this.catchingUp||(this.lastTimestamp=performance.now()),this.catchingUp=!0,this.pendingFrame=!0,this.scheduler.requestAnimFrame()}stop(){this.catchingUp=!1,this.scheduler.cancelAnimFrame()}animFrame(e){this.scheduler.requestAnimFrame();const t=(e-this.lastTimestamp)/this.catchUpMs;this.lastTimestamp=e,this.model.catchUpMove.set((async()=>{const e=await this.model.catchUpMove.get();if(null===e.move)return e;const n=e.amount+t;return n>=1?(this.pendingFrame=!0,this.stop(),this.model.timestampRequest.set("end"),{move:null,amount:0}):(this.pendingFrame=!1,{move:e.move,amount:n})})())}},T=class{constructor(e,t){this.delegate=t,(0,g.Ko)(this,S),this.playing=!1,this.direction=1,this.lastDatestamp=0,this.scheduler=new w(this.animFrame.bind(this)),(0,g.Ko)(this,z,new r._b),this.model=e,this.lastTimestampPromise=(0,g.U9)(this,S,k).call(this),this.model.playingInfo.addFreshListener(this.onPlayingProp.bind(this)),this.catchUpHelper=new I(this.model),this.model.catchUpMove.addFreshListener(this.onCatchUpMoveProp.bind(this))}async onPlayingProp(e){e.playing!==this.playing&&(e.playing?this.play(e):this.pause())}async onCatchUpMoveProp(e){const t=null!==e.move;t!==this.catchUpHelper.catchingUp&&(t?this.catchUpHelper.start():this.catchUpHelper.stop()),this.scheduler.requestAnimFrame()}jumpToStart(e){this.model.timestampRequest.set("start"),this.pause(),e?.flash&&this.delegate.flash()}jumpToEnd(e){this.model.timestampRequest.set("end"),this.pause(),e?.flash&&this.delegate.flash()}playPause(){this.playing?this.pause():this.play()}async play(e){const t=e?.direction??1,n=await this.model.coarseTimelineInfo.get();(e?.autoSkipToOtherEndIfStartingAtBoundary??1)&&(1===t&&n.atEnd&&(this.model.timestampRequest.set("start"),this.delegate.flash()),-1===t&&n.atStart&&(this.model.timestampRequest.set("end"),this.delegate.flash())),this.model.playingInfo.set({playing:!0,direction:t,untilBoundary:e?.untilBoundary??"entire-timeline",loop:e?.loop??!1}),this.playing=!0,this.lastDatestamp=performance.now(),this.lastTimestampPromise=(0,g.U9)(this,S,k).call(this),this.scheduler.requestAnimFrame()}pause(){this.playing=!1,this.scheduler.cancelAnimFrame(),this.model.playingInfo.set({playing:!1,untilBoundary:"entire-timeline"})}async animFrame(e){this.playing&&this.scheduler.requestAnimFrame();const t=this.lastDatestamp,n=await(0,g.ac)(this,z).queue(Promise.all([this.model.playingInfo.get(),this.lastTimestampPromise,this.model.timeRange.get(),this.model.tempoScale.get(),this.model.currentMoveInfo.get()])),[r,i,s,o,a]=n;if(!r.playing)return void(this.playing=!1);let l=a.earliestEnd;0!==a.currentMoves.length&&"entire-timeline"!==r.untilBoundary||(l=s.end);let c=a.latestStart;0!==a.currentMoves.length&&"entire-timeline"!==r.untilBoundary||(c=s.start);let u=(e-t)*v(this.direction)*o;u=Math.max(u,1),u*=r.direction;let h=i+u,d=null;h>=l?r.loop?h=M(h,s.start,s.end):(h===s.end?d="end":h=l,this.playing=!1,this.model.playingInfo.set({playing:!1})):h<=c&&(r.loop?h=M(h,s.start,s.end):(h===s.start?d="start":h=c,this.playing=!1,this.model.playingInfo.set({playing:!1}))),this.lastDatestamp=e,this.lastTimestampPromise=Promise.resolve(h),this.model.timestampRequest.set(d??h)}};S=new WeakSet,k=async function(){return(await this.model.detailedTimelineInfo.get()).timestamp},z=new WeakMap;var L,E=class{constructor(e,t){this.model=e,this.animationController=new T(e,t)}jumpToStart(e){this.animationController.jumpToStart(e)}jumpToEnd(e){this.animationController.jumpToEnd(e)}togglePlay(e){"undefined"===typeof e&&this.animationController.playPause(),e?this.animationController.play():this.animationController.pause()}async visitTwizzleLink(){const e=document.createElement("a");e.href=await this.model.twizzleLink(),e.target="_blank",e.click()}},A={"bottom-row":!0,none:!0},C=class extends r.C0{getDefaultValue(){return"auto"}},D=class{};L=globalThis.HTMLElement?HTMLElement:D;var R,N=class{define(){}};R=globalThis.customElements?customElements:new N;var P,O=class{constructor(e){this.sourceText=e}getAsString(){return this.sourceText}},U=class extends L{constructor(e){super(),(0,g.Ko)(this,P,new Map),this.shadow=this.attachShadow({mode:e?.mode??"closed"}),this.contentWrapper=document.createElement("div"),this.contentWrapper.classList.add("wrapper"),this.shadow.appendChild(this.contentWrapper)}addCSS(e){const t=(0,g.ac)(this,P).get(e);if(t)return t;const n=document.createElement("style");return n.textContent=e.getAsString(),(0,g.ac)(this,P).set(e,n),this.shadow.appendChild(n),n}removeCSS(e){const t=(0,g.ac)(this,P).get(e);t&&(this.shadow.removeChild(t),(0,g.ac)(this,P).delete(e))}addElement(e){return this.contentWrapper.appendChild(e)}prependElement(e){this.contentWrapper.prepend(e)}removeElement(e){return this.contentWrapper.removeChild(e)}};P=new WeakMap,R.define("twisty-managed-custom-element",U);var j=new O("\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n}\n\n.wrapper > * {\n  width: 100%;\n  height: 100%;\n  overflow: hidden;\n}\n\n.wrapper.back-view-side-by-side {\n  grid-template-columns: 1fr 1fr;\n}\n\n.wrapper.back-view-top-right {\n  grid-template-columns: 3fr 1fr;\n  grid-template-rows: 1fr 3fr;\n}\n\n.wrapper.back-view-top-right > :nth-child(1) {\n  grid-row: 1 / 3;\n  grid-column: 1 / 3;\n}\n\n.wrapper.back-view-top-right > :nth-child(2) {\n  grid-row: 1 / 2;\n  grid-column: 2 / 3;\n}\n"),_=new O("\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n}\n\n.svg-wrapper,\ntwisty-2d-svg,\nsvg {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  min-height: 0;\n}\n\nsvg {\n  animation: fade-in 0.25s ease-in;\n}\n\n@keyframes fade-in {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n"),F="http://www.w3.org/2000/svg",B=0;function W(){return B+=1,"svg"+B.toString()}var q,V,K,G,Y={dim:{white:"#dddddd",orange:"#884400",limegreen:"#008800",red:"#660000","rgb(34, 102, 255)":"#000088",yellow:"#888800"},oriented:{white:"#44ddcc",orange:"#44ddcc",limegreen:"#44ddcc",red:"#44ddcc","rgb(34, 102, 255)":"#44ddcc",yellow:"#44ddcc"},ignored:{white:"#444444",orange:"#444444",limegreen:"#444444",red:"#444444","rgb(34, 102, 255)":"#444444",yellow:"#444444"},invisible:{white:"#00000000",orange:"#00000000",limegreen:"#00000000",red:"#00000000","rgb(34, 102, 255)":"#00000000",yellow:"#00000000"}},H=class{constructor(e,t,n){if(this.kpuzzle=e,this.originalColors={},this.gradients={},!t)throw new Error(`No SVG definition for puzzle type: ${e.name()}`);this.svgID=W(),this.element=document.createElement("div"),this.element.classList.add("svg-wrapper"),this.element.innerHTML=t;const r=this.element.querySelector("svg");if(!r)throw new Error("Could not get SVG element");if(F!==r.namespaceURI)throw new Error("Unexpected XML namespace");r.style.maxWidth="100%",r.style.maxHeight="100%",this.gradientDefs=document.createElementNS(F,"defs"),r.insertBefore(this.gradientDefs,r.firstChild);for(const i in e.definition.orbits){const t=e.definition.orbits[i];for(let e=0;e<t.numPieces;e++)for(let r=0;r<t.numOrientations;r++){const t=this.elementID(i,e,r),s=this.elementByID(t);let o=s.style.fill;n?(()=>{const t=n.orbits;if(!t)return;const s=t[i];if(!s)return;const a=s.pieces[e];if(!a)return;const l=a.facelets[r];if(!l)return;const c="string"===typeof l?l:l?.appearance,u=Y[c];u&&(o=u[o])})():o=s.style.fill,this.originalColors[t]=o,this.gradients[t]=this.newGradient(t,o),this.gradientDefs.appendChild(this.gradients[t]),s.setAttribute("style",`fill: url(#grad-${this.svgID}-${t})`)}}}drawState(e,t,n){this.draw(e,t,n)}draw(e,t,n){const r=e.experimentalToTransformation(),i=t?.experimentalToTransformation();if(!r)throw new Error("Distinguishable pieces are not handled for SVG yet!");for(const s in r.kpuzzle.definition.orbits){const e=r.kpuzzle.definition.orbits[s],t=r.transformationData[s],o=i?i.transformationData[s]:null;for(let r=0;r<e.numPieces;r++)for(let i=0;i<e.numOrientations;i++){const a=this.elementID(s,r,i),l=this.elementID(s,t.permutation[r],(e.numOrientations-t.orientation[r]+i)%e.numOrientations);let c=!1;if(o){const t=this.elementID(s,o.permutation[r],(e.numOrientations-o.orientation[r]+i)%e.numOrientations);l===t&&(c=!0),n=n||0;const u=100*(1-n*n*(2-n*n));this.gradients[a].children[0].setAttribute("stop-color",this.originalColors[l]),this.gradients[a].children[1].setAttribute("stop-color",this.originalColors[l]),this.gradients[a].children[1].setAttribute("offset",`${Math.max(u-5,0)}%`),this.gradients[a].children[2].setAttribute("offset",`${Math.max(u-5,0)}%`),this.gradients[a].children[3].setAttribute("offset",`${u}%`),this.gradients[a].children[4].setAttribute("offset",`${u}%`),this.gradients[a].children[4].setAttribute("stop-color",this.originalColors[t]),this.gradients[a].children[5].setAttribute("stop-color",this.originalColors[t])}else c=!0;c&&(this.gradients[a].children[0].setAttribute("stop-color",this.originalColors[l]),this.gradients[a].children[1].setAttribute("stop-color",this.originalColors[l]),this.gradients[a].children[1].setAttribute("offset","100%"),this.gradients[a].children[2].setAttribute("offset","100%"),this.gradients[a].children[3].setAttribute("offset","100%"),this.gradients[a].children[4].setAttribute("offset","100%"))}}}newGradient(e,t){const n=document.createElementNS(F,"radialGradient");n.setAttribute("id",`grad-${this.svgID}-${e}`),n.setAttribute("r","70.7107%");const r=[{offset:0,color:t},{offset:0,color:t},{offset:0,color:"black"},{offset:0,color:"black"},{offset:0,color:t},{offset:100,color:t}];for(const i of r){const e=document.createElementNS(F,"stop");e.setAttribute("offset",`${i.offset}%`),e.setAttribute("stop-color",i.color),e.setAttribute("stop-opacity","1"),n.appendChild(e)}return n}elementID(e,t,n){return e+"-l"+t+"-o"+n}elementByID(e){return this.element.querySelector("#"+e)}},$=class extends U{constructor(e,t,n,i,s){super(),this.model=e,this.kpuzzle=t,this.svgSource=n,this.options=i,this.puzzleLoader=s,this.scheduler=new w(this.render.bind(this)),(0,g.Ko)(this,q,null),(0,g.Ko)(this,V,new r.Yf),this.addCSS(_),this.resetSVG(),(0,g.ac)(this,V).addListener(this.model.puzzleID,(e=>{s?.id!==e&&this.disconnect()})),(0,g.ac)(this,V).addListener(this.model.legacyPosition,this.onPositionChange.bind(this)),this.options?.experimentalStickering&&this.experimentalSetStickering(this.options.experimentalStickering)}disconnect(){(0,g.ac)(this,V).disconnect()}onPositionChange(e){try{if(e.movesInProgress.length>0){const t=e.movesInProgress[0].move;let n=t;-1===e.movesInProgress[0].direction&&(n=t.invert());const r=e.state.applyMove(n);this.svg.draw(e.state,r,e.movesInProgress[0].fraction)}else this.svg.draw(e.state),(0,g.qx)(this,q,e)}catch(t){console.warn("Bad position (this doesn't necessarily mean something is wrong). Pre-emptively disconnecting:",this.puzzleLoader?.id,t),this.disconnect()}}scheduleRender(){this.scheduler.requestAnimFrame()}experimentalSetStickering(e){(async()=>{if(!this.puzzleLoader?.appearance)return;const t=await this.puzzleLoader.appearance(e);this.resetSVG(t)})()}resetSVG(e){this.svg&&this.removeElement(this.svg.element),this.kpuzzle&&(this.svg=new H(this.kpuzzle,this.svgSource,e),this.addElement(this.svg.element),(0,g.ac)(this,q)&&this.onPositionChange((0,g.ac)(this,q)))}render(){}};q=new WeakMap,V=new WeakMap,R.define("twisty-2d-puzzle",$);var Q,J,X,Z=class{constructor(e,t,n,i){this.model=e,this.schedulable=t,this.puzzleLoader=n,this.effectiveVisualization=i,(0,g.Ko)(this,K,new r.Yf),(0,g.Ko)(this,G,null),this.twisty2DPuzzle(),(0,g.ac)(this,K).addListener(this.model.twistySceneModel.stickering,(async e=>{(await this.twisty2DPuzzle()).experimentalSetStickering(e)}))}disconnect(){(0,g.ac)(this,K).disconnect()}scheduleRender(){}async twisty2DPuzzle(){return(0,g.ac)(this,G)??(0,g.qx)(this,G,(async()=>{const e="experimental-2D-LL"===this.effectiveVisualization?this.puzzleLoader.llSVG():this.puzzleLoader.svg();return new $(this.model,await this.puzzleLoader.kpuzzle(),await e,{},this.puzzleLoader)})())}};K=new WeakMap,G=new WeakMap;var ee,te=class extends U{constructor(e,t){super(),this.model=e,this.effectiveVisualization=t,(0,g.Ko)(this,Q,new r.Yf),(0,g.Ko)(this,J,void 0),(0,g.Ko)(this,X,null)}disconnect(){(0,g.ac)(this,Q).disconnect()}async connectedCallback(){this.addCSS(j),this.model&&(0,g.ac)(this,Q).addListener(this.model.twistyPlayerModel.puzzleLoader,this.onPuzzleLoader.bind(this))}async scene(){return(0,g.ac)(this,J)??(0,g.qx)(this,J,(async()=>new(await r.v6).Scene)())}scheduleRender(){(0,g.ac)(this,X)?.scheduleRender()}currentTwisty2DPuzzleWrapper(){return(0,g.ac)(this,X)}async setCurrentTwisty2DPuzzleWrapper(e){const t=(0,g.ac)(this,X);(0,g.qx)(this,X,e),t?.disconnect();const n=e.twisty2DPuzzle();this.contentWrapper.textContent="",this.addElement(await n)}async onPuzzleLoader(e){(0,g.ac)(this,X)?.disconnect();const t=new Z(this.model.twistyPlayerModel,this,e,this.effectiveVisualization);this.setCurrentTwisty2DPuzzleWrapper(t)}};Q=new WeakMap,J=new WeakMap,X=new WeakMap,R.define("twisty-2d-scene-wrapper",te);var ne,re,ie=class{constructor(e,t,n){this.elem=e,this.prefix=t,this.validSuffixes=n,(0,g.Ko)(this,ee,null)}clearValue(){(0,g.ac)(this,ee)&&this.elem.contentWrapper.classList.remove((0,g.ac)(this,ee)),(0,g.qx)(this,ee,null)}setValue(e){if(!this.validSuffixes.includes(e))throw new Error(`Invalid suffix: ${e}`);const t=`${this.prefix}${e}`,n=(0,g.ac)(this,ee)!==t;return n&&(this.clearValue(),this.elem.contentWrapper.classList.add(t),(0,g.qx)(this,ee,t)),n}};ee=new WeakMap;var se=class{constructor(e,t,n,i){this.model=e,this.schedulable=t,this.puzzleLoader=n,this.visualizationStrategy=i,(0,g.Ko)(this,ne,new r.Yf),(0,g.Ko)(this,re,null),this.twisty3DPuzzle(),(0,g.ac)(this,ne).addListener(this.model.puzzleLoader,(e=>{this.puzzleLoader.id!==e.id&&this.disconnect()})),(0,g.ac)(this,ne).addListener(this.model.legacyPosition,(async e=>{try{(await this.twisty3DPuzzle()).onPositionChange(e),this.scheduleRender()}catch(t){this.disconnect()}})),(0,g.ac)(this,ne).addListener(this.model.twistySceneModel.hintFacelet,(async e=>{(await this.twisty3DPuzzle()).experimentalUpdateOptions({hintFacelets:"auto"===e?"floating":e}),this.scheduleRender()})),(0,g.ac)(this,ne).addListener(this.model.twistySceneModel.foundationDisplay,(async e=>{(await this.twisty3DPuzzle()).experimentalUpdateOptions({showFoundation:"none"!==e}),this.scheduleRender()})),(0,g.ac)(this,ne).addListener(this.model.twistySceneModel.stickering,(async e=>{if("setStickering"in await this.twisty3DPuzzle())(await this.twisty3DPuzzle()).setStickering(e),this.scheduleRender();else{if(["experimental-global-custom-1","experimental-global-custom-2"].includes(e)){const[t]=await Promise.all([this.twisty3DPuzzle()]);return t.experimentalSetAppearance(await(0,m.uy)(this.puzzleLoader,e)),void this.scheduleRender()}if("appearance"in this.puzzleLoader){const[t,n]=await Promise.all([this.twisty3DPuzzle(),this.puzzleLoader.appearance(e??"full")]);t.experimentalSetAppearance(n),this.scheduleRender()}}})),(0,g.ac)(this,ne).addMultiListener([this.model.twistySceneModel.foundationStickerSprite,this.model.twistySceneModel.hintStickerSprite],(async e=>{"experimentalUpdateTexture"in await this.twisty3DPuzzle()&&((await this.twisty3DPuzzle()).experimentalUpdateTexture(!0,...e),this.scheduleRender())}))}disconnect(){(0,g.ac)(this,ne).disconnect()}scheduleRender(){this.schedulable.scheduleRender()}async twisty3DPuzzle(){return(0,g.ac)(this,re)??(0,g.qx)(this,re,(async()=>{const e=(0,r.U1)();if("3x3x3"===this.puzzleLoader.id&&"Cube3D"===this.visualizationStrategy){const[t,n,r]=await Promise.all([this.model.twistySceneModel.foundationStickerSprite.get(),this.model.twistySceneModel.hintStickerSprite.get(),this.model.twistySceneModel.stickering.get()]);return(await e).cube3DShim({foundationSprite:t,hintSprite:n,experimentalStickering:r})}{const[t,n,r]=await Promise.all([this.model.twistySceneModel.hintFacelet.get(),this.model.twistySceneModel.foundationStickerSprite.get(),this.model.twistySceneModel.hintStickerSprite.get()]),i=(await e).pg3dShim(this.puzzleLoader,"auto"===t?"floating":t);return i.then((e=>e.experimentalUpdateTexture(!0,n??void 0,r??void 0))),i}})())}async raycastMove(e,t){const n=await this.twisty3DPuzzle();if(!("experimentalGetControlTargets"in n))return void console.info("not PG3D! skipping raycast");const r=n.experimentalGetControlTargets(),[i]=await Promise.all([e]),s=i.intersectObjects(r);if(s.length>0){const e=n.getClosestMoveToAxis(s[0].point,t);e?this.model.experimentalAddMove(e.move,{coalesce:!0,mod:e.order}):console.info("Skipping move!")}}};ne=new WeakMap,re=new WeakMap;var oe=globalThis.performance,ae=class{constructor(){this.mode=0,this.dom=document.createElement("div"),this.beginTime=(oe||Date).now(),this.prevTime=this.beginTime,this.frames=0,this.fpsPanel=this.addPanel(new ve("FPS","#0ff","#002")),this.msPanel=this.addPanel(new ve("MS","#0f0","#020")),this.memPanel=oe?.memory?this.addPanel(new ve("MB","#f08","#201")):null,this.REVISION=16,this.dom.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",this.dom.addEventListener("click",(e=>{e.preventDefault(),this.showPanel(++this.mode%this.dom.children.length)}),!1),this.showPanel(0)}addPanel(e){return this.dom.appendChild(e.dom),e}showPanel(e){for(let t=0;t<this.dom.children.length;t++)this.dom.children[t].style.display=t===e?"block":"none";this.mode=e}begin(){this.beginTime=(oe||Date).now()}end(){this.frames++;const e=(oe||Date).now();if(this.msPanel.update(e-this.beginTime,200),e>=this.prevTime+1e3&&(this.fpsPanel.update(1e3*this.frames/(e-this.prevTime),100),this.prevTime=e,this.frames=0,this.memPanel)){const e=oe.memory;this.memPanel.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return e}update(){this.beginTime=this.end()}},le=Math.round(globalThis?.window?.devicePixelRatio??1),ce=80*le,ue=48*le,he=3*le,de=2*le,pe=3*le,fe=15*le,me=74*le,ge=30*le,ve=class{constructor(e,t,n){this.name=e,this.fg=t,this.bg=n,this.min=1/0,this.max=0,this.dom=document.createElement("canvas"),this.context=this.dom.getContext("2d"),this.dom.width=ce,this.dom.height=ue,this.dom.style.cssText="width:80px;height:48px",this.context.font=`bold ${9*le}px Helvetica,Arial,sans-serif`,this.context.textBaseline="top",this.context.fillStyle=n,this.context.fillRect(0,0,ce,ue),this.context.fillStyle=t,this.context.fillText(e,he,de),this.context.fillRect(pe,fe,me,ge),this.context.fillStyle=n,this.context.globalAlpha=.9,this.context.fillRect(pe,fe,me,ge)}update(e,t){this.min=Math.min(this.min,e),this.max=Math.max(this.max,e),this.context.fillStyle=this.bg,this.context.globalAlpha=1,this.context.fillRect(0,0,ce,fe),this.context.fillStyle=this.fg,this.context.fillText(Math.round(e)+" "+this.name+" ("+Math.round(this.min)+"-"+Math.round(this.max)+")",he,de),this.context.drawImage(this.dom,pe+le,fe,me-le,ge,pe,fe,me-le,ge),this.context.fillRect(pe+me-le,fe,le,ge),this.context.fillStyle=this.bg,this.context.globalAlpha=.9,this.context.fillRect(pe+me-le,fe,le,Math.round((1-e/t)*ge))}},we=null;function ye(){return we??(devicePixelRatio||1)}var xe,be,Me,Se,ke,ze,Ie,Te,Le,Ee=new O("\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n  place-content: center;\n  contain: strict;\n}\n\n.loading {\n  width: 4em;\n  height: 4em;\n  border-radius: 2.5em;\n  border: 0.5em solid rgba(0, 0, 0, 0);\n  border-top: 0.5em solid rgba(0, 0, 0, 0.7);\n  border-right: 0.5em solid rgba(0, 0, 0, 0.7);\n  animation: fade-in-delayed 4s, rotate 1s linear infinite;\n}\n\n@keyframes fade-in-delayed {\n  0% { opacity: 0; }\n  25% {opacity: 0; }\n  100% { opacity: 1; }\n}\n\n@keyframes rotate {\n  from { transform: rotate(0deg); }\n  to { transform: rotate(360deg); }\n}\n\n/* TODO: This is due to stats hack. Replace with `canvas`. */\n.wrapper > canvas {\n  max-width: 100%;\n  max-height: 100%;\n  animation: fade-in 0.25s ease-in;\n}\n\n@keyframes fade-in {\n  from { opacity: 0; }\n  to { opacity: 1; }\n}\n\n.wrapper.invisible {\n  opacity: 0;\n}\n\n.wrapper.drag-input-enabled > canvas {\n  cursor: grab;\n}\n\n.wrapper.drag-input-enabled > canvas:active {\n  cursor: grabbing;\n}\n"),Ae=.1,Ce=class extends EventTarget{constructor(e){super(),this.target=e,(0,g.Ko)(this,Se),(0,g.Ko)(this,ze),(0,g.Ko)(this,Te),(0,g.Ko)(this,xe,new Map),(0,g.Ko)(this,be,new Map),(0,g.Ko)(this,Me,!1)}start(){this.addTargetListener("pointerdown",this.onPointerDown.bind(this)),this.addTargetListener("contextmenu",(e=>{e.preventDefault()})),this.addTargetListener("touchmove",(e=>e.preventDefault())),this.addTargetListener("dblclick",(e=>e.preventDefault()))}stop(){for(const[e,t]of(0,g.ac)(this,be).entries())this.target.removeEventListener(e,t);(0,g.ac)(this,be).clear(),(0,g.qx)(this,Me,!1)}addTargetListener(e,t){(0,g.ac)(this,be).has(e)||(this.target.addEventListener(e,t),(0,g.ac)(this,be).set(e,t))}onPointerDown(e){(0,g.U9)(this,Se,ke).call(this);const t={attachedInfo:{},hasMoved:!1,lastClientX:e.clientX,lastClientY:e.clientY,lastTimeStamp:e.timeStamp};(0,g.ac)(this,xe).set(e.pointerId,t),this.target.setPointerCapture(e.pointerId)}onPointerMove(e){const t=(0,g.U9)(this,Te,Le).call(this,e).movementInfo;t&&(e.preventDefault(),this.dispatchEvent(new CustomEvent("move",{detail:t})))}onPointerUp(e){const t=(0,g.U9)(this,Te,Le).call(this,e),n=(0,g.ac)(this,xe).get(e.pointerId);let r;if((0,g.U9)(this,ze,Ie).call(this,e),this.target.releasePointerCapture(e.pointerId),t.hasMoved)r=new CustomEvent("up",{detail:{attachedInfo:n.attachedInfo}});else{const{altKey:t,ctrlKey:n,metaKey:i,shiftKey:s}=e;r=new CustomEvent("press",{detail:{normalizedX:e.offsetX/this.target.offsetWidth*2-1,normalizedY:1-e.offsetY/this.target.offsetHeight*2,rightClick:!!(2&e.button),keys:{altKey:t,ctrlOrMetaKey:n||i,shiftKey:s}}})}this.dispatchEvent(r)}};xe=new WeakMap,be=new WeakMap,Me=new WeakMap,Se=new WeakSet,ke=function(){(0,g.ac)(this,Me)||(this.addTargetListener("pointermove",this.onPointerMove.bind(this)),this.addTargetListener("pointerup",this.onPointerUp.bind(this)),(0,g.qx)(this,Me,!0))},ze=new WeakSet,Ie=function(e){(0,g.ac)(this,xe).delete(e.pointerId)},Te=new WeakSet,Le=function(e){const t=(0,g.ac)(this,xe).get(e.pointerId);if(!t)return{movementInfo:null,hasMoved:!1};let n;return n=0!==(e.movementX??0)||0!==(e.movementY??0)?{attachedInfo:t.attachedInfo,movementX:e.movementX,movementY:e.movementY,elapsedMs:e.timeStamp-t.lastTimeStamp}:{attachedInfo:t.attachedInfo,movementX:e.clientX-t.lastClientX,movementY:e.clientY-t.lastClientY,elapsedMs:e.timeStamp-t.lastTimeStamp},t.lastClientX=e.clientX,t.lastClientY=e.clientY,t.lastTimeStamp=e.timeStamp,Math.abs(n.movementX)<Ae&&Math.abs(n.movementY)<Ae?{movementInfo:null,hasMoved:t.hasMoved}:(t.hasMoved=!0,{movementInfo:n,hasMoved:t.hasMoved})};var De=[];async function Re(e,t,n,r,i){if(0===e||0===t)return;0===De.length&&De.push(Ne());const s=await De[0];s.setSize(e,t),s.render(r,i);const o=n.getContext("2d");o.clearRect(0,0,n.width,n.height),o.drawImage(s.domElement,0,0)}async function Ne(){const e=(await r.v6).WebGLRenderer,t=new e({antialias:!0,alpha:!0});return t.setPixelRatio(ye()),t}var Pe=!0,Oe=500,Ue=50,je=.75;function _e(e){return(Math.exp(1-e)-(1-e))/(1-Math.E)+1}var Fe=class{constructor(e,t,n,r){this.startTimestamp=e,this.momentumX=t,this.momentumY=n,this.callback=r,this.scheduler=new w(this.render.bind(this)),this.scheduler.requestAnimFrame(),this.lastTimestamp=e}render(e){const t=(this.lastTimestamp-this.startTimestamp)/Oe,n=Math.min(1,(e-this.startTimestamp)/Oe);if(0===t&&n>Ue/Oe)return;const r=_e(n)-_e(t);this.callback(this.momentumX*r*1e3,this.momentumY*r*1e3),n<1&&this.scheduler.requestAnimFrame(),this.lastTimestamp=e}},Be=class{constructor(e,t,n,r){this.model=e,this.mirror=t,this.canvas=n,this.dragTracker=r,this.experimentalInertia=Pe,this.onMovementBound=this.onMovement.bind(this),this.experimentalHasBeenMoved=!1,this.dragTracker.addEventListener("move",this.onMove.bind(this)),this.dragTracker.addEventListener("up",this.onUp.bind(this))}temperMovement(e){return Math.sign(e)*Math.log(Math.abs(10*e)+1)/6}onMove(e){var t;(t=e.detail).attachedInfo??(t.attachedInfo={});const{temperedX:n,temperedY:r}=this.onMovement(e.detail.movementX,e.detail.movementY),i=e.detail.attachedInfo;i.lastTemperedX=10*n,i.lastTemperedY=10*r,i.timestamp=e.timeStamp}onMovement(e,t){const n=this.mirror?-1:1,i=Math.min(this.canvas.offsetWidth,this.canvas.offsetHeight),s=this.temperMovement(e/i),o=this.temperMovement(t/i*je);return this.model.twistySceneModel.orbitCoordinatesRequest.set((async()=>{const e=await this.model.twistySceneModel.orbitCoordinates.get(),t={latitude:e.latitude+2*o*r.g8*n,longitude:e.longitude-2*s*r.g8};return t})()),{temperedX:s,temperedY:o}}onUp(e){e.preventDefault(),"lastTemperedX"in e.detail.attachedInfo&&"lastTemperedY"in e.detail.attachedInfo&&"timestamp"in e.detail.attachedInfo&&e.timeStamp-e.detail.attachedInfo.timestamp<60&&new Fe(e.timeStamp,e.detail.attachedInfo.lastTemperedX,e.detail.attachedInfo.lastTemperedY,this.onMovementBound)}},We=!1;function qe(e){We=e}async function Ve(e,t,n=!1){const i=new(await r.v6).Spherical(t.distance,(90-(n?-1:1)*t.latitude)/r.g8,((n?180:0)+t.longitude)/r.g8);i.makeSafe(),e.position.setFromSpherical(i),e.lookAt(0,0,0)}var Ke=null;function Ge(e){Ke=e}var Ye,He,$e,Qe,Je,Xe,Ze,et,tt,nt,rt,it,st,ot,at,lt,ct=0,ut=2;function ht(){return null!==Ke?(Ke||ct++,Ke):!(ct<ut)||(ct++,!1)}var dt,pt,ft,mt,gt,vt,wt,yt=class extends U{constructor(e,t,n){super(),this.model=e,this.options=n,(0,g.Ko)(this,Ye),(0,g.Ko)(this,Xe),(0,g.Ko)(this,rt),this.scene=null,this.stats=null,this.rendererIsShared=ht(),this.loadingElement=null,(0,g.Ko)(this,$e,new r._b),(0,g.Ko)(this,Qe,0),(0,g.Ko)(this,Je,0),(0,g.Ko)(this,et,null),(0,g.Ko)(this,tt,null),(0,g.Ko)(this,nt,null),(0,g.Ko)(this,st,null),(0,g.Ko)(this,ot,null),(0,g.Ko)(this,at,[]),(0,g.Ko)(this,lt,new w(this.render.bind(this))),this.scene=t??null,this.loadingElement=this.addElement(document.createElement("div")),this.loadingElement.classList.add("loading"),We&&(this.stats=new ae,this.stats.dom.style.position="absolute",this.contentWrapper.appendChild(this.stats.dom))}async connectedCallback(){this.addCSS(Ee),this.addElement((await this.canvasInfo()).canvas),(0,g.U9)(this,Xe,Ze).call(this);const e=new ResizeObserver((0,g.U9)(this,Xe,Ze).bind(this));e.observe(this.contentWrapper),this.orbitControls(),(0,g.U9)(this,Ye,He).call(this),this.scheduleRender()}async clearCanvas(){if(this.rendererIsShared){const e=await this.canvasInfo();e.context.clearRect(0,0,e.canvas.width,e.canvas.height)}else{const e=await this.renderer(),t=e.getContext();t.clear(t.COLOR_BUFFER_BIT)}}async renderer(){if(this.rendererIsShared)throw new Error("renderer expected to be shared.");return(0,g.ac)(this,et)??(0,g.qx)(this,et,Ne())}async canvasInfo(){return(0,g.ac)(this,tt)??(0,g.qx)(this,tt,(async()=>{let e;if(this.rendererIsShared)e=this.addElement(document.createElement("canvas"));else{const t=await this.renderer();e=this.addElement(t.domElement)}this.loadingElement?.remove();const t=e.getContext("2d");return{canvas:e,context:t}})())}async camera(){return(0,g.ac)(this,st)??(0,g.qx)(this,st,(async()=>{const e=new(await r.v6).PerspectiveCamera(20,1,.1,20);return e.position.copy(new(await r.v6).Vector3(2,4,4).multiplyScalar(this.options?.backView?-1:1)),e.lookAt(0,0,0),e})())}async orbitControls(){return(0,g.ac)(this,ot)??(0,g.qx)(this,ot,(async()=>{const e=new Be(this.model,!!this.options?.backView,(await this.canvasInfo()).canvas,await(0,g.U9)(this,rt,it).call(this));return this.model&&this.addListener(this.model.twistySceneModel.orbitCoordinates,(async e=>{const t=await this.camera();Ve(t,e,this.options?.backView),this.scheduleRender()})),e})())}addListener(e,t){e.addFreshListener(t),(0,g.ac)(this,at).push((()=>{e.removeFreshListener(t)}))}disconnect(){for(const e of(0,g.ac)(this,at))e();(0,g.qx)(this,at,[])}async render(){if(!this.scene)throw new Error("Attempted to render without a scene");this.stats?.begin();const[e,t,n]=await Promise.all([this.scene.scene(),this.camera(),this.canvasInfo()]);this.rendererIsShared?Re((0,g.ac)(this,Qe),(0,g.ac)(this,Je),n.canvas,e,t):(await this.renderer()).render(e,t),this.stats?.end()}scheduleRender(){(0,g.ac)(this,lt).requestAnimFrame()}};Ye=new WeakSet,He=async function(){const e=await(0,g.U9)(this,rt,it).call(this);e.addEventListener("press",(async e=>{const t=await this.model.twistySceneModel.movePressInput.get();"basic"===t&&this.dispatchEvent(new CustomEvent("press",{detail:{pressInfo:e.detail,cameraPromise:this.camera()}}))}))},$e=new WeakMap,Qe=new WeakMap,Je=new WeakMap,Xe=new WeakSet,Ze=async function(){const e=await(0,g.ac)(this,$e).queue(this.camera()),t=this.contentWrapper.clientWidth,n=this.contentWrapper.clientHeight;(0,g.qx)(this,Qe,t),(0,g.qx)(this,Je,n);const r=0;let i=0,s=0;if(n>t&&(s=n-t,i=-Math.floor(.5*s)),e.aspect=t/n,e.setViewOffset(t,n-s,r,i,t,n),e.updateProjectionMatrix(),this.clearCanvas(),this.rendererIsShared){const e=await this.canvasInfo();e.canvas.width=t*ye(),e.canvas.height=n*ye(),e.canvas.style.width=t.toString(),e.canvas.style.height=n.toString()}else{const e=await this.renderer();e.setSize(t,n,!0)}this.scheduleRender()},et=new WeakMap,tt=new WeakMap,nt=new WeakMap,rt=new WeakSet,it=async function(){return(0,g.ac)(this,nt)??(0,g.qx)(this,nt,(async()=>{const e=new Ce((await this.canvasInfo()).canvas);return this.model?.twistySceneModel.dragInput.addFreshListener((t=>{let n=!1;switch(t){case"auto":e.start(),n=!0;break;case"none":e.stop();break}this.contentWrapper.classList.toggle("drag-input-enabled",n)})),e})())},st=new WeakMap,ot=new WeakMap,at=new WeakMap,lt=new WeakMap,R.define("twisty-3d-vantage",yt);var xt=class extends U{constructor(e){super(),this.model=e,(0,g.Ko)(this,dt,new ie(this,"back-view-",["auto","none","side-by-side","top-right"])),(0,g.Ko)(this,pt,new r.Yf),(0,g.Ko)(this,ft,null),(0,g.Ko)(this,mt,void 0),(0,g.Ko)(this,gt,new Set),(0,g.Ko)(this,vt,null),(0,g.Ko)(this,wt,new r._b)}disconnect(){(0,g.ac)(this,pt).disconnect()}async connectedCallback(){this.addCSS(j);const e=new yt(this.model,this);this.addVantage(e),this.model&&((0,g.ac)(this,pt).addMultiListener([this.model.puzzleLoader,this.model.visualizationStrategy],this.onPuzzle.bind(this)),(0,g.ac)(this,pt).addListener(this.model.backView,this.onBackView.bind(this))),this.scheduleRender()}setBackView(e){const t=["side-by-side","top-right"].includes(e),n=null!==(0,g.ac)(this,ft);(0,g.ac)(this,dt).setValue(e),t?n||((0,g.qx)(this,ft,new yt(this.model,this,{backView:!0})),this.addVantage((0,g.ac)(this,ft)),this.scheduleRender()):(0,g.ac)(this,ft)&&(this.removeVantage((0,g.ac)(this,ft)),(0,g.qx)(this,ft,null))}onBackView(e){this.setBackView(e)}async onPress(e){const t=(0,g.ac)(this,vt);if(!t)return void console.info("no wrapper; skipping scene wrapper press!");const n=(async()=>{const[t,n]=await Promise.all([e.detail.cameraPromise,r.v6]),i=new n.Raycaster,s=new(await r.v6).Vector2(e.detail.pressInfo.normalizedX,e.detail.pressInfo.normalizedY);return i.setFromCamera(s,t),i})();t.raycastMove(n,{invert:!e.detail.pressInfo.rightClick,depth:e.detail.pressInfo.keys.ctrlOrMetaKey?"rotation":e.detail.pressInfo.keys.shiftKey?"secondSlice":"none"})}async scene(){return(0,g.ac)(this,mt)??(0,g.qx)(this,mt,(async()=>new(await r.v6).Scene)())}addVantage(e){e.addEventListener("press",this.onPress.bind(this)),(0,g.ac)(this,gt).add(e),this.contentWrapper.appendChild(e)}removeVantage(e){(0,g.ac)(this,gt).delete(e),e.remove(),e.disconnect(),(0,g.ac)(this,vt)?.disconnect()}experimentalVantages(){return(0,g.ac)(this,gt).values()}scheduleRender(){for(const e of(0,g.ac)(this,gt))e.scheduleRender()}async setCurrentTwisty3DPuzzleWrapper(e,t){const n=(0,g.ac)(this,vt);try{(0,g.qx)(this,vt,t),n?.disconnect(),e.add(await t.twisty3DPuzzle())}finally{n&&e.remove(await n.twisty3DPuzzle())}}async onPuzzle(e){if("2D"===e[1])return;(0,g.ac)(this,vt)?.disconnect();const[t,n]=await(0,g.ac)(this,wt).queue(Promise.all([this.scene(),new se(this.model,this,e[0],e[1])]));this.setCurrentTwisty3DPuzzleWrapper(t,n)}};dt=new WeakMap,pt=new WeakMap,ft=new WeakMap,mt=new WeakMap,gt=new WeakMap,vt=new WeakMap,wt=new WeakMap,R.define("twisty-3d-scene-wrapper",xt);var bt=new O("\n:host {\n  width: 384px;\n  height: 24px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n}\n\n.wrapper {\n  grid-auto-flow: column;\n}\n\n.viewer-link-none .twizzle-link-button {\n  display: none;\n}\n\n.wrapper twisty-button,\n.wrapper twisty-control-button {\n  width: inherit;\n  height: inherit;\n}\n"),Mt=new O('\n:host:not([hidden]) {\n  display: grid;\n}\n\n:host {\n  width: 48px;\n  height: 24px;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n}\n\nbutton {\n  width: 100%;\n  height: 100%;\n  border: none;\n  \n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: contain;\n\n  background-color: rgba(196, 196, 196, 0.75);\n}\n\nbutton:enabled {\n  background-color: rgba(196, 196, 196, 0.75)\n}\n\nbutton:disabled {\n  background-color: rgba(0, 0, 0, 0.4);\n  opacity: 0.25;\n  pointer-events: none;\n}\n\nbutton:enabled:hover {\n  background-color: rgba(255, 255, 255, 0.75);\n  box-shadow: 0 0 1em rgba(0, 0, 0, 0.25);\n  cursor: pointer;\n}\n\n/* TODO: fullscreen icons have too much padding?? */\n.svg-skip-to-start button,\nbutton.svg-skip-to-start {\n  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjQzIDEwMzdxMTktMTkgMzItMTN0MTMgMzJ2MTQ3MnEwIDI2LTEzIDMydC0zMi0xM2wtNzEwLTcxMHEtOS05LTEzLTE5djcxMHEwIDI2LTEzIDMydC0zMi0xM2wtNzEwLTcxMHEtOS05LTEzLTE5djY3OHEwIDI2LTE5IDQ1dC00NSAxOUg5NjBxLTI2IDAtNDUtMTl0LTE5LTQ1VjEwODhxMC0yNiAxOS00NXQ0NS0xOWgxMjhxMjYgMCA0NSAxOXQxOSA0NXY2NzhxNC0xMSAxMy0xOWw3MTAtNzEwcTE5LTE5IDMyLTEzdDEzIDMydjcxMHE0LTExIDEzLTE5eiIvPjwvc3ZnPg==");\n}\n\n.svg-skip-to-end button,\nbutton.svg-skip-to-end {\n  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik05NDEgMjU0N3EtMTkgMTktMzIgMTN0LTEzLTMyVjEwNTZxMC0yNiAxMy0zMnQzMiAxM2w3MTAgNzEwcTggOCAxMyAxOXYtNzEwcTAtMjYgMTMtMzJ0MzIgMTNsNzEwIDcxMHE4IDggMTMgMTl2LTY3OHEwLTI2IDE5LTQ1dDQ1LTE5aDEyOHEyNiAwIDQ1IDE5dDE5IDQ1djE0MDhxMCAyNi0xOSA0NXQtNDUgMTloLTEyOHEtMjYgMC00NS0xOXQtMTktNDV2LTY3OHEtNSAxMC0xMyAxOWwtNzEwIDcxMHEtMTkgMTktMzIgMTN0LTEzLTMydi03MTBxLTUgMTAtMTMgMTl6Ii8+PC9zdmc+");\n}\n\n.svg-step-forward button,\nbutton.svg-step-forward {\n  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjg4IDE1NjhxMCAyNi0xOSA0NWwtNTEyIDUxMnEtMTkgMTktNDUgMTl0LTQ1LTE5cS0xOS0xOS0xOS00NXYtMjU2aC0yMjRxLTk4IDAtMTc1LjUgNnQtMTU0IDIxLjVxLTc2LjUgMTUuNS0xMzMgNDIuNXQtMTA1LjUgNjkuNXEtNDkgNDIuNS04MCAxMDF0LTQ4LjUgMTM4LjVxLTE3LjUgODAtMTcuNSAxODEgMCA1NSA1IDEyMyAwIDYgMi41IDIzLjV0Mi41IDI2LjVxMCAxNS04LjUgMjV0LTIzLjUgMTBxLTE2IDAtMjgtMTctNy05LTEzLTIydC0xMy41LTMwcS03LjUtMTctMTAuNS0yNC0xMjctMjg1LTEyNy00NTEgMC0xOTkgNTMtMzMzIDE2Mi00MDMgODc1LTQwM2gyMjR2LTI1NnEwLTI2IDE5LTQ1dDQ1LTE5cTI2IDAgNDUgMTlsNTEyIDUxMnExOSAxOSAxOSA0NXoiLz48L3N2Zz4=");\n}\n\n.svg-step-backward button,\nbutton.svg-step-backward {\n  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNjg4IDIwNDhxMCAxNjYtMTI3IDQ1MS0zIDctMTAuNSAyNHQtMTMuNSAzMHEtNiAxMy0xMyAyMi0xMiAxNy0yOCAxNy0xNSAwLTIzLjUtMTB0LTguNS0yNXEwLTkgMi41LTI2LjV0Mi41LTIzLjVxNS02OCA1LTEyMyAwLTEwMS0xNy41LTE4MXQtNDguNS0xMzguNXEtMzEtNTguNS04MC0xMDF0LTEwNS41LTY5LjVxLTU2LjUtMjctMTMzLTQyLjV0LTE1NC0yMS41cS03Ny41LTYtMTc1LjUtNmgtMjI0djI1NnEwIDI2LTE5IDQ1dC00NSAxOXEtMjYgMC00NS0xOWwtNTEyLTUxMnEtMTktMTktMTktNDV0MTktNDVsNTEyLTUxMnExOS0xOSA0NS0xOXQ0NSAxOXExOSAxOSAxOSA0NXYyNTZoMjI0cTcxMyAwIDg3NSA0MDMgNTMgMTM0IDUzIDMzM3oiLz48L3N2Zz4=");\n}\n\n.svg-pause button,\nbutton.svg-pause {\n  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNTYwIDEwODh2MTQwOHEwIDI2LTE5IDQ1dC00NSAxOWgtNTEycS0yNiAwLTQ1LTE5dC0xOS00NVYxMDg4cTAtMjYgMTktNDV0NDUtMTloNTEycTI2IDAgNDUgMTl0MTkgNDV6bS04OTYgMHYxNDA4cTAgMjYtMTkgNDV0LTQ1IDE5aC01MTJxLTI2IDAtNDUtMTl0LTE5LTQ1VjEwODhxMC0yNiAxOS00NXQ0NS0xOWg1MTJxMjYgMCA0NSAxOXQxOSA0NXoiLz48L3N2Zz4=");\n}\n\n.svg-play button,\nbutton.svg-play {\n  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzNTg0IiBoZWlnaHQ9IjM1ODQiIHZpZXdCb3g9IjAgMCAzNTg0IDM1ODQiPjxwYXRoIGQ9Ik0yNDcyLjUgMTgyM2wtMTMyOCA3MzhxLTIzIDEzLTM5LjUgM3QtMTYuNS0zNlYxMDU2cTAtMjYgMTYuNS0zNnQzOS41IDNsMTMyOCA3MzhxMjMgMTMgMjMgMzF0LTIzIDMxeiIvPjwvc3ZnPg==");\n}\n\n.svg-enter-fullscreen button,\nbutton.svg-enter-fullscreen {\n  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4Ij48cGF0aCBkPSJNMiAyaDI0djI0SDJ6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTkgMTZIN3Y1aDV2LTJIOXYtM3ptLTItNGgyVjloM1Y3SDd2NXptMTIgN2gtM3YyaDV2LTVoLTJ2M3pNMTYgN3YyaDN2M2gyVjdoLTV6Ii8+PC9zdmc+");\n}\n\n.svg-exit-fullscreen button,\nbutton.svg-exit-fullscreen {\n  background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMjgiIHZpZXdCb3g9IjAgMCAyOCAyOCIgd2lkdGg9IjI4Ij48cGF0aCBkPSJNMiAyaDI0djI0SDJ6IiBmaWxsPSJub25lIi8+PHBhdGggZD0iTTcgMThoM3YzaDJ2LTVIN3Yyem0zLThIN3YyaDVWN2gtMnYzem02IDExaDJ2LTNoM3YtMmgtNXY1em0yLTExVjdoLTJ2NWg1di0yaC0zeiIvPjwvc3ZnPg==");\n}\n\n.svg-twizzle-tw button,\nbutton.svg-twizzle-tw {\n  background-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODY0IiBoZWlnaHQ9IjYwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMzk3LjU4MSAxNTEuMTh2NTcuMDg0aC04OS43MDN2MjQwLjM1MmgtNjYuOTU1VjIwOC4yNjRIMTUxLjIydi01Ny4wODNoMjQ2LjM2MXptNTQuMzEgNzEuNjc3bDcuNTEyIDMzLjY5MmMyLjcxOCAxMi4xNiA1LjU4IDI0LjY4IDguNTg0IDM3LjU1NWEyMTgwLjc3NSAyMTgwLjc3NSAwIDAwOS40NDIgMzguODQzIDEyNjYuMyAxMjY2LjMgMCAwMDEwLjA4NiAzNy41NTVjMy43Mi0xMi41OSA3LjM2OC0yNS40NjYgMTAuOTQ1LTM4LjYyOCAzLjU3Ni0xMy4xNjIgNy4wMS0yNi4xMSAxMC4zLTM4Ljg0M2w1Ljc2OS0yMi40NTZjMS4yNDgtNC44ODcgMi40NzItOS43MDUgMy42NzQtMTQuNDU1IDMuMDA0LTExLjg3NSA1LjY1MS0yMi45NjIgNy45NC0zMy4yNjNoNDYuMzU0bDIuMzg0IDEwLjU2M2EyMDAwLjc3IDIwMDAuNzcgMCAwMDMuOTM1IDE2LjgyOGw2LjcxMSAyNy43MWMxLjIxMyA0Ljk1NiAyLjQ1IDkuOTggMy43MDkgMTUuMDczYTMxMTkuNzc3IDMxMTkuNzc3IDAgMDA5Ljg3MSAzOC44NDMgMTI0OS4yMjcgMTI0OS4yMjcgMCAwMDEwLjczIDM4LjYyOCAxOTA3LjYwNSAxOTA3LjYwNSAwIDAwMTAuMzAxLTM3LjU1NSAxMzk3Ljk0IDEzOTcuOTQgMCAwMDkuNjU3LTM4Ljg0M2w0LjQtMTkuMDQ2Yy43MTUtMy4xMyAxLjQyMS02LjIzNiAyLjExOC05LjMyMWw5LjU3Ny00Mi44OGg2Ni41MjZhMjk4OC43MTggMjk4OC43MTggMCAwMS0xOS41MjkgNjYuMzExbC01LjcyOCAxOC40ODJhMzIzNy40NiAzMjM3LjQ2IDAgMDEtMTQuMDE1IDQzLjc1MmMtNi40MzggMTkuNi0xMi43MzMgMzcuNjk4LTE4Ljg4NSA1NC4yOTRsLTMuMzA2IDguODI1Yy00Ljg4NCAxMi44OTgtOS40MzMgMjQuMjYzLTEzLjY0NyAzNC4wOTVoLTQ5Ljc4N2E4NDE3LjI4OSA4NDE3LjI4OSAwIDAxLTIxLjAzMS02NC44MDkgMTI4OC42ODYgMTI4OC42ODYgMCAwMS0xOC44ODUtNjQuODEgMTk3Mi40NDQgMTk3Mi40NDQgMCAwMS0xOC4yNCA2NC44MSAyNTc5LjQxMiAyNTc5LjQxMiAwIDAxLTIwLjM4OCA2NC44MWgtNDkuNzg3Yy00LjY4Mi0xMC45MjYtOS43Mi0yMy43NDMtMTUuMTEtMzguNDUxbC0xLjYyOS00LjQ3Yy01LjI1OC0xNC41MjEtMTAuNjgtMzAuMTkyLTE2LjI2Ni00Ny4wMTRsLTIuNDA0LTcuMjhjLTYuNDM4LTE5LjYtMTMuMDItNDAuMzQ0LTE5Ljc0My02Mi4yMzRhMjk4OC43MDcgMjk4OC43MDcgMCAwMS0xOS41MjktNjYuMzExaDY3LjM4NXoiIGZpbGw9IiM0Mjg1RjQiIGZpbGwtcnVsZT0ibm9uemVybyIvPjwvc3ZnPg==");\n}\n'),St="undefined"===typeof document?null:document,kt=St?.fullscreenEnabled||!!St?.webkitFullscreenEnabled;function zt(){return document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen()}function It(){return document.fullscreenElement?document.fullscreenElement:document.webkitFullscreenElement??null}function Tt(e){return e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen()}var Lt,Et,At,Ct=["skip-to-start","skip-to-end","step-forward","step-backward","pause","play","enter-fullscreen","exit-fullscreen","twizzle-tw"],Dt=class extends r.Rs{derive(e){const t={fullscreen:{enabled:kt,icon:null===document.fullscreenElement?"enter-fullscreen":"exit-fullscreen",title:"Enter fullscreen"},"jump-to-start":{enabled:!e.coarseTimelineInfo.atStart,icon:"skip-to-start",title:"Restart"},"play-step-backwards":{enabled:!e.coarseTimelineInfo.atStart,icon:"step-backward",title:"Step backward"},"play-pause":{enabled:!(e.coarseTimelineInfo.atStart&&e.coarseTimelineInfo.atEnd),icon:e.coarseTimelineInfo.playing?"pause":"play",title:e.coarseTimelineInfo.playing?"Pause":"Play"},"play-step":{enabled:!e.coarseTimelineInfo.atEnd,icon:"step-forward",title:"Step forward"},"jump-to-end":{enabled:!e.coarseTimelineInfo.atEnd,icon:"skip-to-end",title:"Skip to End"},"twizzle-link":{enabled:!0,icon:"twizzle-tw",title:"View at Twizzle",hidden:"none"===e.viewerLink}};return t}},Rt={fullscreen:!0,"jump-to-start":!0,"play-step-backwards":!0,"play-pause":!0,"play-step":!0,"jump-to-end":!0,"twizzle-link":!0},Nt=class extends U{constructor(e,t,n){super(),this.model=e,this.controller=t,this.fullscreenElement=n,(0,g.Ko)(this,Lt),this.buttons=null}connectedCallback(){this.addCSS(bt);const e={};for(const t in Rt){const n=new Pt;e[t]=n,n.addEventListener("click",(()=>(0,g.U9)(this,Lt,Et).call(this,t))),this.addElement(n)}this.buttons=e,this.model?.buttonAppearance.addFreshListener(this.update.bind(this))}async onFullscreenButton(){if(!this.fullscreenElement)throw new Error("Attempted to go fullscreen without an element.");if(It()===this.fullscreenElement)zt();else{this.buttons?.fullscreen.setIcon("exit-fullscreen"),Tt(this.fullscreenElement);const e=()=>{It()!==this.fullscreenElement&&(this.buttons?.fullscreen.setIcon("enter-fullscreen"),window.removeEventListener("fullscreenchange",e))};window.addEventListener("fullscreenchange",e)}}async update(e){for(const t in Rt){const n=this.buttons[t],r=e[t];n.button.disabled=!r.enabled,n.button.title=r.title,n.setIcon(r.icon),n.hidden=!!r.hidden}}};Lt=new WeakSet,Et=function(e){switch(e){case"fullscreen":this.onFullscreenButton();break;case"jump-to-start":this.controller?.jumpToStart({flash:!0});break;case"play-step-backwards":this.controller?.animationController.play({direction:-1,untilBoundary:"move"});break;case"play-pause":this.controller?.togglePlay();break;case"play-step":this.controller?.animationController.play({direction:1,untilBoundary:"move"});break;case"jump-to-end":this.controller?.jumpToEnd({flash:!0});break;case"twizzle-link":this.controller?.visitTwizzleLink();break;default:throw new Error("Missing command")}},R.define("twisty-buttons",Nt);var Pt=class extends U{constructor(){super(...arguments),this.button=document.createElement("button"),(0,g.Ko)(this,At,new ie(this,"svg-",Ct))}connectedCallback(){this.addCSS(Mt),this.addElement(this.button)}setIcon(e){(0,g.ac)(this,At).setValue(e)}};At=new WeakMap,R.define("twisty-button",Pt);var Ot=new O("\n:host {\n  width: 384px;\n  height: 16px;\n  display: grid;\n}\n\n.wrapper {\n  width: 100%;\n  height: 100%;\n  display: grid;\n  overflow: hidden;\n  backdrop-filter: blur(4px);\n  -webkit-backdrop-filter: blur(4px);\n  background: rgba(196, 196, 196, 0.75)\n}\n\ninput:not(:disabled) {\n  cursor: ew-resize;\n}\n"),Ut=!1,jt=!1;St?.addEventListener("mousedown",(function(e){e.which&&(jt=!0)}),!0),St?.addEventListener("mouseup",(function(e){e.which&&(jt=!1)}),!0);var _t=0,Ft=0;function Bt(e){_t=e.pageY}St?.addEventListener("mousedown",(()=>{Ft++}),!1),St?.addEventListener("mousemove",Bt,!1),St?.addEventListener("mouseenter",Bt,!1);var Wt,qt=0,Vt=0,Kt=!1,Gt=0,Yt=class extends U{constructor(e){super(),this.model=e,(0,g.Ko)(this,Wt,null)}async onDetailedTimelineInfo(e){const t=await this.inputElem();t.min=e.timeRange.start.toString(),t.max=e.timeRange.end.toString(),t.disabled=t.min===t.max,t.value=e.timestamp.toString()}async connectedCallback(){this.addCSS(Ot),this.addElement(await this.inputElem())}async inputElem(){return(0,g.ac)(this,Wt)??(0,g.qx)(this,Wt,(async()=>{const e=document.createElement("input");return e.type="range",e.disabled=!0,this.model?.detailedTimelineInfo.addFreshListener(this.onDetailedTimelineInfo.bind(this)),e.addEventListener("input",this.onInput.bind(this)),e})())}async onInput(e){if(Kt)return;const t=await this.inputElem();await this.slowDown(e,t);const n=parseInt(t.value);this.model?.playingInfo.set({playing:!1}),this.model?.timestampRequest.set(n)}async slowDown(e,t){if(Ut&&jt){const n=t.getBoundingClientRect(),r=n.top+n.height/2;console.log(r,e,_t,jt);const i=Math.abs(r-_t);let s=1;i>64&&(s=Math.max(Math.pow(2,-(i-64)/64),1/32));const o=parseInt(t.value);if(console.log("cl",Gt,Ft,o),Gt===Ft){const e=(o-Vt)*s;console.log("delta",e,i),Kt=!0;let n=o;n=qt+e*s+(o-qt)*Math.min(1,Math.pow(.5,i*i/64)),t.value=n.toString(),console.log(s),Kt=!1,this.contentWrapper.style.opacity=s.toString()}else Gt=Ft;Vt=o}}};Wt=new WeakMap,R.define("twisty-scrubber",Yt);var Ht=null;async function $t(e,t){const n=t?.width??2048,i=t?.height??2048,s=n/i,o=Ht??(Ht=await(async()=>new(await r.v6).PerspectiveCamera(20,s,.1,20))()),a=new(await r.v6).Scene,l=new se(e,{scheduleRender:()=>{}},await e.puzzleLoader.get(),await e.visualizationStrategy.get());await e.twistySceneModel.stickering.get(),await new Promise((e=>setTimeout(e,1e3))),await e.legacyPosition.get(),a.add(await l.twisty3DPuzzle());const c=await e.twistySceneModel.orbitCoordinates.get();await Ve(o,c);const u=new(await r.v6).WebGLRenderer({antialias:!0,alpha:!0});u.setSize(n,i),u.render(a,o);const h=u.domElement.toDataURL(),d=await Qt(e);return{dataURL:h,download:async e=>{Jt(h,e??d)}}}async function Qt(e){const[t,n]=await Promise.all([e.puzzleID.get(),e.alg.get()]);return`[${t}]${0===n.alg.experimentalNumUnits()?"":" "+n.alg.toString()}`}function Jt(e,t,n="png"){const r=document.createElement("a");r.href=e,r.download=`${t}.${n}`,r.click()}var Xt=new O("\n:host {\n  width: 384px;\n  height: 256px;\n  display: grid;\n\n  -webkit-user-select: none;\n  user-select: none;\n}\n\n.wrapper {\n  display: grid;\n  overflow: hidden;\n  grid-template-rows: 7fr minmax(1.5em, 0.5fr) minmax(2em, 1fr);\n}\n\n.wrapper > * {\n  width: inherit;\n  height: inherit;\n  overflow: hidden;\n}\n\n.wrapper.controls-none {\n  grid-template-rows: 7fr;\n}\n\n.wrapper.controls-none twisty-scrubber,\n.wrapper.controls-none twisty-control-button-panel ,\n.wrapper.controls-none twisty-scrubber,\n.wrapper.controls-none twisty-buttons {\n  display: none;\n}\n\ntwisty-scrubber {\n  background: rgba(196, 196, 196, 0.5);\n}\n\n.wrapper.checkered {\n  background-color: #EAEAEA;\n  background-image: linear-gradient(45deg, #DDD 25%, transparent 25%, transparent 75%, #DDD 75%, #DDD),\n    linear-gradient(45deg, #DDD 25%, transparent 25%, transparent 75%, #DDD 75%, #DDD);\n  background-size: 32px 32px;\n  background-position: 0 0, 16px 16px;\n}\n\n.visualization-wrapper > * {\n  width: 100%;\n  height: 100%;\n}\n\n.error-elem {\n  width: 100%;\n  height: 100%;\n  display: none;\n  place-content: center;\n  font-family: sans-serif;\n  box-shadow: inset 0 0 2em rgb(255, 0, 0);\n  color: red;\n  text-shadow: 0 0 0.2em white;\n  background: rgba(255, 255, 255, 0.25);\n}\n\n.wrapper.error .visualization-wrapper {\n  display: none;\n}\n\n.wrapper.error .error-elem {\n  display: grid;\n}\n"),Zt=class extends r.C0{getDefaultValue(){return null}},en=class extends r.q7{getDefaultValue(){return null}derive(e){return"string"===typeof e?new URL(e,location.href):e}},tn=class{constructor(e){this.warnings=Object.freeze(e?.warnings??[]),this.errors=Object.freeze(e?.errors??[]),Object.freeze(this)}add(e){return new tn({warnings:this.warnings.concat(e?.warnings??[]),errors:this.errors.concat(e?.errors??[])})}log(){this.errors.length>0?console.error(`🚨 ${this.errors[0]}`):this.warnings.length>0?console.warn(`⚠️ ${this.warnings[0]}`):console.info("😎 No issues!")}};function nn(e){try{const t=i.g9.fromString(e),n=[];return t.toString()!==e&&n.push("Alg is non-canonical!"),{alg:t,issues:new tn({warnings:n})}}catch(t){return{alg:new i.g9,issues:new tn({errors:[`Malformed alg: ${t.toString()}`]})}}}function rn(e,t){return e.alg.isIdentical(t.alg)&&y(e.issues.warnings,t.issues.warnings)&&y(e.issues.errors,t.issues.errors)}var sn=class extends r.q7{getDefaultValue(){return{alg:new i.g9,issues:new tn}}canReuseValue(e,t){return rn(e,t)}async derive(e){return"string"===typeof e?nn(e):{alg:e,issues:new tn}}},on=class extends r.Rs{derive(e){return e.kpuzzle.algToTransformation(e.setupAlg.alg)}},an=class extends r.Rs{derive(e){if(e.setupTransformation)return e.setupTransformation;switch(e.setupAnchor){case"start":return e.setupAlgTransformation;case"end":{const t=e.indexer.transformationAtIndex(e.indexer.numAnimatedLeaves()),n=t.invert();return e.setupAlgTransformation.applyTransformation(n)}default:throw new Error("Unimplemented!")}}},ln=class extends r.C0{getDefaultValue(){return{move:null,amount:0}}canReuseValue(e,t){return e.move===t.move&&e.amount===t.amount}},cn=class extends r.Rs{derive(e){return{stateIndex:e.currentMoveInfo.stateIndex,movesFinishing:e.currentMoveInfo.movesFinishing.map((e=>e.move)),movesFinished:e.currentMoveInfo.movesFinished.map((e=>e.move))}}canReuse(e,t){return e.stateIndex===t.stateIndex&&x(e.movesFinishing,t.movesFinishing,((e,t)=>e.isIdentical(t)))&&x(e.movesFinished,t.movesFinished,((e,t)=>e.isIdentical(t)))}},un=class extends r.Rs{derive(e){function t(t){return e.detailedTimelineInfo.atEnd&&null!==e.catchUpMove.move&&t.currentMoves.push({move:e.catchUpMove.move,direction:-1,fraction:1-e.catchUpMove.amount,startTimestamp:-1,endTimestamp:-1}),t}if(e.indexer.currentMoveInfo)return t(e.indexer.currentMoveInfo(e.detailedTimelineInfo.timestamp));{const n=e.indexer.timestampToIndex(e.detailedTimelineInfo.timestamp),r={stateIndex:n,currentMoves:[],movesFinishing:[],movesFinished:[],movesStarting:[],latestStart:-1/0,earliestEnd:1/0};if(e.indexer.numAnimatedLeaves()>0){const s=e.indexer.getAnimLeaf(n)?.as(i.A6);if(!s)return t(r);const o=e.indexer.indexToMoveStartTimestamp(n),a=e.indexer.moveDuration(n),l=(e.detailedTimelineInfo.timestamp-o)/a,c=o+a,u={move:s,direction:1,fraction:l,startTimestamp:o,endTimestamp:c};0===l?r.movesStarting.push(u):1===l?r.movesFinishing.push(u):(r.currentMoves.push(u),r.latestStart=Math.max(r.latestStart,o),r.earliestEnd=Math.min(r.earliestEnd,c))}return t(r)}}},hn=class extends r.Rs{derive(e){let t=e.indexer.transformationAtIndex(e.currentLeavesSimplified.stateIndex);t=e.anchoredStart.applyTransformation(t);for(const n of e.currentLeavesSimplified.movesFinishing)t=t.applyMove(n);for(const n of e.currentLeavesSimplified.movesFinished)t=t.applyMove(n);return t.toKState()}};function dn(e){switch(Math.abs(e)){case 0:return 0;case 1:return 1e3;case 2:return 1500;default:return 2e3}}var pn=class extends i.Jf{constructor(e=dn){super(),this.durationForAmount=e}traverseAlg(e){let t=0;for(const n of e.units())t+=this.traverseUnit(n);return t}traverseGrouping(e){return e.amount*this.traverseAlg(e.alg)}traverseMove(e){return this.durationForAmount(e.amount)}traverseCommutator(e){return 2*(this.traverseAlg(e.A)+this.traverseAlg(e.B))}traverseConjugate(e){return 2*this.traverseAlg(e.A)+this.traverseAlg(e.B)}traversePause(e){return this.durationForAmount(1)}traverseNewline(e){return this.durationForAmount(1)}traverseLineComment(e){return this.durationForAmount(0)}},fn=class{constructor(e,t){this.kpuzzle=e,this.durationFn=new pn(dn),this.moves=new i.g9(t.experimentalExpand())}getAnimLeaf(e){return Array.from(this.moves.units())[e]}indexToMoveStartTimestamp(e){const t=new i.g9(Array.from(this.moves.units()).slice(0,e));return this.durationFn.traverseAlg(t)}timestampToIndex(e){let t,n=0;for(t=0;t<this.numAnimatedLeaves();t++)if(n+=this.durationFn.traverseMove(this.getAnimLeaf(t)),n>=e)return t;return t}stateAtIndex(e){return this.kpuzzle.startState().applyTransformation(this.transformationAtIndex(e))}transformationAtIndex(e){let t=this.kpuzzle.identityTransformation();for(const n of Array.from(this.moves.units()).slice(0,e))t=t.applyMove(n);return t}algDuration(){return this.durationFn.traverseAlg(this.moves)}numAnimatedLeaves(){return f(this.moves)}moveDuration(e){return this.durationFn.traverseMove(this.getAnimLeaf(e))}},mn={u:"y",l:"x",f:"z",r:"x",b:"z",d:"y",m:"x",e:"y",s:"z",x:"x",y:"y",z:"z"};function gn(e,t){return mn[e.family[0].toLowerCase()]===mn[t.family[0].toLowerCase()]}var vn=class extends i.Jf{traverseAlg(e){const t=[];for(const n of e.units())t.push(this.traverseUnit(n));return Array.prototype.concat(...t)}traverseGroupingOnce(e){if(e.experimentalIsEmpty())return[];for(const s of e.units())if(!s.is(i.A6))return this.traverseAlg(e);const t=Array.from(e.units());let n=dn(t[0].amount);for(let i=0;i<t.length-1;i++){for(let n=1;n<t.length;n++)if(!gn(t[i],t[n]))return this.traverseAlg(e);n=Math.max(n,dn(t[i].amount))}const r=t.map((e=>({animLeafUnit:e,msUntilNext:0,duration:n})));return r[r.length-1].msUntilNext=n,r}traverseGrouping(e){const t=[],n=e.amount>0?e.alg:e.alg.invert();for(let r=0;r<Math.abs(e.amount);r++)t.push(this.traverseGroupingOnce(n));return Array.prototype.concat(...t)}traverseMove(e){const t=dn(e.amount);return[{animLeafUnit:e,msUntilNext:t,duration:t}]}traverseCommutator(e){const t=[],n=[e.A,e.B,e.A.invert(),e.B.invert()];for(const r of n)t.push(this.traverseGroupingOnce(r));return Array.prototype.concat(...t)}traverseConjugate(e){const t=[],n=[e.A,e.B,e.A.invert()];for(const r of n)t.push(this.traverseGroupingOnce(r));return Array.prototype.concat(...t)}traversePause(e){const t=dn(1);return[{animLeafUnit:e,msUntilNext:t,duration:t}]}traverseNewline(e){return[]}traverseLineComment(e){return[]}},wn=new vn,yn=wn.traverseAlg.bind(wn);function xn(e){let t=0;const n=yn(e).map((e=>{const n={animLeaf:e.animLeafUnit,start:t,end:t+e.duration};return t+=e.msUntilNext,n}));return n}var bn={"y' y' U' E D R2 r2 F2 B2 U E D' R2 L2' z2 S2 U U D D S2 F2' B2":[{animLeaf:new i.A6("y",-1),start:0,end:1e3},{animLeaf:new i.A6("y",-1),start:1e3,end:2e3},{animLeaf:new i.A6("U",-1),start:1e3,end:1600},{animLeaf:new i.A6("E",1),start:1200,end:1800},{animLeaf:new i.A6("D"),start:1400,end:2e3},{animLeaf:new i.A6("R",2),start:2e3,end:3500},{animLeaf:new i.A6("r",2),start:2e3,end:3500},{animLeaf:new i.A6("F",2),start:3500,end:4200},{animLeaf:new i.A6("B",2),start:3800,end:4500},{animLeaf:new i.A6("U",1),start:4500,end:5500},{animLeaf:new i.A6("E",1),start:4500,end:5500},{animLeaf:new i.A6("D",-1),start:4500,end:5500},{animLeaf:new i.A6("R",2),start:5500,end:6500},{animLeaf:new i.A6("L",-2),start:5500,end:6500},{animLeaf:new i.A6("z",2),start:5500,end:6500},{animLeaf:new i.A6("S",2),start:6500,end:7500},{animLeaf:new i.A6("U"),start:7500,end:8e3},{animLeaf:new i.A6("D"),start:7750,end:8250},{animLeaf:new i.A6("U"),start:8e3,end:8500},{animLeaf:new i.A6("D"),start:8250,end:8750},{animLeaf:new i.A6("S",2),start:8750,end:9250},{animLeaf:new i.A6("F",-2),start:8750,end:1e4},{animLeaf:new i.A6("B",2),start:8750,end:1e4}],"M' R' U' D' M R":[{animLeaf:new i.A6("M",-1),start:0,end:1e3},{animLeaf:new i.A6("R",-1),start:0,end:1e3},{animLeaf:new i.A6("U",-1),start:1e3,end:2e3},{animLeaf:new i.A6("D",-1),start:1e3,end:2e3},{animLeaf:new i.A6("M"),start:2e3,end:3e3},{animLeaf:new i.A6("R"),start:2e3,end:3e3}],"U' E' r E r2' E r U E":[{animLeaf:new i.A6("U",-1),start:0,end:1e3},{animLeaf:new i.A6("E",-1),start:0,end:1e3},{animLeaf:new i.A6("r"),start:1e3,end:2500},{animLeaf:new i.A6("E"),start:2500,end:3500},{animLeaf:new i.A6("r",-2),start:3500,end:5e3},{animLeaf:new i.A6("E"),start:5e3,end:6e3},{animLeaf:new i.A6("r"),start:6e3,end:7e3},{animLeaf:new i.A6("U"),start:7e3,end:8e3},{animLeaf:new i.A6("E"),start:7e3,end:8e3}]},Mn=class{constructor(e,t){this.kpuzzle=e,this.animLeaves=bn[t.toString()]??xn(t)}getAnimLeaf(e){return this.animLeaves[Math.min(e,this.animLeaves.length-1)]?.animLeaf??null}getAnimLeafWithRange(e){return this.animLeaves[Math.min(e,this.animLeaves.length-1)]}indexToMoveStartTimestamp(e){let t=0;return this.animLeaves.length>0&&(t=this.animLeaves[Math.min(e,this.animLeaves.length-1)].start),t}timestampToIndex(e){let t=0;for(t=0;t<this.animLeaves.length;t++)if(this.animLeaves[t].start>=e)return Math.max(0,t-1);return Math.max(0,t-1)}timestampToPosition(e,t){const n=this.currentMoveInfo(e);let r=t??this.kpuzzle.identityTransformation().toKState();for(const s of this.animLeaves.slice(0,n.stateIndex)){const e=s.animLeaf.as(i.A6);null!==e&&(r=r.applyMove(e))}return{state:r,movesInProgress:n.currentMoves}}currentMoveInfo(e){let t=1/0;for(const i of this.animLeaves)if(i.start<=e&&i.end>=e)t=Math.min(t,i.start);else if(i.start>e)break;const n=[],r=[],s=[],o=[];let a=-1/0,l=1/0,c=0;for(const u of this.animLeaves)if(u.end<=t)c++;else{if(u.start>e)break;{const t=u.animLeaf.as(i.A6);if(null!==t){let i=(e-u.start)/(u.end-u.start),c=!1;i>1&&(i=1,c=!0);const h={move:t,direction:1,fraction:i,startTimestamp:u.start,endTimestamp:u.end};switch(i){case 0:r.push(h);break;case 1:c?o.push(h):s.push(h);break;default:n.push(h),a=Math.max(a,u.start),l=Math.min(l,u.end)}}}}return{stateIndex:c,currentMoves:n,latestStart:a,earliestEnd:l,movesStarting:r,movesFinishing:s,movesFinished:o}}stateAtIndex(e,t){let n=t??this.kpuzzle.startState();for(let r=0;r<this.animLeaves.length&&r<e;r++){const e=this.animLeaves[r],t=e.animLeaf.as(i.A6);null!==t&&(n=n.applyMove(t))}return n}transformationAtIndex(e){let t=this.kpuzzle.identityTransformation();for(const n of this.animLeaves.slice(0,e)){const e=n.animLeaf.as(i.A6);null!==e&&(t=t.applyMove(e))}return t}algDuration(){let e=0;for(const t of this.animLeaves)e=Math.max(e,t.end);return e}numAnimatedLeaves(){return this.animLeaves.length}moveDuration(e){const t=this.getAnimLeafWithRange(e);return t.end-t.start}},Sn=class{constructor(e,t,n,r,i=[]){this.moveCount=e,this.duration=t,this.forward=n,this.backward=r,this.children=i}},kn=class extends i.Jf{constructor(e){super(),this.kpuzzle=e,this.durationFn=new pn(dn),this.cache={},this.identity=e.identityTransformation(),this.dummyLeaf=new Sn(0,0,this.identity,this.identity,[])}traverseAlg(e){let t=0,n=0,r=this.identity;const i=[];for(const s of e.units()){const e=this.traverseUnit(s);t+=e.moveCount,n+=e.duration,r=r===this.identity?e.forward:r.applyTransformation(e.forward),i.push(e)}return new Sn(t,n,r,r.invert(),i)}traverseGrouping(e){const t=this.traverseAlg(e.alg);return this.mult(t,e.amount,[t])}traverseMove(e){const t=e.toString();let n=this.cache[t];if(n)return n;const r=this.kpuzzle.moveToTransformation(e);return n=new Sn(1,this.durationFn.traverseUnit(e),r,r.invert()),this.cache[t]=n,n}traverseCommutator(e){const t=this.traverseAlg(e.A),n=this.traverseAlg(e.B),r=t.forward.applyTransformation(n.forward),i=t.backward.applyTransformation(n.backward),s=r.applyTransformation(i),o=new Sn(2*(t.moveCount+n.moveCount),2*(t.duration+n.duration),s,s.invert(),[t,n]);return this.mult(o,1,[o,t,n])}traverseConjugate(e){const t=this.traverseAlg(e.A),n=this.traverseAlg(e.B),r=t.forward.applyTransformation(n.forward),i=r.applyTransformation(t.backward),s=new Sn(2*t.moveCount+n.moveCount,2*t.duration+n.duration,i,i.invert(),[t,n]);return this.mult(s,1,[s,t,n])}traversePause(e){return new Sn(1,this.durationFn.traverseUnit(e),this.identity,this.identity)}traverseNewline(e){return this.dummyLeaf}traverseLineComment(e){return this.dummyLeaf}mult(e,t,n){const r=Math.abs(t),i=e.forward.selfMultiply(t);return new Sn(e.moveCount*r,e.duration*r,i,i.invert(),n)}},zn=class{constructor(e,t){this.apd=e,this.back=t}},In=class extends i.p5{constructor(e,t,n){super(),this.kpuzzle=e,this.algOrUnit=t,this.apd=n,this.i=-1,this.dur=-1,this.goali=-1,this.goaldur=-1,this.move=void 0,this.back=!1,this.moveDuration=0,this.st=this.kpuzzle.identityTransformation(),this.root=new zn(this.apd,!1)}moveByIndex(e){return this.i>=0&&this.i===e?void 0!==this.move:this.dosearch(e,1/0)}moveByDuration(e){return this.dur>=0&&this.dur<e&&this.dur+this.moveDuration>=e?void 0!==this.move:this.dosearch(1/0,e)}dosearch(e,t){this.goali=e,this.goaldur=t,this.i=0,this.dur=0,this.move=void 0,this.moveDuration=0,this.back=!1,this.st=this.kpuzzle.identityTransformation();const n=this.algOrUnit.is(i.g9)?this.traverseAlg(this.algOrUnit,this.root):this.traverseUnit(this.algOrUnit,this.root);return n}traverseAlg(e,t){if(!this.firstcheck(t))return!1;let n=t.back?e.experimentalNumUnits()-1:0;for(const r of(0,i.Bh)(e.units(),t.back?-1:1)){if(this.traverseUnit(r,new zn(t.apd.children[n],t.back)))return!0;n+=t.back?-1:1}return!1}traverseGrouping(e,t){if(!this.firstcheck(t))return!1;const n=this.domult(t,e.amount);return this.traverseAlg(e.alg,new zn(t.apd.children[0],n))}traverseMove(e,t){return!!this.firstcheck(t)&&(this.move=e,this.moveDuration=t.apd.duration,this.back=t.back,!0)}traverseCommutator(e,t){if(!this.firstcheck(t))return!1;const n=this.domult(t,1);return n?this.traverseAlg(e.B,new zn(t.apd.children[2],!n))||this.traverseAlg(e.A,new zn(t.apd.children[1],!n))||this.traverseAlg(e.B,new zn(t.apd.children[2],n))||this.traverseAlg(e.A,new zn(t.apd.children[1],n)):this.traverseAlg(e.A,new zn(t.apd.children[1],n))||this.traverseAlg(e.B,new zn(t.apd.children[2],n))||this.traverseAlg(e.A,new zn(t.apd.children[1],!n))||this.traverseAlg(e.B,new zn(t.apd.children[2],!n))}traverseConjugate(e,t){if(!this.firstcheck(t))return!1;const n=this.domult(t,1);return n?this.traverseAlg(e.A,new zn(t.apd.children[1],!n))||this.traverseAlg(e.B,new zn(t.apd.children[2],n))||this.traverseAlg(e.A,new zn(t.apd.children[1],n)):this.traverseAlg(e.A,new zn(t.apd.children[1],n))||this.traverseAlg(e.B,new zn(t.apd.children[2],n))||this.traverseAlg(e.A,new zn(t.apd.children[1],!n))}traversePause(e,t){return!!this.firstcheck(t)&&(this.move=e,this.moveDuration=t.apd.duration,this.back=t.back,!0)}traverseNewline(e,t){return!1}traverseLineComment(e,t){return!1}firstcheck(e){return!(e.apd.moveCount+this.i<=this.goali&&e.apd.duration+this.dur<this.goaldur)||this.keepgoing(e)}domult(e,t){let n=e.back;if(0===t)return n;t<0&&(n=!n,t=-t);const r=e.apd.children[0],i=Math.min(Math.floor((this.goali-this.i)/r.moveCount),Math.ceil((this.goaldur-this.dur)/r.duration-1));return i>0&&this.keepgoing(new zn(r,n),i),n}keepgoing(e,t=1){return this.i+=t*e.apd.moveCount,this.dur+=t*e.apd.duration,1!==t?e.back?this.st=this.st.applyTransformation(e.apd.backward.selfMultiply(t)):this.st=this.st.applyTransformation(e.apd.forward.selfMultiply(t)):e.back?this.st=this.st.applyTransformation(e.apd.backward):this.st=this.st.applyTransformation(e.apd.forward),!1}},Tn=16;function Ln(e,t){const n=new i.V0,r=new i.V0;for(const s of e.units())r.push(s),r.experimentalNumUnits()>=t&&(n.push(new i.Kz(r.toAlg())),r.reset());return n.push(new i.Kz(r.toAlg())),n.toAlg()}var En,An,Cn=class extends i.Jf{traverseAlg(e){const t=e.experimentalNumUnits();return t<Tn?e:Ln(e,Math.ceil(Math.sqrt(t)))}traverseGrouping(e){return new i.Kz(this.traverseAlg(e.alg),e.amount)}traverseMove(e){return e}traverseCommutator(e){return new i.Mk(this.traverseAlg(e.A),this.traverseAlg(e.B))}traverseConjugate(e){return new i.Mk(this.traverseAlg(e.A),this.traverseAlg(e.B))}traversePause(e){return e}traverseNewline(e){return e}traverseLineComment(e){return e}},Dn=new Cn,Rn=Dn.traverseAlg.bind(Dn),Nn=class{constructor(e,t){this.kpuzzle=e;const n=new kn(this.kpuzzle),r=Rn(t);this.decoration=n.traverseAlg(r),this.walker=new In(this.kpuzzle,r,this.decoration)}getAnimLeaf(e){if(this.walker.moveByIndex(e)){if(!this.walker.move)throw new Error("`this.walker.mv` missing");const e=this.walker.move;return this.walker.back?e.invert():e}return null}indexToMoveStartTimestamp(e){if(this.walker.moveByIndex(e)||this.walker.i===e)return this.walker.dur;throw new Error(`Out of algorithm: index ${e}`)}indexToMovesInProgress(e){if(this.walker.moveByIndex(e)||this.walker.i===e)return this.walker.dur;throw new Error(`Out of algorithm: index ${e}`)}stateAtIndex(e,t){return this.walker.moveByIndex(e),(t??this.kpuzzle.startState()).applyTransformation(this.walker.st)}transformationAtIndex(e){return this.walker.moveByIndex(e),this.walker.st}numAnimatedLeaves(){return this.decoration.moveCount}timestampToIndex(e){return this.walker.moveByDuration(e),this.walker.i}algDuration(){return this.decoration.duration}moveDuration(e){return this.walker.moveByIndex(e),this.walker.moveDuration}},Pn=class extends r.Rs{derive(e){switch(e.indexerConstructorRequest){case"auto":return u(e.alg.alg)<100&&"3x3x3"===e.puzzle&&"Cube3D"===e.visualizationStrategy?Mn:Nn;case"tree":return Nn;case"simple":return fn;case"simultaneous":return Mn;default:throw new Error("Invalid indexer request!")}}},On=class extends r.C0{getDefaultValue(){return"auto"}},Un=class extends r.Rs{derive(e){return new e.indexerConstructor(e.kpuzzle,e.algWithIssues.alg)}},jn=class extends r.Rs{derive(e){return{state:e.state,movesInProgress:e.currentMoveInfo.currentMoves}}},_n=class extends r.Rs{derive(e){return e.alg.issues.errors.length>0?null:u(e.alg.alg)}},Fn=!0,Bn=class extends r.Rs{async derive(e){try{return Fn&&e.kpuzzle.algToTransformation(e.algWithIssues.alg),e.algWithIssues}catch(t){return{alg:new i.g9,issues:new tn({errors:[`Invalid alg for puzzle: ${t.toString()}`]})}}}},Wn=class extends r.C0{getDefaultValue(){return"start"}},qn=class extends r.C0{getDefaultValue(){return null}},Vn=class extends r.Rs{async derive(e){return e.puzzleLoader.kpuzzle()}},Kn=class extends r.C0{getDefaultValue(){return r.Nj}},Gn=class extends r.Rs{async derive(e){return e.puzzleLoader.id}},Yn=class extends r.C0{getDefaultValue(){return r.Nj}},Hn=class extends r.Rs{derive(e){if(e.puzzleIDRequest&&e.puzzleIDRequest!==r.Nj){const t=m.$F[e.puzzleIDRequest];return t||this.userVisibleErrorTracker.set({errors:[`Invalid puzzle ID: ${e.puzzleIDRequest}`]}),t}return e.puzzleDescriptionRequest&&e.puzzleDescriptionRequest!==r.Nj?(0,m.xe)(e.puzzleDescriptionRequest):m.K3}},$n=class extends r.Rs{derive(e){return{playing:e.playingInfo.playing,atStart:e.detailedTimelineInfo.atStart,atEnd:e.detailedTimelineInfo.atEnd}}canReuseValue(e,t){return e.playing===t.playing&&e.atStart===t.atStart&&e.atEnd===t.atEnd}},Qn=class extends r.Rs{constructor(){super(...arguments),(0,g.Ko)(this,En)}derive(e){let t=(0,g.U9)(this,En,An).call(this,e),n=!1,r=!1;return t>=e.timeRange.end&&(r=!0,t=Math.min(e.timeRange.end,t)),t<=e.timeRange.start&&(n=!0,t=Math.max(e.timeRange.start,t)),{timestamp:t,timeRange:e.timeRange,atStart:n,atEnd:r}}canReuse(e,t){return e.timestamp===t.timestamp&&e.timeRange.start===t.timeRange.start&&e.timeRange.end===t.timeRange.end&&e.atStart===t.atStart&&e.atEnd===t.atEnd}};En=new WeakSet,An=function(e){switch(e.timestampRequest){case"start":return e.timeRange.start;case"end":return e.timeRange.end;case"anchor":return"start"===e.setupAnchor?e.timeRange.start:e.timeRange.end;case"opposite-anchor":return"start"===e.setupAnchor?e.timeRange.end:e.timeRange.start;default:return e.timestampRequest}};var Jn=class extends r.q7{async getDefaultValue(){return{direction:1,playing:!1,untilBoundary:"entire-timeline",loop:!1}}async derive(e,t){const n=await t,r=Object.assign({},n);return Object.assign(r,e),r}canReuseValue(e,t){return e.direction===t.direction&&e.playing===t.playing&&e.untilBoundary===t.untilBoundary&&e.loop===t.loop}},Xn=class extends r.q7{getDefaultValue(){return 1}derive(e){return e<0?1:e}},Zn={start:!0,end:!0,anchor:!0,"opposite-anchor":!0},er=class extends r.C0{getDefaultValue(){return"opposite-anchor"}set(e){this.validInput(e)&&super.set(e)}validInput(e){return"number"===typeof e||!!Zn[e]}},tr={none:!0,"side-by-side":!0,"top-right":!0},nr=class extends r.C0{getDefaultValue(){return"auto"}},rr=class extends r.Rs{derive(e){return{start:0,end:e.indexer.algDuration()}}},ir=class extends r.C0{getDefaultValue(){return"auto"}},sr=class extends r.C0{getDefaultValue(){return"auto"}},or=class extends r.Rs{derive(e){switch(e.puzzleID){case"clock":case"square1":case"kilominx":case"redi_cube":return"2D";case"3x3x3":switch(e.visualizationRequest){case"auto":case"3D":return"Cube3D";default:return e.visualizationRequest}default:switch(e.visualizationRequest){case"auto":case"3D":return"PG3D";case"experimental-2D-LL":return"2D";default:return e.visualizationRequest}}}},ar=class extends r.C0{getDefaultValue(){return"auto"}},lr=null;async function cr(){return lr??(lr=new(await r.v6).TextureLoader)}var ur=class extends r.Rs{async derive(e){const{spriteURL:t}=e;return null===t?null:new Promise((async(e,n)=>{const r=()=>{console.warn("Could not load sprite:",t.toString()),e(null)};try{(await cr()).load(t.toString(),e,r,r)}catch(i){r()}}))}},hr=class extends r.C0{getDefaultValue(){return"auto"}},dr=class extends r.C0{getDefaultValue(){return"auto"}},pr=class extends r.C0{getDefaultValue(){return"auto"}},fr=35,mr=class extends r.C0{getDefaultValue(){return fr}};function gr(e,t){return e.latitude===t.latitude&&e.longitude===t.longitude&&e.distance===t.distance}var vr=class extends r.q7{getDefaultValue(){return"auto"}canReuseValue(e,t){return e===t||gr(e,t)}async derive(e,t){if("auto"===e)return"auto";let n=await t;"auto"===n&&(n={});const r=Object.assign({},n);return Object.assign(r,e),"undefined"!==typeof r.latitude&&(r.latitude=Math.min(Math.max(r.latitude,-90),90)),"undefined"!==typeof r.longitude&&(r.longitude=b(r.longitude,360,180)),r}},wr=class extends r.Rs{canReuseValue(e,t){return gr(e,t)}async derive(e){if("auto"===e.orbitCoordinatesRequest)return kr(e.puzzleID,e.strategy);const t=Object.assign(Object.assign({},kr(e.puzzleID,e.strategy),e.orbitCoordinatesRequest));if(Math.abs(t.latitude)<=e.latitudeLimit)return t;{const{latitude:n,longitude:r,distance:i}=t;return{latitude:e.latitudeLimit*Math.sign(n),longitude:r,distance:i}}}},yr={latitude:31.717474411461005,longitude:0,distance:5.877852522924731},xr={latitude:35,longitude:30,distance:6},br={latitude:35,longitude:30,distance:6.25},Mr={latitude:Math.atan(.5)*r.g8,longitude:0,distance:6.7},Sr={latitude:26.56505117707799,longitude:0,distance:6};function kr(e,t){if("x"===e[1])return"Cube3D"===t?xr:br;switch(e){case"megaminx":case"gigaminx":return Mr;case"pyraminx":case"master_tetraminx":return Sr;case"skewb":return br;default:return yr}}var zr=class{constructor(e){this.twistyPlayerModel=e,this.background=new pr,this.dragInput=new hr,this.foundationDisplay=new ar,this.foundationStickerSpriteURL=new en,this.hintFacelet=new r.Hp,this.hintStickerSpriteURL=new en,this.latitudeLimit=new mr,this.movePressInput=new dr,this.orbitCoordinatesRequest=new vr,this.stickering=new r.vw,this.foundationStickerSprite=new ur({spriteURL:this.foundationStickerSpriteURL}),this.hintStickerSprite=new ur({spriteURL:this.hintStickerSpriteURL}),this.orbitCoordinates=new wr({orbitCoordinatesRequest:this.orbitCoordinatesRequest,latitudeLimit:this.latitudeLimit,puzzleID:e.puzzleID,strategy:e.visualizationStrategy})}},Ir={errors:[]},Tr=class extends r.C0{getDefaultValue(){return Ir}reset(){this.set(this.getDefaultValue())}canReuseValue(e,t){return y(e.errors,t.errors)}},Lr=class{constructor(){this.userVisibleErrorTracker=new Tr,this.alg=new sn,this.backView=new nr,this.controlPanel=new C,this.catchUpMove=new ln,this.indexerConstructorRequest=new On,this.playingInfo=new Jn,this.puzzleDescriptionRequest=new Kn,this.puzzleIDRequest=new Yn,this.setupAnchor=new Wn,this.setupAlg=new sn,this.setupTransformation=new qn,this.tempoScale=new Xn,this.timestampRequest=new er,this.viewerLink=new ir,this.visualizationFormat=new sr,this.title=new Zt,this.videoURL=new en,this.competitionID=new Zt,this.puzzleLoader=new Hn({puzzleIDRequest:this.puzzleIDRequest,puzzleDescriptionRequest:this.puzzleDescriptionRequest},this.userVisibleErrorTracker),this.kpuzzle=new Vn({puzzleLoader:this.puzzleLoader}),this.puzzleID=new Gn({puzzleLoader:this.puzzleLoader}),this.puzzleAlg=new Bn({algWithIssues:this.alg,kpuzzle:this.kpuzzle}),this.puzzleSetupAlg=new Bn({algWithIssues:this.setupAlg,kpuzzle:this.kpuzzle}),this.visualizationStrategy=new or({visualizationRequest:this.visualizationFormat,puzzleID:this.puzzleID}),this.indexerConstructor=new Pn({alg:this.alg,puzzle:this.puzzleID,visualizationStrategy:this.visualizationStrategy,indexerConstructorRequest:this.indexerConstructorRequest}),this.moveCount=new _n({alg:this.puzzleAlg}),this.setupAlgTransformation=new on({setupAlg:this.puzzleSetupAlg,kpuzzle:this.kpuzzle}),this.indexer=new Un({indexerConstructor:this.indexerConstructor,algWithIssues:this.puzzleAlg,kpuzzle:this.kpuzzle}),this.anchorTransformation=new an({setupTransformation:this.setupTransformation,setupAnchor:this.setupAnchor,setupAlgTransformation:this.setupAlgTransformation,indexer:this.indexer}),this.timeRange=new rr({indexer:this.indexer}),this.detailedTimelineInfo=new Qn({timestampRequest:this.timestampRequest,timeRange:this.timeRange,setupAnchor:this.setupAnchor}),this.coarseTimelineInfo=new $n({detailedTimelineInfo:this.detailedTimelineInfo,playingInfo:this.playingInfo}),this.currentMoveInfo=new un({indexer:this.indexer,detailedTimelineInfo:this.detailedTimelineInfo,catchUpMove:this.catchUpMove}),this.buttonAppearance=new Dt({coarseTimelineInfo:this.coarseTimelineInfo,viewerLink:this.viewerLink}),this.currentLeavesSimplified=new cn({currentMoveInfo:this.currentMoveInfo}),this.currentState=new hn({anchoredStart:this.anchorTransformation,currentLeavesSimplified:this.currentLeavesSimplified,indexer:this.indexer}),this.legacyPosition=new jn({currentMoveInfo:this.currentMoveInfo,state:this.currentState}),this.twistySceneModel=new zr(this)}async twizzleLink(){const[e,t,n,i,s,o,a]=await Promise.all([this.viewerLink.get(),this.puzzleID.get(),this.puzzleDescriptionRequest.get(),this.alg.get(),this.setupAlg.get(),this.setupAnchor.get(),this.twistySceneModel.stickering.get()]),l="experimental-twizzle-explorer"===e;console.log({isExplorer:l,viewerLink:e});const c=new URL(`https://alpha.twizzle.net/${l?"explore":"edit"}/`);return i.alg.experimentalIsEmpty()||c.searchParams.set("alg",i.alg.toString()),s.alg.experimentalIsEmpty()||c.searchParams.set("setup-alg",s.alg.toString()),"start"!==o&&c.searchParams.set("setup-anchor",o),"full"!==a&&c.searchParams.set("experimental-stickering",a),l&&n!==r.Nj?c.searchParams.set("puzzle-description",n):"3x3x3"!==t&&c.searchParams.set("puzzle",t),c.toString()}experimentalAddMove(e,t={}){const n="string"===typeof e?new i.A6(e):e;(async()=>{const e=(await this.alg.get()).alg,r=(0,i.qi)(e,n,{coalesce:t?.coalesce,mod:t?.mod});this.alg.set(r),this.timestampRequest.set("end"),this.catchUpMove.set({move:n,amount:0})})()}get playingInfoProp(){return console.warn("Using deprecated prop: `playingInfoProp`. Please switch to: `playingInfo`"),this.playingInfo}};function Er(e){return new Error(`Cannot get \`.${e}\` directly from a \`TwistyPlayer\`.`)}var Ar,Cr,Dr,Rr,Nr,Pr,Or,Ur,jr,_r=class extends U{constructor(){super(...arguments),this.experimentalModel=new Lr,this.experimentalGet=new Fr(this.experimentalModel)}set alg(e){this.experimentalModel.alg.set(e)}get alg(){throw Er("alg")}set experimentalSetupAlg(e){this.experimentalModel.setupAlg.set(e)}get experimentalSetupAlg(){throw Er("setup")}set experimentalSetupAnchor(e){this.experimentalModel.setupAnchor.set(e)}get experimentalSetupAnchor(){throw Er("anchor")}set puzzle(e){this.experimentalModel.puzzleIDRequest.set(e)}get puzzle(){throw Er("puzzle")}set experimentalPuzzleDescription(e){this.experimentalModel.puzzleDescriptionRequest.set(e)}get experimentalPuzzleDescription(){throw Er("experimentalPuzzleDescription")}set timestamp(e){this.experimentalModel.timestampRequest.set(e)}get timestamp(){throw Er("timestamp")}set hintFacelets(e){this.experimentalModel.twistySceneModel.hintFacelet.set(e)}get hintFacelets(){throw Er("hintFacelets")}set experimentalStickering(e){this.experimentalModel.twistySceneModel.stickering.set(e)}get experimentalStickering(){throw Er("stickering")}set backView(e){this.experimentalModel.backView.set(e)}get backView(){throw Er("backView")}set background(e){this.experimentalModel.twistySceneModel.background.set(e)}get background(){throw Er("background")}set controlPanel(e){this.experimentalModel.controlPanel.set(e)}get controlPanel(){throw Er("controlPanel")}set visualization(e){this.experimentalModel.visualizationFormat.set(e)}get visualization(){throw Er("visualization")}set experimentalTitle(e){this.experimentalModel.title.set(e)}get experimentalTitle(){throw Er("experimentalTitle")}set experimentalVideoURL(e){this.experimentalModel.videoURL.set(e)}get experimentalVideoURL(){throw Er("experimentalVideoURL")}set experimentalCompetitionID(e){this.experimentalModel.competitionID.set(e)}get experimentalCompetitionID(){throw Er("experimentalCompetitionID")}set viewerLink(e){this.experimentalModel.viewerLink.set(e)}get viewerLink(){throw Er("viewerLink")}set experimentalMovePressInput(e){this.experimentalModel.twistySceneModel.movePressInput.set(e)}get experimentalMovePressInput(){throw Er("experimentalMovePressInput")}set cameraLatitude(e){this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({latitude:e})}get cameraLatitude(){throw Er("cameraLatitude")}set cameraLongitude(e){this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({longitude:e})}get cameraLongitude(){throw Er("cameraLongitude")}set cameraDistance(e){this.experimentalModel.twistySceneModel.orbitCoordinatesRequest.set({distance:e})}get cameraDistance(){throw Er("cameraDistance")}set cameraLatitudeLimit(e){this.experimentalModel.twistySceneModel.latitudeLimit.set(e)}get cameraLatitudeLimit(){throw Er("cameraLatitudeLimit")}set indexer(e){this.experimentalModel.indexerConstructorRequest.set(e)}get indexer(){throw Er("indexer")}set tempoScale(e){this.experimentalModel.tempoScale.set(e)}get tempoScale(){throw Er("tempoScale")}set experimentalSprite(e){this.experimentalModel.twistySceneModel.foundationStickerSpriteURL.set(e)}get experimentalSprite(){throw Er("experimentalSprite")}set experimentalHintSprite(e){this.experimentalModel.twistySceneModel.hintStickerSpriteURL.set(e)}get experimentalHintSprite(){throw Er("experimentalHintSprite")}set experimentalDragInput(e){this.experimentalModel.twistySceneModel.dragInput.set(e)}get experimentalDragInput(){throw Er("experimentalDragInput")}},Fr=class{constructor(e){this.model=e}async alg(){return(await this.model.alg.get()).alg}async setupAlg(){return(await this.model.setupAlg.get()).alg}puzzleID(){return this.model.puzzleID.get()}async timestamp(){return(await this.model.detailedTimelineInfo.get()).timestamp}},Br="data-",Wr={alg:"alg","experimental-setup-alg":"experimentalSetupAlg","experimental-setup-anchor":"experimentalSetupAnchor",puzzle:"puzzle","experimental-puzzle-description":"experimentalPuzzleDescription",visualization:"visualization","hint-facelets":"hintFacelets","experimental-stickering":"experimentalStickering",background:"background","control-panel":"controlPanel","back-view":"backView","viewer-link":"viewerLink","experimental-move-press-input":"experimentalMovePressInput","experimental-drag-input":"experimentalDragInput","experimental-title":"experimentalTitle","experimental-video-url":"experimentalVideoURL","experimental-competition-id":"experimentalCompetitionID","camera-latitude":"cameraLatitude","camera-longitude":"cameraLongitude","camera-distance":"cameraDistance","camera-latitude-limit":"cameraLatitudeLimit","tempo-scale":"tempoScale","experimental-sprite":"experimentalSprite","experimental-hint-sprite":"experimentalHintSprite"},qr=Object.fromEntries(Object.values(Wr).map((e=>[e,!0]))),Vr=class extends _r{constructor(e={}){super(),(0,g.Ko)(this,Ur),this.controller=new E(this.experimentalModel,this),this.experimentalCanvasClickCallback=()=>{},(0,g.Ko)(this,Ar,new ie(this,"controls-",["auto"].concat(Object.keys(A)))),(0,g.Ko)(this,Cr,document.createElement("div")),(0,g.Ko)(this,Dr,document.createElement("div")),(0,g.Ko)(this,Rr,!1),(0,g.Ko)(this,Nr,"auto"),(0,g.Ko)(this,Pr,null),(0,g.Ko)(this,Or,null);for(const[t,n]of Object.entries(e)){if(!qr[t]){console.warn(`Invalid config passed to TwistyPlayer: ${t}`);break}this[t]=n}}async connectedCallback(){if((0,g.ac)(this,Rr))return;(0,g.qx)(this,Rr,!0),this.addCSS(Xt),this.addElement((0,g.ac)(this,Cr)).classList.add("visualization-wrapper"),this.addElement((0,g.ac)(this,Dr)).classList.add("error-elem"),(0,g.ac)(this,Dr).textContent="Error",this.experimentalModel.userVisibleErrorTracker.addFreshListener((e=>{const t=e.errors[0]??null;this.contentWrapper.classList.toggle("error",!!t),t&&((0,g.ac)(this,Dr).textContent=t)}));const e=new Yt(this.experimentalModel);this.contentWrapper.appendChild(e),this.buttons=new Nt(this.experimentalModel,this.controller,this),this.contentWrapper.appendChild(this.buttons),this.experimentalModel.twistySceneModel.background.addFreshListener((e=>{this.contentWrapper.classList.toggle("checkered","none"!==e)})),this.experimentalModel.controlPanel.addFreshListener((e=>{(0,g.ac)(this,Ar).setValue(e)})),this.experimentalModel.visualizationStrategy.addFreshListener((0,g.U9)(this,Ur,jr).bind(this)),this.experimentalModel.puzzleID.addFreshListener(this.flash.bind(this))}experimentalSetFlashLevel(e){(0,g.qx)(this,Nr,e)}flash(){"auto"===(0,g.ac)(this,Nr)&&(0,g.ac)(this,Pr)?.animate([{opacity:.25},{opacity:1}],{duration:250,easing:"ease-out"})}async experimentalCurrentCanvases(){this.connectedCallback();const e=(0,g.ac)(this,Pr),t=[];if(e instanceof xt){const n=e.experimentalVantages();for(const e of n)t.push((await e.canvasInfo()).canvas)}return t}async experimentalPG3D(){this.connectedCallback();(0,g.ac)(this,Pr);return null}jumpToStart(e){this.controller.jumpToStart(e)}jumpToEnd(e){this.controller.jumpToEnd(e)}play(){this.controller.togglePlay(!0)}pause(){this.controller.togglePlay(!1)}togglePlay(e){this.controller.togglePlay(e)}experimentalAddMove(e,t={}){this.experimentalModel.experimentalAddMove(e,t)}static get observedAttributes(){const e=[];for(const t of Object.keys(Wr))e.push(t,Br+t);return e}attributeChangedCallback(e,t,n){e.startsWith("data-")&&(e=e.slice("data-".length));const r=Wr[e];r&&(this[r]=n)}async experimentalScreenshot(e){return(await $t(this.experimentalModel,e)).dataURL}async experimentalDownloadScreenshot(e){if(["2D","experimental-2D-LL"].includes(await this.experimentalModel.visualizationStrategy.get())){const t=(0,g.ac)(this,Pr),n=await t.currentTwisty2DPuzzleWrapper().twisty2DPuzzle(),r=(new XMLSerializer).serializeToString(n.svg.element),i=URL.createObjectURL(new Blob([r]));Jt(i,e??await Qt(this.experimentalModel),"svg")}else await(await $t(this.experimentalModel)).download(e)}};Ar=new WeakMap,Cr=new WeakMap,Dr=new WeakMap,Rr=new WeakMap,Nr=new WeakMap,Pr=new WeakMap,Or=new WeakMap,Ur=new WeakSet,jr=function(e){if(e!==(0,g.ac)(this,Or)){let t;switch((0,g.ac)(this,Pr)?.remove(),(0,g.ac)(this,Pr)?.disconnect(),e){case"2D":case"experimental-2D-LL":t=new te(this.experimentalModel.twistySceneModel,e);break;case"Cube3D":case"PG3D":t=new xt(this.experimentalModel);break;default:throw new Error("Invalid visualization")}(0,g.ac)(this,Cr).appendChild(t),(0,g.qx)(this,Pr,t),(0,g.qx)(this,Or,e)}},R.define("twisty-player",Vr);var Kr=new O("\n:host {\n  display: inline-grid;\n}\n\na:not(:hover) {\n  color: inherit;\n  text-decoration: none;\n}\n\ntwisty-alg-leaf-elem.twisty-alg-comment {\n  color: rgba(0, 0, 0, 0.4);\n}\n\n.wrapper.current-move {\n  background: rgba(66, 133, 244, 0.3);\n  margin-left: -0.1em;\n  margin-right: -0.1em;\n  padding-left: 0.1em;\n  padding-right: 0.1em;\n  border-radius: 0.1em;\n}\n"),Gr=250,Yr=class extends U{constructor(e,t,n,r,i,s){if(super({mode:"open"}),this.algOrUnit=r,this.classList.add(e),this.addCSS(Kr),s){const e=this.contentWrapper.appendChild(document.createElement("a"));e.href="#",e.textContent=t,e.addEventListener("click",(e=>{e.preventDefault(),n.twistyAlgViewer.jumpToIndex(n.earliestMoveIndex,i)}))}else this.contentWrapper.appendChild(document.createElement("span")).textContent=t}pathToIndex(e){return[]}setCurrentMove(e){this.contentWrapper.classList.toggle("current-move",e)}};R.define("twisty-alg-leaf-elem",Yr);var Hr=class extends L{constructor(e,t){super(),this.algOrUnit=t,this.queue=[],this.classList.add(e)}addString(e){this.queue.push(document.createTextNode(e))}addElem(e){return this.queue.push(e.element),e.moveCount}flushQueue(e=1){for(const t of Jr(this.queue,e))this.append(t);this.queue=[]}pathToIndex(e){return[]}};function $r(e){return 1===e?-1:1}function Qr(e,t){return t<0?$r(e):e}function Jr(e,t){if(1===t)return e;const n=Array.from(e);return n.reverse(),n}R.define("twisty-alg-wrapper-elem",Hr);var Xr,Zr,ei,ti,ni=class extends i.p5{traverseAlg(e,t){let n=0;const r=new Hr("twisty-alg-alg",e);let s=!0;for(const o of(0,i.U$)(e.units(),t.direction))s||r.addString(" "),s=!1,n+=r.addElem(this.traverseUnit(o,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction}));return r.flushQueue(t.direction),{moveCount:n,element:r}}traverseGrouping(e,t){const n=e.experimentalAsSquare1Tuple(),r=Qr(t.direction,e.amount);let i=0;const s=new Hr("twisty-alg-grouping",e);return s.addString("("),n?(i+=s.addElem({moveCount:1,element:new Yr("twisty-alg-move",n[0].amount.toString(),t,n[0],!0,!0)}),s.addString(", "),i+=s.addElem({moveCount:1,element:new Yr("twisty-alg-move",n[1].amount.toString(),t,n[1],!0,!0)})):i+=s.addElem(this.traverseAlg(e.alg,{earliestMoveIndex:t.earliestMoveIndex+i,twistyAlgViewer:t.twistyAlgViewer,direction:r})),s.addString(")"+e.experimentalRepetitionSuffix),s.flushQueue(),{moveCount:i*Math.abs(e.amount),element:s}}traverseMove(e,t){const n=new Yr("twisty-alg-move",e.toString(),t,e,!0,!0);return t.twistyAlgViewer.highlighter.addMove(e.startCharIndex,n),{moveCount:1,element:n}}traverseCommutator(e,t){let n=0;const r=new Hr("twisty-alg-commutator",e);r.addString("["),r.flushQueue();const[i,s]=Jr([e.A,e.B],t.direction);return n+=r.addElem(this.traverseAlg(i,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction})),r.addString(", "),n+=r.addElem(this.traverseAlg(s,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction})),r.flushQueue(t.direction),r.addString("]"),r.flushQueue(),{moveCount:2*n,element:r}}traverseConjugate(e,t){let n=0;const r=new Hr("twisty-alg-conjugate",e);r.addString("[");const i=r.addElem(this.traverseAlg(e.A,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction}));return n+=i,r.addString(": "),n+=r.addElem(this.traverseAlg(e.B,{earliestMoveIndex:t.earliestMoveIndex+n,twistyAlgViewer:t.twistyAlgViewer,direction:t.direction})),r.addString("]"),r.flushQueue(),{moveCount:n+i,element:r}}traversePause(e,t){return{moveCount:1,element:new Yr("twisty-alg-pause",".",t,e,!0,!0)}}traverseNewline(e,t){const n=new Hr("twisty-alg-newline",e);return n.append(document.createElement("br")),{moveCount:0,element:n}}traverseLineComment(e,t){return{moveCount:0,element:new Yr("twisty-alg-line-comment",`//${e.text}`,t,e,!1,!1)}}},ri=new ni,ii=ri.traverseAlg.bind(ri),si=class{constructor(){this.moveCharIndexMap=new Map,this.currentElem=null}addMove(e,t){this.moveCharIndexMap.set(e,t)}set(e){const t=e?this.moveCharIndexMap.get(e.startCharIndex)??null:null;this.currentElem!==t&&(this.currentElem?.classList.remove("twisty-alg-current-move"),this.currentElem?.setCurrentMove(!1),t?.classList.add("twisty-alg-current-move"),t?.setCurrentMove(!0),this.currentElem=t)}},oi=class extends L{constructor(e){super(),(0,g.Ko)(this,ei),this.highlighter=new si,(0,g.Ko)(this,Xr,void 0),(0,g.Ko)(this,Zr,null),this.lastClickTimestamp=null,e?.twistyPlayer&&(this.twistyPlayer=e?.twistyPlayer)}connectedCallback(){}setAlg(e){(0,g.qx)(this,Xr,ii(e,{earliestMoveIndex:0,twistyAlgViewer:this,direction:1}).element),this.textContent="",this.appendChild((0,g.ac)(this,Xr))}get twistyPlayer(){return(0,g.ac)(this,Zr)}set twistyPlayer(e){(0,g.U9)(this,ei,ti).call(this,e)}async jumpToIndex(e,t){const n=(0,g.ac)(this,Zr);if(n){n.pause();const r=(async()=>{const r=await n.experimentalModel.indexer.get(),i=t?Gr:0;return(r.indexToMoveStartTimestamp(e)??-i)+i})();n.experimentalModel.timestampRequest.set(await r),this.lastClickTimestamp===await r?(n.play(),this.lastClickTimestamp=null):this.lastClickTimestamp=await r}}async attributeChangedCallback(e,t,n){if("for"===e){const e=document.getElementById(n);if(!e)return void console.warn("for= elem does not exist");if(await customElements.whenDefined("twisty-player"),!(e instanceof Vr))return void console.warn("for= elem is not a twisty-player");this.twistyPlayer=e}}static get observedAttributes(){return["for"]}};Xr=new WeakMap,Zr=new WeakMap,ei=new WeakSet,ti=async function(e){if((0,g.ac)(this,Zr))return void console.warn("twisty-player reassignment is not supported");if(null===e)throw new Error("clearing twistyPlayer is not supported");(0,g.qx)(this,Zr,e),(0,g.ac)(this,Zr).experimentalModel.alg.addFreshListener((e=>{this.setAlg(e.alg)}));const t=(await(0,g.ac)(this,Zr).experimentalModel.alg.get()).alg,n="startCharIndex"in t?t:i.g9.fromString(t.toString());this.setAlg(n),e.experimentalModel.currentMoveInfo.addFreshListener((e=>{let t=e.currentMoves[0];if(t??(t=e.movesStarting[0]),t??(t=e.movesFinishing[0]),t){const e=t.move;this.highlighter.set(e)}else this.highlighter.set(null)})),e.experimentalModel.detailedTimelineInfo.addFreshListener((e=>{e.timestamp!==this.lastClickTimestamp&&(this.lastClickTimestamp=null)}))},R.define("twisty-alg-viewer",oi);var ai,li,ci,ui,hi,di,pi,fi,mi,gi,vi,wi,yi,xi,bi=class extends i.p5{traverseAlg(e,t){const n=[];let r=0;for(const i of e.units()){const e=this.traverseUnit(i,{numMovesSofar:t.numMovesSofar+r});n.push(e.tokens),r+=e.numLeavesInside}return{tokens:Array.prototype.concat(...n),numLeavesInside:r}}traverseGrouping(e,t){const n=this.traverseAlg(e.alg,t);return{tokens:n.tokens,numLeavesInside:n.numLeavesInside*e.amount}}traverseMove(e,t){return{tokens:[{leaf:e,idx:t.numMovesSofar}],numLeavesInside:1}}traverseCommutator(e,t){const n=this.traverseAlg(e.A,t),r=this.traverseAlg(e.B,{numMovesSofar:t.numMovesSofar+n.numLeavesInside});return{tokens:n.tokens.concat(r.tokens),numLeavesInside:2*n.numLeavesInside+r.numLeavesInside}}traverseConjugate(e,t){const n=this.traverseAlg(e.A,t),r=this.traverseAlg(e.B,{numMovesSofar:t.numMovesSofar+n.numLeavesInside});return{tokens:n.tokens.concat(r.tokens),numLeavesInside:2*n.numLeavesInside+2*r.numLeavesInside}}traversePause(e,t){return{tokens:[{leaf:e,idx:t.numMovesSofar}],numLeavesInside:1}}traverseNewline(e,t){return{tokens:[],numLeavesInside:0}}traverseLineComment(e,t){return{tokens:[],numLeavesInside:0}}},Mi=new bi,Si=Mi.traverseAlg.bind(Mi),ki=class extends r.C0{getDefaultValue(){return""}},zi=class extends r.Rs{derive(e){return nn(e.value)}},Ii=class extends r.q7{getDefaultValue(){return{selectionStart:0,selectionEnd:0,endChangedMostRecently:!1}}async derive(e,t){const{selectionStart:n,selectionEnd:r}=e,i=await t,s=e.selectionStart===i.selectionStart&&e.selectionEnd!==(await t).selectionEnd;return{selectionStart:n,selectionEnd:r,endChangedMostRecently:s}}},Ti=class extends r.Rs{derive(e){return e.selectionInfo.endChangedMostRecently?e.selectionInfo.selectionEnd:e.selectionInfo.selectionStart}},Li=class extends r.Rs{derive(e){return Si(e.algWithIssues.alg,{numMovesSofar:0}).tokens}},Ei=class extends r.Rs{derive(e){function t(t){if(null===t)return null;let n;return n=e.targetChar<t.leaf.startCharIndex?"before":e.targetChar===t.leaf.startCharIndex?"start":e.targetChar<t.leaf.endCharIndex?"inside":e.targetChar===t.leaf.endCharIndex?"end":"after",{leafInfo:t,where:n}}let n=null;for(const r of e.leafTokens){if(e.targetChar<r.leaf.startCharIndex&&null!==n)return t(n);if(e.targetChar<=r.leaf.endCharIndex)return t(r);n=r}return t(n)}},Ai=class{constructor(){this.valueProp=new ki,this.selectionProp=new Ii,this.targetCharProp=new Ti({selectionInfo:this.selectionProp}),this.algEditorAlgWithIssues=new zi({value:this.valueProp}),this.leafTokensProp=new Li({algWithIssues:this.algEditorAlgWithIssues}),this.leafToHighlight=new Ei({leafTokens:this.leafTokensProp,targetChar:this.targetCharProp})}},Ci=new O("\n:host {\n  width: 384px;\n  display: grid;\n}\n\n.wrapper {\n  /*overflow: hidden;\n  resize: horizontal;*/\n\n  background: var(--background, none);\n  display: grid;\n}\n\ntextarea, .carbon-copy {\n  grid-area: 1 / 1 / 2 / 2;\n\n  width: 100%;\n  font-family: sans-serif;\n  line-height: 1.2em;\n\n  font-size: var(--font-size, inherit);\n  font-family: var(--font-family, sans-serif);\n\n  box-sizing: border-box;\n\n  padding: var(--padding, 0.5em);\n  /* Prevent horizontal growth. */\n  overflow-x: hidden;\n}\n\ntextarea {\n  resize: none;\n  background: none;\n  z-index: 2;\n  overflow: hidden;\n  border: 1px solid var(--border-color, rgba(0, 0, 0, 0.25));\n}\n\n.carbon-copy {\n  white-space: pre-wrap;\n  word-wrap: break-word;\n  color: transparent;\n  user-select: none;\n  pointer-events: none;\n\n  z-index: 1;\n}\n\n.carbon-copy .highlight {\n  background: var(--highlight-color, rgba(255, 128, 0, 0.5));\n  padding: 0.1em 0.2em;\n  margin: -0.1em -0.2em;\n  border-radius: 0.2em;\n}\n\n.wrapper.issue-warning textarea,\n.wrapper.valid-for-puzzle-warning textarea {\n  outline: none;\n  border: 1px solid rgba(200, 200, 0, 0.5);\n  background: rgba(255, 255, 0, 0.1);\n}\n\n.wrapper.issue-error textarea,\n.wrapper.valid-for-puzzle-error textarea {\n  outline: none;\n  border: 1px solid red;\n  background: rgba(255, 0, 0, 0.1);\n}\n"),Di="for-twisty-player",Ri="placeholder",Ni="twisty-player-prop",Pi=class extends U{constructor(e){super(),(0,g.Ko)(this,mi),(0,g.Ko)(this,wi),this.model=new Ai,(0,g.Ko)(this,ai,document.createElement("textarea")),(0,g.Ko)(this,li,document.createElement("div")),(0,g.Ko)(this,ci,document.createElement("span")),(0,g.Ko)(this,ui,document.createElement("span")),(0,g.Ko)(this,hi,document.createElement("span")),(0,g.Ko)(this,di,new ie(this,"valid-for-puzzle-",["none","warning","error"])),(0,g.Ko)(this,pi,null),(0,g.Ko)(this,fi,void 0),this.debugNeverRequestTimestamp=!1,(0,g.Ko)(this,vi,!1),(0,g.Ko)(this,xi,null),(0,g.ac)(this,li).classList.add("carbon-copy"),this.addElement((0,g.ac)(this,li)),(0,g.ac)(this,ai).rows=1,this.addElement((0,g.ac)(this,ai)),(0,g.ac)(this,ci).classList.add("prefix"),(0,g.ac)(this,li).appendChild((0,g.ac)(this,ci)),(0,g.ac)(this,ui).classList.add("highlight"),(0,g.ac)(this,li).appendChild((0,g.ac)(this,ui)),(0,g.ac)(this,hi).classList.add("suffix"),(0,g.ac)(this,li).appendChild((0,g.ac)(this,hi)),(0,g.ac)(this,ai).placeholder="Alg",(0,g.ac)(this,ai).setAttribute("spellcheck","false"),this.addCSS(Ci),(0,g.ac)(this,ai).addEventListener("input",(()=>{(0,g.qx)(this,vi,!0),this.onInput()})),(0,g.ac)(this,ai).addEventListener("blur",(()=>this.onBlur())),document.addEventListener("selectionchange",(()=>this.onSelectionChange())),e?.twistyPlayer&&(this.twistyPlayer=e.twistyPlayer),(0,g.qx)(this,fi,e?.twistyPlayerProp??"alg"),"alg"===e?.twistyPlayerProp&&this.model.leafToHighlight.addFreshListener((e=>{e&&this.highlightLeaf(e.leafInfo.leaf)}))}set algString(e){(0,g.ac)(this,ai).value=e,this.onInput()}get algString(){return(0,g.ac)(this,ai).value}set placeholder(e){(0,g.ac)(this,ai).placeholder=e}onInput(){(0,g.ac)(this,ui).hidden=!0,this.highlightLeaf(null);const e=(0,g.ac)(this,ai).value.trimEnd();this.model.valueProp.set(e),(0,g.ac)(this,mi,gi)?.set(e)}async onSelectionChange(){if(document.activeElement!==this||this.shadow.activeElement!==(0,g.ac)(this,ai))return;if("alg"!==(0,g.ac)(this,fi))return;const{selectionStart:e,selectionEnd:t}=(0,g.ac)(this,ai);this.model.selectionProp.set({selectionStart:e,selectionEnd:t})}async onBlur(){}setAlgIssueClassForPuzzle(e){(0,g.ac)(this,di).setValue(e)}highlightLeaf(e){if("alg"===(0,g.ac)(this,fi))return null===e?((0,g.ac)(this,ci).textContent="",(0,g.ac)(this,ui).textContent="",void((0,g.ac)(this,hi).textContent=(0,g.U9)(this,wi,yi).call(this,(0,g.ac)(this,ai).value))):void(e!==(0,g.ac)(this,xi)&&((0,g.qx)(this,xi,e),(0,g.ac)(this,ci).textContent=(0,g.ac)(this,ai).value.slice(0,e.startCharIndex),(0,g.ac)(this,ui).textContent=(0,g.ac)(this,ai).value.slice(e.startCharIndex,e.endCharIndex),(0,g.ac)(this,hi).textContent=(0,g.U9)(this,wi,yi).call(this,(0,g.ac)(this,ai).value.slice(e.endCharIndex)),(0,g.ac)(this,ui).hidden=!1))}get twistyPlayer(){return(0,g.ac)(this,pi)}set twistyPlayer(e){(0,g.ac)(this,pi)?console.warn("twisty-player reassignment/clearing is not supported"):((0,g.qx)(this,pi,e),e&&((async()=>{this.algString=(0,g.ac)(this,mi,gi)?(await(0,g.ac)(this,mi,gi).get()).alg.toString():""})(),"alg"===(0,g.ac)(this,fi)&&((0,g.ac)(this,pi)?.experimentalModel.puzzleAlg.addFreshListener((e=>{if(0===e.issues.errors.length){this.setAlgIssueClassForPuzzle(0===e.issues.warnings.length?"none":"warning");const t=e.alg,n=i.g9.fromString(this.algString);t.isIdentical(n)||(this.algString=t.toString(),this.onInput())}else this.setAlgIssueClassForPuzzle("error")})),this.model.leafToHighlight.addFreshListener((async t=>{if(null===t)return;const[n,r]=await Promise.all([await e.experimentalModel.indexer.get(),await e.experimentalModel.timestampRequest.get()]);if("opposite-anchor"===r&&!(0,g.ac)(this,vi))return;const i=n.indexToMoveStartTimestamp(t.leafInfo.idx),s=n.moveDuration(t.leafInfo.idx);let o;switch(t.where){case"before":o=i;break;case"start":case"inside":o=i+s/4;break;case"end":case"after":o=i+s;break;default:throw console.log("invalid where"),new Error("Invalid where!")}this.debugNeverRequestTimestamp||e.experimentalModel.timestampRequest.set(o)})),e.experimentalModel.currentLeavesSimplified.addFreshListener((async t=>{const n=await e.experimentalModel.indexer.get(),r=n.getAnimLeaf(t.stateIndex);this.highlightLeaf(r)})))))}attributeChangedCallback(e,t,n){switch(e){case Di:{const e=document.getElementById(n);return e?e instanceof Vr?void(this.twistyPlayer=e):void console.warn(`${Di}=is not a twisty-player`):void console.warn(`${Di}= elem does not exist`)}case Ri:return void(this.placeholder=n);case Ni:if((0,g.ac)(this,pi))throw console.log("cannot set prop"),new Error("cannot set prop after twisty player");return void(0,g.qx)(this,fi,n)}}static get observedAttributes(){return[Di,Ri,Ni]}};ai=new WeakMap,li=new WeakMap,ci=new WeakMap,ui=new WeakMap,hi=new WeakMap,di=new WeakMap,pi=new WeakMap,fi=new WeakMap,mi=new WeakSet,gi=function(){return null===(0,g.ac)(this,pi)?null:(0,g.ac)(this,pi).experimentalModel[(0,g.ac)(this,fi)]},vi=new WeakMap,wi=new WeakSet,yi=function(e){return e.endsWith("\n")?e+" ":e},xi=new WeakMap,R.define("twisty-alg-editor",Pi);var Oi=new O("\n.wrapper {\n  background: rgb(255, 245, 235);\n  display: grid;\n  grid-template-columns: 1fr;\n  border: 1px solid rgba(0, 0, 0, 0.25);\n}\n\n.setup-alg, twisty-alg-viewer {\n  padding: 0.5em 1em;\n}\n\n.heading {\n  background: rgba(255, 230, 210, 1);\n  font-weight: bold;\n  padding: 0.25em 0.5em;\n}\n\n.heading.title {\n  background: rgb(255, 245, 235);\n  font-size: 150%;\n  white-space: pre;\n}\n\ntwisty-player {\n  width: 100%;\n  resize: vertical;\n  overflow-y: hidden;\n}\n\ntwisty-player + .heading {\n  padding-top: 0.5em;\n}\n");var Ui;function ji(e="",t=location.href){const n={alg:"alg","setup-alg":"experimental-setup-alg","setup-anchor":"experimental-setup-anchor",puzzle:"puzzle",stickering:"experimental-stickering","puzzle-description":"experimental-puzzle-description",title:"experimental-title","video-url":"experimental-video-url",competition:"experimental-competition-id"},r=new URL(t).searchParams,i={};for(const[s,o]of Object.entries(n)){const t=r.get(e+s);if(null!==t){const e=Wr[o];i[e]=t}}return i}new WeakMap;var _i=class extends U{constructor(){super({mode:"open"}),this.twistyPlayer=null,this.a=null,(0,g.Ko)(this,Ui,void 0)}fallback(){if(this.contentWrapper.textContent="",this.a){const e=this.contentWrapper.appendChild(document.createElement("span"));e.textContent="❗️",e.title="Could not show a player for link",this.addElement(this.a)}(0,g.ac)(this,Ui)&&(0,g.ac)(this,Ui).remove()}async connectedCallback(){if((0,g.qx)(this,Ui,this.addCSS(Oi)),this.a=this.querySelector("a"),!this.a)return;const e=ji("",this.a.href),t=this.a?.href,{hostname:r,pathname:s}=new URL(t);if("alpha.twizzle.net"===r)if(["/edit/","/explore/"].includes(s)){const t="/explore/"===s;if(e.puzzle&&!(e.puzzle in m.$F)){const t=(await n.e(312).then(n.bind(n,6312))).getPuzzleDescriptionString(e.puzzle);delete e.puzzle,e.experimentalPuzzleDescription=t}if(this.twistyPlayer=this.addElement(new Vr({...e,viewerLink:t?"experimental-twizzle-explorer":"auto"})),e.experimentalTitle&&this.addHeading(e.experimentalTitle).classList.add("title"),e.experimentalSetupAlg){this.addHeading("Setup");const t=this.addElement(document.createElement("div"));t.classList.add("setup-alg"),t.textContent=new i.g9(e.experimentalSetupAlg).toString()}this.addHeading("Moves");const r=this.addElement(new oi({twistyPlayer:this.twistyPlayer}));r.part.add("twisty-alg-viewer")}else this.fallback();else this.fallback()}addHeading(e){const t=this.addElement(document.createElement("div"));return t.classList.add("heading"),t.textContent=e,t}};Ui=new WeakMap,R.define("twizzle-link",_i)}}]);
//# sourceMappingURL=chunk-vendors.5dfe49c8.js.map